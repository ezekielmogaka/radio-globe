(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/numberOfComponentsForType.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
/**
 * Utility function for retrieving the number of components in a given type.
 *
 * @param {string} type glTF type
 * @returns {number} The number of components in that type.
 *
 * @private
 */ function numberOfComponentsForType(type) {
    switch(type){
        case "SCALAR":
            return 1;
        case "VEC2":
            return 2;
        case "VEC3":
            return 3;
        case "VEC4":
        case "MAT2":
            return 4;
        case "MAT3":
            return 9;
        case "MAT4":
            return 16;
    }
}
const __TURBOPACK__default__export__ = numberOfComponentsForType;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/getAccessorByteStride.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$numberOfComponentsForType$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/numberOfComponentsForType.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/ComponentDatatype.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
;
;
;
/**
 * Returns the byte stride of the provided accessor.
 * If the byteStride is 0, it is calculated based on type and componentType
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @param {object} accessor The accessor.
 * @returns {number} The byte stride of the accessor.
 *
 * @private
 */ function getAccessorByteStride(gltf, accessor) {
    const bufferViewId = accessor.bufferView;
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(bufferViewId)) {
        const bufferView = gltf.bufferViews[bufferViewId];
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(bufferView.byteStride) && bufferView.byteStride > 0) {
            return bufferView.byteStride;
        }
    }
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].getSizeInBytes(accessor.componentType) * (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$numberOfComponentsForType$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.type);
}
const __TURBOPACK__default__export__ = getAccessorByteStride;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/getComponentReader.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/ComponentDatatype.js [app-client] (ecmascript)");
;
/**
 * Returns a function to read and convert data from a DataView into an array.
 *
 * @param {number} componentType Type to convert the data to.
 * @returns {ComponentReader} Function that reads and converts data.
 *
 * @private
 */ function getComponentReader(componentType) {
    switch(componentType){
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].BYTE:
            return function(dataView, byteOffset, numberOfComponents, componentTypeByteLength, result) {
                for(let i = 0; i < numberOfComponents; ++i){
                    result[i] = dataView.getInt8(byteOffset + i * componentTypeByteLength);
                }
            };
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].UNSIGNED_BYTE:
            return function(dataView, byteOffset, numberOfComponents, componentTypeByteLength, result) {
                for(let i = 0; i < numberOfComponents; ++i){
                    result[i] = dataView.getUint8(byteOffset + i * componentTypeByteLength);
                }
            };
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].SHORT:
            return function(dataView, byteOffset, numberOfComponents, componentTypeByteLength, result) {
                for(let i = 0; i < numberOfComponents; ++i){
                    result[i] = dataView.getInt16(byteOffset + i * componentTypeByteLength, true);
                }
            };
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].UNSIGNED_SHORT:
            return function(dataView, byteOffset, numberOfComponents, componentTypeByteLength, result) {
                for(let i = 0; i < numberOfComponents; ++i){
                    result[i] = dataView.getUint16(byteOffset + i * componentTypeByteLength, true);
                }
            };
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].INT:
            return function(dataView, byteOffset, numberOfComponents, componentTypeByteLength, result) {
                for(let i = 0; i < numberOfComponents; ++i){
                    result[i] = dataView.getInt32(byteOffset + i * componentTypeByteLength, true);
                }
            };
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].UNSIGNED_INT:
            return function(dataView, byteOffset, numberOfComponents, componentTypeByteLength, result) {
                for(let i = 0; i < numberOfComponents; ++i){
                    result[i] = dataView.getUint32(byteOffset + i * componentTypeByteLength, true);
                }
            };
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].FLOAT:
            return function(dataView, byteOffset, numberOfComponents, componentTypeByteLength, result) {
                for(let i = 0; i < numberOfComponents; ++i){
                    result[i] = dataView.getFloat32(byteOffset + i * componentTypeByteLength, true);
                }
            };
        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].DOUBLE:
            return function(dataView, byteOffset, numberOfComponents, componentTypeByteLength, result) {
                for(let i = 0; i < numberOfComponents; ++i){
                    result[i] = dataView.getFloat64(byteOffset + i * componentTypeByteLength, true);
                }
            };
    }
}
const __TURBOPACK__default__export__ = getComponentReader;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addToArray.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
/**
 * Adds an element to an array and returns the element's index.
 *
 * @param {Array} array The array to add to.
 * @param {object} element The element to add.
 * @param {boolean} [checkDuplicates=false] When <code>true</code>, if a duplicate element is found its index is returned and <code>element</code> is not added to the array.
 *
 * @private
 */ function addToArray(array, element, checkDuplicates) {
    checkDuplicates = checkDuplicates ?? false;
    if (checkDuplicates) {
        const index = array.indexOf(element);
        if (index > -1) {
            return index;
        }
    }
    array.push(element);
    return array.length - 1;
}
const __TURBOPACK__default__export__ = addToArray;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/usesExtension.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
;
/**
 * Checks whether the glTF uses the given extension.
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @param {string} extension The name of the extension.
 * @returns {boolean} Whether the glTF uses the given extension.
 *
 * @private
 */ function usesExtension(gltf, extension) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf.extensionsUsed) && gltf.extensionsUsed.indexOf(extension) >= 0;
}
const __TURBOPACK__default__export__ = usesExtension;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/ForEach.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/usesExtension.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
;
;
/**
 * Contains traversal functions for processing elements of the glTF hierarchy.
 * @constructor
 *
 * @private
 */ function ForEach() {}
/**
 * Fallback for glTF 1.0
 * @private
 */ ForEach.objectLegacy = function(objects, handler) {
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(objects)) {
        for(const objectId in objects){
            if (Object.prototype.hasOwnProperty.call(objects, objectId)) {
                const object = objects[objectId];
                const value = handler(object, objectId);
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                    return value;
                }
            }
        }
    }
};
/**
 * @private
 */ ForEach.object = function(arrayOfObjects, handler) {
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(arrayOfObjects)) {
        const length = arrayOfObjects.length;
        for(let i = 0; i < length; i++){
            const object = arrayOfObjects[i];
            const value = handler(object, i);
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                return value;
            }
        }
    }
};
/**
 * Supports glTF 1.0 and 2.0
 * @private
 */ ForEach.topLevel = function(gltf, name, handler) {
    const gltfProperty = gltf[name];
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltfProperty) && !Array.isArray(gltfProperty)) {
        return ForEach.objectLegacy(gltfProperty, handler);
    }
    return ForEach.object(gltfProperty, handler);
};
ForEach.accessor = function(gltf, handler) {
    return ForEach.topLevel(gltf, "accessors", handler);
};
ForEach.accessorWithSemantic = function(gltf, semantic, handler) {
    const visited = {};
    return ForEach.mesh(gltf, function(mesh) {
        return ForEach.meshPrimitive(mesh, function(primitive) {
            const valueForEach = ForEach.meshPrimitiveAttribute(primitive, function(accessorId, attributeSemantic) {
                if (attributeSemantic.indexOf(semantic) === 0 && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(visited[accessorId])) {
                    visited[accessorId] = true;
                    const value = handler(accessorId);
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                        return value;
                    }
                }
            });
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(valueForEach)) {
                return valueForEach;
            }
            return ForEach.meshPrimitiveTarget(primitive, function(target) {
                return ForEach.meshPrimitiveTargetAttribute(target, function(accessorId, attributeSemantic) {
                    if (attributeSemantic.indexOf(semantic) === 0 && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(visited[accessorId])) {
                        visited[accessorId] = true;
                        const value = handler(accessorId);
                        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                            return value;
                        }
                    }
                });
            });
        });
    });
};
ForEach.accessorContainingVertexAttributeData = function(gltf, handler) {
    const visited = {};
    return ForEach.mesh(gltf, function(mesh) {
        return ForEach.meshPrimitive(mesh, function(primitive) {
            const valueForEach = ForEach.meshPrimitiveAttribute(primitive, function(accessorId) {
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(visited[accessorId])) {
                    visited[accessorId] = true;
                    const value = handler(accessorId);
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                        return value;
                    }
                }
            });
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(valueForEach)) {
                return valueForEach;
            }
            return ForEach.meshPrimitiveTarget(primitive, function(target) {
                return ForEach.meshPrimitiveTargetAttribute(target, function(accessorId) {
                    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(visited[accessorId])) {
                        visited[accessorId] = true;
                        const value = handler(accessorId);
                        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                            return value;
                        }
                    }
                });
            });
        });
    });
};
ForEach.accessorContainingIndexData = function(gltf, handler) {
    const visited = {};
    return ForEach.mesh(gltf, function(mesh) {
        return ForEach.meshPrimitive(mesh, function(primitive) {
            const indices = primitive.indices;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(indices) && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(visited[indices])) {
                visited[indices] = true;
                const value = handler(indices);
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                    return value;
                }
            }
        });
    });
};
ForEach.animation = function(gltf, handler) {
    return ForEach.topLevel(gltf, "animations", handler);
};
ForEach.animationChannel = function(animation, handler) {
    const channels = animation.channels;
    return ForEach.object(channels, handler);
};
ForEach.animationSampler = function(animation, handler) {
    const samplers = animation.samplers;
    return ForEach.object(samplers, handler);
};
ForEach.buffer = function(gltf, handler) {
    return ForEach.topLevel(gltf, "buffers", handler);
};
ForEach.bufferView = function(gltf, handler) {
    return ForEach.topLevel(gltf, "bufferViews", handler);
};
ForEach.camera = function(gltf, handler) {
    return ForEach.topLevel(gltf, "cameras", handler);
};
ForEach.image = function(gltf, handler) {
    return ForEach.topLevel(gltf, "images", handler);
};
ForEach.material = function(gltf, handler) {
    return ForEach.topLevel(gltf, "materials", handler);
};
ForEach.materialValue = function(material, handler) {
    let values = material.values;
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(material.extensions) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(material.extensions.KHR_techniques_webgl)) {
        values = material.extensions.KHR_techniques_webgl.values;
    }
    for(const name in values){
        if (Object.prototype.hasOwnProperty.call(values, name)) {
            const value = handler(values[name], name);
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                return value;
            }
        }
    }
};
ForEach.mesh = function(gltf, handler) {
    return ForEach.topLevel(gltf, "meshes", handler);
};
ForEach.meshPrimitive = function(mesh, handler) {
    const primitives = mesh.primitives;
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(primitives)) {
        const primitivesLength = primitives.length;
        for(let i = 0; i < primitivesLength; i++){
            const primitive = primitives[i];
            const value = handler(primitive, i);
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                return value;
            }
        }
    }
};
ForEach.meshPrimitiveAttribute = function(primitive, handler) {
    const attributes = primitive.attributes;
    for(const semantic in attributes){
        if (Object.prototype.hasOwnProperty.call(attributes, semantic)) {
            const value = handler(attributes[semantic], semantic);
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                return value;
            }
        }
    }
};
ForEach.meshPrimitiveTarget = function(primitive, handler) {
    const targets = primitive.targets;
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(targets)) {
        const length = targets.length;
        for(let i = 0; i < length; ++i){
            const value = handler(targets[i], i);
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                return value;
            }
        }
    }
};
ForEach.meshPrimitiveTargetAttribute = function(target, handler) {
    for(const semantic in target){
        if (Object.prototype.hasOwnProperty.call(target, semantic)) {
            const accessorId = target[semantic];
            const value = handler(accessorId, semantic);
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                return value;
            }
        }
    }
};
ForEach.node = function(gltf, handler) {
    return ForEach.topLevel(gltf, "nodes", handler);
};
ForEach.nodeInTree = function(gltf, nodeIds, handler) {
    const nodes = gltf.nodes;
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(nodes)) {
        const length = nodeIds.length;
        for(let i = 0; i < length; i++){
            const nodeId = nodeIds[i];
            const node = nodes[nodeId];
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node)) {
                let value = handler(node, nodeId);
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                    return value;
                }
                const children = node.children;
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(children)) {
                    value = ForEach.nodeInTree(gltf, children, handler);
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                        return value;
                    }
                }
            }
        }
    }
};
ForEach.nodeInScene = function(gltf, scene, handler) {
    const sceneNodeIds = scene.nodes;
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(sceneNodeIds)) {
        return ForEach.nodeInTree(gltf, sceneNodeIds, handler);
    }
};
ForEach.program = function(gltf, handler) {
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "KHR_techniques_webgl")) {
        return ForEach.object(gltf.extensions.KHR_techniques_webgl.programs, handler);
    }
    return ForEach.topLevel(gltf, "programs", handler);
};
ForEach.sampler = function(gltf, handler) {
    return ForEach.topLevel(gltf, "samplers", handler);
};
ForEach.scene = function(gltf, handler) {
    return ForEach.topLevel(gltf, "scenes", handler);
};
ForEach.shader = function(gltf, handler) {
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "KHR_techniques_webgl")) {
        return ForEach.object(gltf.extensions.KHR_techniques_webgl.shaders, handler);
    }
    return ForEach.topLevel(gltf, "shaders", handler);
};
ForEach.skin = function(gltf, handler) {
    return ForEach.topLevel(gltf, "skins", handler);
};
ForEach.skinJoint = function(skin, handler) {
    const joints = skin.joints;
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(joints)) {
        const jointsLength = joints.length;
        for(let i = 0; i < jointsLength; i++){
            const joint = joints[i];
            const value = handler(joint);
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                return value;
            }
        }
    }
};
ForEach.techniqueAttribute = function(technique, handler) {
    const attributes = technique.attributes;
    for(const attributeName in attributes){
        if (Object.prototype.hasOwnProperty.call(attributes, attributeName)) {
            const value = handler(attributes[attributeName], attributeName);
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                return value;
            }
        }
    }
};
ForEach.techniqueUniform = function(technique, handler) {
    const uniforms = technique.uniforms;
    for(const uniformName in uniforms){
        if (Object.prototype.hasOwnProperty.call(uniforms, uniformName)) {
            const value = handler(uniforms[uniformName], uniformName);
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                return value;
            }
        }
    }
};
ForEach.techniqueParameter = function(technique, handler) {
    const parameters = technique.parameters;
    for(const parameterName in parameters){
        if (Object.prototype.hasOwnProperty.call(parameters, parameterName)) {
            const value = handler(parameters[parameterName], parameterName);
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                return value;
            }
        }
    }
};
ForEach.technique = function(gltf, handler) {
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "KHR_techniques_webgl")) {
        return ForEach.object(gltf.extensions.KHR_techniques_webgl.techniques, handler);
    }
    return ForEach.topLevel(gltf, "techniques", handler);
};
ForEach.texture = function(gltf, handler) {
    return ForEach.topLevel(gltf, "textures", handler);
};
const __TURBOPACK__default__export__ = ForEach;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addDefaults.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addToArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addToArray.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/ForEach.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$getAccessorByteStride$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/getAccessorByteStride.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/WebGLConstants.js [app-client] (ecmascript)");
;
;
;
;
;
/**
 * Adds default glTF values if they don't exist.
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @returns {object} The modified glTF.
 *
 * @private
 */ function addDefaults(gltf) {
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].accessor(gltf, function(accessor) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.bufferView)) {
            accessor.byteOffset = accessor.byteOffset ?? 0;
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].bufferView(gltf, function(bufferView) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(bufferView.buffer)) {
            bufferView.byteOffset = bufferView.byteOffset ?? 0;
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].mesh(gltf, function(mesh) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitive(mesh, function(primitive) {
            primitive.mode = primitive.mode ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].TRIANGLES;
            if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(primitive.material)) {
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf.materials)) {
                    gltf.materials = [];
                }
                const defaultMaterial = {
                    name: "default"
                };
                primitive.material = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addToArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf.materials, defaultMaterial);
            }
        });
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].accessorContainingVertexAttributeData(gltf, function(accessorId) {
        const accessor = gltf.accessors[accessorId];
        const bufferViewId = accessor.bufferView;
        accessor.normalized = accessor.normalized ?? false;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(bufferViewId)) {
            const bufferView = gltf.bufferViews[bufferViewId];
            bufferView.byteStride = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$getAccessorByteStride$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, accessor);
            bufferView.target = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].ARRAY_BUFFER;
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].accessorContainingIndexData(gltf, function(accessorId) {
        const accessor = gltf.accessors[accessorId];
        const bufferViewId = accessor.bufferView;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(bufferViewId)) {
            const bufferView = gltf.bufferViews[bufferViewId];
            bufferView.target = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].ELEMENT_ARRAY_BUFFER;
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].material(gltf, function(material) {
        const extensions = material.extensions ?? {};
        const materialsCommon = extensions.KHR_materials_common;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(materialsCommon)) {
            const technique = materialsCommon.technique;
            const values = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(materialsCommon.values) ? materialsCommon.values : {};
            materialsCommon.values = values;
            values.ambient = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(values.ambient) ? values.ambient : [
                0.0,
                0.0,
                0.0,
                1.0
            ];
            values.emission = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(values.emission) ? values.emission : [
                0.0,
                0.0,
                0.0,
                1.0
            ];
            values.transparency = values.transparency ?? 1.0;
            if (technique !== "CONSTANT") {
                values.diffuse = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(values.diffuse) ? values.diffuse : [
                    0.0,
                    0.0,
                    0.0,
                    1.0
                ];
                if (technique !== "LAMBERT") {
                    values.specular = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(values.specular) ? values.specular : [
                        0.0,
                        0.0,
                        0.0,
                        1.0
                    ];
                    values.shininess = values.shininess ?? 0.0;
                }
            }
            // These actually exist on the extension object, not the values object despite what's shown in the spec
            materialsCommon.transparent = materialsCommon.transparent ?? false;
            materialsCommon.doubleSided = materialsCommon.doubleSided ?? false;
            return;
        }
        material.emissiveFactor = material.emissiveFactor ?? [
            0.0,
            0.0,
            0.0
        ];
        material.alphaMode = material.alphaMode ?? "OPAQUE";
        material.doubleSided = material.doubleSided ?? false;
        if (material.alphaMode === "MASK") {
            material.alphaCutoff = material.alphaCutoff ?? 0.5;
        }
        const techniquesExtension = extensions.KHR_techniques_webgl;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(techniquesExtension)) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].materialValue(material, function(materialValue) {
                // Check if material value is a TextureInfo object
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(materialValue.index)) {
                    addTextureDefaults(materialValue);
                }
            });
        }
        addTextureDefaults(material.emissiveTexture);
        addTextureDefaults(material.normalTexture);
        addTextureDefaults(material.occlusionTexture);
        const pbrMetallicRoughness = material.pbrMetallicRoughness;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(pbrMetallicRoughness)) {
            pbrMetallicRoughness.baseColorFactor = pbrMetallicRoughness.baseColorFactor ?? [
                1.0,
                1.0,
                1.0,
                1.0
            ];
            pbrMetallicRoughness.metallicFactor = pbrMetallicRoughness.metallicFactor ?? 1.0;
            pbrMetallicRoughness.roughnessFactor = pbrMetallicRoughness.roughnessFactor ?? 1.0;
            addTextureDefaults(pbrMetallicRoughness.baseColorTexture);
            addTextureDefaults(pbrMetallicRoughness.metallicRoughnessTexture);
        }
        const pbrSpecularGlossiness = extensions.KHR_materials_pbrSpecularGlossiness;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(pbrSpecularGlossiness)) {
            pbrSpecularGlossiness.diffuseFactor = pbrSpecularGlossiness.diffuseFactor ?? [
                1.0,
                1.0,
                1.0,
                1.0
            ];
            pbrSpecularGlossiness.specularFactor = pbrSpecularGlossiness.specularFactor ?? [
                1.0,
                1.0,
                1.0
            ];
            pbrSpecularGlossiness.glossinessFactor = pbrSpecularGlossiness.glossinessFactor ?? 1.0;
            addTextureDefaults(pbrSpecularGlossiness.specularGlossinessTexture);
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animation(gltf, function(animation) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animationSampler(animation, function(sampler) {
            sampler.interpolation = sampler.interpolation ?? "LINEAR";
        });
    });
    const animatedNodes = getAnimatedNodes(gltf);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].node(gltf, function(node, id) {
        const animated = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(animatedNodes[id]);
        if (animated || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.translation) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.rotation) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.scale)) {
            node.translation = node.translation ?? [
                0.0,
                0.0,
                0.0
            ];
            node.rotation = node.rotation ?? [
                0.0,
                0.0,
                0.0,
                1.0
            ];
            node.scale = node.scale ?? [
                1.0,
                1.0,
                1.0
            ];
        } else {
            node.matrix = node.matrix ?? [
                1.0,
                0.0,
                0.0,
                0.0,
                0.0,
                1.0,
                0.0,
                0.0,
                0.0,
                0.0,
                1.0,
                0.0,
                0.0,
                0.0,
                0.0,
                1.0
            ];
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].sampler(gltf, function(sampler) {
        sampler.wrapS = sampler.wrapS ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].REPEAT;
        sampler.wrapT = sampler.wrapT ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].REPEAT;
    });
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf.scenes) && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf.scene)) {
        gltf.scene = 0;
    }
    return gltf;
}
function getAnimatedNodes(gltf) {
    const nodes = {};
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animation(gltf, function(animation) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animationChannel(animation, function(channel) {
            const target = channel.target;
            const nodeId = target.node;
            const path = target.path;
            // Ignore animations that target 'weights'
            if (path === "translation" || path === "rotation" || path === "scale") {
                nodes[nodeId] = true;
            }
        });
    });
    return nodes;
}
function addTextureDefaults(texture) {
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(texture)) {
        texture.texCoord = texture.texCoord ?? 0;
    }
}
const __TURBOPACK__default__export__ = addDefaults;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addPipelineExtras.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/ForEach.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
;
;
/**
 * Adds extras._pipeline to each object that can have extras in the glTF asset.
 * This stage runs before updateVersion and handles both glTF 1.0 and glTF 2.0 assets.
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @returns {object} The glTF asset with the added pipeline extras.
 *
 * @private
 */ function addPipelineExtras(gltf) {
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].shader(gltf, function(shader) {
        addExtras(shader);
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].buffer(gltf, function(buffer) {
        addExtras(buffer);
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].image(gltf, function(image) {
        addExtras(image);
    });
    addExtras(gltf);
    return gltf;
}
function addExtras(object) {
    object.extras = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(object.extras) ? object.extras : {};
    object.extras._pipeline = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(object.extras._pipeline) ? object.extras._pipeline : {};
}
const __TURBOPACK__default__export__ = addPipelineExtras;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/removeExtensionsRequired.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
;
/**
 * Removes an extension from gltf.extensionsRequired if it is present.
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @param {string} extension The extension to remove.
 *
 * @private
 */ function removeExtensionsRequired(gltf, extension) {
    const extensionsRequired = gltf.extensionsRequired;
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensionsRequired)) {
        const index = extensionsRequired.indexOf(extension);
        if (index >= 0) {
            extensionsRequired.splice(index, 1);
        }
        if (extensionsRequired.length === 0) {
            delete gltf.extensionsRequired;
        }
    }
}
const __TURBOPACK__default__export__ = removeExtensionsRequired;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/removeExtensionsUsed.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$removeExtensionsRequired$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/removeExtensionsRequired.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
;
;
/**
 * Removes an extension from gltf.extensionsUsed and gltf.extensionsRequired if it is present.
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @param {string} extension The extension to remove.
 *
 * @private
 */ function removeExtensionsUsed(gltf, extension) {
    const extensionsUsed = gltf.extensionsUsed;
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensionsUsed)) {
        const index = extensionsUsed.indexOf(extension);
        if (index >= 0) {
            extensionsUsed.splice(index, 1);
        }
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$removeExtensionsRequired$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, extension);
        if (extensionsUsed.length === 0) {
            delete gltf.extensionsUsed;
        }
    }
}
const __TURBOPACK__default__export__ = removeExtensionsUsed;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/parseGlb.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addPipelineExtras$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addPipelineExtras.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$removeExtensionsUsed$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/removeExtensionsUsed.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$getMagic$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/getMagic.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$getStringFromTypedArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/getStringFromTypedArray.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$RuntimeError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/RuntimeError.js [app-client] (ecmascript)");
;
;
;
;
;
;
const sizeOfUint32 = 4;
/**
 * Convert a binary glTF to glTF.
 *
 * The returned glTF has pipeline extras included. The embedded binary data is stored in gltf.buffers[0].extras._pipeline.source.
 *
 * @param {Buffer} glb The glb data to parse.
 * @returns {object} A javascript object containing a glTF asset with pipeline extras included.
 *
 * @private
 */ function parseGlb(glb) {
    // Check that the magic string is present
    const magic = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$getMagic$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(glb);
    if (magic !== "glTF") {
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$RuntimeError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"]("File is not valid binary glTF");
    }
    const header = readHeader(glb, 0, 5);
    const version = header[1];
    if (version !== 1 && version !== 2) {
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$RuntimeError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"]("Binary glTF version is not 1 or 2");
    }
    if (version === 1) {
        return parseGlbVersion1(glb, header);
    }
    return parseGlbVersion2(glb, header);
}
function readHeader(glb, byteOffset, count) {
    const dataView = new DataView(glb.buffer);
    const header = new Array(count);
    for(let i = 0; i < count; ++i){
        header[i] = dataView.getUint32(glb.byteOffset + byteOffset + i * sizeOfUint32, true);
    }
    return header;
}
function parseGlbVersion1(glb, header) {
    const length = header[2];
    const contentLength = header[3];
    const contentFormat = header[4];
    // Check that the content format is 0, indicating that it is JSON
    if (contentFormat !== 0) {
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$RuntimeError$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"]("Binary glTF scene format is not JSON");
    }
    const jsonStart = 20;
    const binaryStart = jsonStart + contentLength;
    const contentString = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$getStringFromTypedArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(glb, jsonStart, contentLength);
    const gltf = JSON.parse(contentString);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addPipelineExtras$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf);
    const binaryBuffer = glb.subarray(binaryStart, length);
    const buffers = gltf.buffers;
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(buffers) && Object.keys(buffers).length > 0) {
        // In some older models, the binary glTF buffer is named KHR_binary_glTF
        const binaryGltfBuffer = buffers.binary_glTF ?? buffers.KHR_binary_glTF;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(binaryGltfBuffer)) {
            binaryGltfBuffer.extras._pipeline.source = binaryBuffer;
            delete binaryGltfBuffer.uri;
        }
    }
    // Remove the KHR_binary_glTF extension
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$removeExtensionsUsed$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "KHR_binary_glTF");
    return gltf;
}
function parseGlbVersion2(glb, header) {
    const length = header[2];
    let byteOffset = 12;
    let gltf;
    let binaryBuffer;
    while(byteOffset < length){
        const chunkHeader = readHeader(glb, byteOffset, 2);
        const chunkLength = chunkHeader[0];
        const chunkType = chunkHeader[1];
        byteOffset += 8;
        const chunkBuffer = glb.subarray(byteOffset, byteOffset + chunkLength);
        byteOffset += chunkLength;
        // Load JSON chunk
        if (chunkType === 0x4e4f534a) {
            const jsonString = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$getStringFromTypedArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(chunkBuffer);
            gltf = JSON.parse(jsonString);
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addPipelineExtras$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf);
        } else if (chunkType === 0x004e4942) {
            binaryBuffer = chunkBuffer;
        }
    }
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(binaryBuffer)) {
        const buffers = gltf.buffers;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(buffers) && buffers.length > 0) {
            const buffer = buffers[0];
            buffer.extras._pipeline.source = binaryBuffer;
        }
    }
    return gltf;
}
const __TURBOPACK__default__export__ = parseGlb;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/removePipelineExtras.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/ForEach.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
;
;
/**
 * Iterate through the objects within the glTF and delete their pipeline extras object.
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @returns {object} glTF with no pipeline extras.
 *
 * @private
 */ function removePipelineExtras(gltf) {
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].shader(gltf, function(shader) {
        removeExtras(shader);
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].buffer(gltf, function(buffer) {
        removeExtras(buffer);
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].image(gltf, function(image) {
        removeExtras(image);
    });
    removeExtras(gltf);
    return gltf;
}
function removeExtras(object) {
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(object.extras)) {
        return;
    }
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(object.extras._pipeline)) {
        delete object.extras._pipeline;
    }
    if (Object.keys(object.extras).length === 0) {
        delete object.extras;
    }
}
const __TURBOPACK__default__export__ = removePipelineExtras;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addExtensionsUsed.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addToArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addToArray.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
;
;
/**
 * Adds an extension to gltf.extensionsUsed if it does not already exist.
 * Initializes extensionsUsed if it is not defined.
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @param {string} extension The extension to add.
 *
 * @private
 */ function addExtensionsUsed(gltf, extension) {
    let extensionsUsed = gltf.extensionsUsed;
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensionsUsed)) {
        extensionsUsed = [];
        gltf.extensionsUsed = extensionsUsed;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addToArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensionsUsed, extension, true);
}
const __TURBOPACK__default__export__ = addExtensionsUsed;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/findAccessorMinMax.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$getAccessorByteStride$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/getAccessorByteStride.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$getComponentReader$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/getComponentReader.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$numberOfComponentsForType$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/numberOfComponentsForType.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/ComponentDatatype.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
;
;
;
;
;
/**
 * Finds the min and max values of the accessor.
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @param {object} accessor The accessor object from the glTF asset to read.
 * @returns {{min: Array, max: Array}} min holding the array of minimum values and max holding the array of maximum values.
 *
 * @private
 */ function findAccessorMinMax(gltf, accessor) {
    const bufferViews = gltf.bufferViews;
    const buffers = gltf.buffers;
    const bufferViewId = accessor.bufferView;
    const numberOfComponents = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$numberOfComponentsForType$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.type);
    // According to the spec, when bufferView is not defined, accessor must be initialized with zeros
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.bufferView)) {
        return {
            min: new Array(numberOfComponents).fill(0.0),
            max: new Array(numberOfComponents).fill(0.0)
        };
    }
    const min = new Array(numberOfComponents).fill(Number.POSITIVE_INFINITY);
    const max = new Array(numberOfComponents).fill(Number.NEGATIVE_INFINITY);
    const bufferView = bufferViews[bufferViewId];
    const bufferId = bufferView.buffer;
    const buffer = buffers[bufferId];
    const source = buffer.extras._pipeline.source;
    const count = accessor.count;
    const byteStride = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$getAccessorByteStride$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, accessor);
    let byteOffset = accessor.byteOffset + bufferView.byteOffset + source.byteOffset;
    const componentType = accessor.componentType;
    const componentTypeByteLength = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].getSizeInBytes(componentType);
    const dataView = new DataView(source.buffer);
    const components = new Array(numberOfComponents);
    const componentReader = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$getComponentReader$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(componentType);
    for(let i = 0; i < count; i++){
        componentReader(dataView, byteOffset, numberOfComponents, componentTypeByteLength, components);
        for(let j = 0; j < numberOfComponents; j++){
            const value = components[j];
            min[j] = Math.min(min[j], value);
            max[j] = Math.max(max[j], value);
        }
        byteOffset += byteStride;
    }
    return {
        min: min,
        max: max
    };
}
const __TURBOPACK__default__export__ = findAccessorMinMax;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/moveTechniqueRenderStates.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addExtensionsUsed$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addExtensionsUsed.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/ForEach.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/WebGLConstants.js [app-client] (ecmascript)");
;
;
;
;
const defaultBlendEquation = [
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].FUNC_ADD,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].FUNC_ADD
];
const defaultBlendFactors = [
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].ONE,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].ZERO,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].ONE,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].ZERO
];
function isStateEnabled(renderStates, state) {
    const enabled = renderStates.enable;
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(enabled)) {
        return false;
    }
    return enabled.indexOf(state) > -1;
}
const supportedBlendFactors = [
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].ZERO,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].ONE,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].SRC_COLOR,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].ONE_MINUS_SRC_COLOR,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].SRC_ALPHA,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].ONE_MINUS_SRC_ALPHA,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].DST_ALPHA,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].ONE_MINUS_DST_ALPHA,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].DST_COLOR,
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].ONE_MINUS_DST_COLOR
];
// If any of the blend factors are not supported, return the default
function getSupportedBlendFactors(value, defaultValue) {
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
        return defaultValue;
    }
    for(let i = 0; i < 4; i++){
        if (supportedBlendFactors.indexOf(value[i]) === -1) {
            return defaultValue;
        }
    }
    return value;
}
/**
 * Move glTF 1.0 technique render states to glTF 2.0 materials properties and KHR_blend extension.
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @returns {object} The updated glTF asset.
 *
 * @private
 */ function moveTechniqueRenderStates(gltf) {
    const blendingForTechnique = {};
    const materialPropertiesForTechnique = {};
    const techniquesLegacy = gltf.techniques;
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(techniquesLegacy)) {
        return gltf;
    }
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].technique(gltf, function(techniqueLegacy, techniqueIndex) {
        const renderStates = techniqueLegacy.states;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(renderStates)) {
            const materialProperties = materialPropertiesForTechnique[techniqueIndex] = {};
            // If BLEND is enabled, the material should have alpha mode BLEND
            if (isStateEnabled(renderStates, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].BLEND)) {
                materialProperties.alphaMode = "BLEND";
                const blendFunctions = renderStates.functions;
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(blendFunctions) && ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(blendFunctions.blendEquationSeparate) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(blendFunctions.blendFuncSeparate))) {
                    blendingForTechnique[techniqueIndex] = {
                        blendEquation: blendFunctions.blendEquationSeparate ?? defaultBlendEquation,
                        blendFactors: getSupportedBlendFactors(blendFunctions.blendFuncSeparate, defaultBlendFactors)
                    };
                }
            }
            // If CULL_FACE is not enabled, the material should be doubleSided
            if (!isStateEnabled(renderStates, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].CULL_FACE)) {
                materialProperties.doubleSided = true;
            }
            delete techniqueLegacy.states;
        }
    });
    if (Object.keys(blendingForTechnique).length > 0) {
        if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf.extensions)) {
            gltf.extensions = {};
        }
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addExtensionsUsed$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "KHR_blend");
    }
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].material(gltf, function(material) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(material.technique)) {
            const materialProperties = materialPropertiesForTechnique[material.technique];
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].objectLegacy(materialProperties, function(value, property) {
                material[property] = value;
            });
            const blending = blendingForTechnique[material.technique];
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(blending)) {
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(material.extensions)) {
                    material.extensions = {};
                }
                material.extensions.KHR_blend = blending;
            }
        }
    });
    return gltf;
}
const __TURBOPACK__default__export__ = moveTechniqueRenderStates;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addExtensionsRequired.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addExtensionsUsed$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addExtensionsUsed.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addToArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addToArray.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
;
;
;
/**
 * Adds an extension to gltf.extensionsRequired if it does not already exist.
 * Initializes extensionsRequired if it is not defined.
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @param {string} extension The extension to add.
 *
 * @private
 */ function addExtensionsRequired(gltf, extension) {
    let extensionsRequired = gltf.extensionsRequired;
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensionsRequired)) {
        extensionsRequired = [];
        gltf.extensionsRequired = extensionsRequired;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addToArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensionsRequired, extension, true);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addExtensionsUsed$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, extension);
}
const __TURBOPACK__default__export__ = addExtensionsRequired;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/moveTechniquesToExtension.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addExtensionsUsed$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addExtensionsUsed.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addExtensionsRequired$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addExtensionsRequired.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addToArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addToArray.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/ForEach.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
;
;
;
;
;
/**
 * Move glTF 1.0 material techniques to glTF 2.0 KHR_techniques_webgl extension.
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @returns {object} The updated glTF asset.
 *
 * @private
 */ function moveTechniquesToExtension(gltf) {
    const techniquesLegacy = gltf.techniques;
    const mappedUniforms = {};
    const updatedTechniqueIndices = {};
    const seenPrograms = {};
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(techniquesLegacy)) {
        const extension = {
            programs: [],
            shaders: [],
            techniques: []
        };
        // Some 1.1 models have a glExtensionsUsed property that can be transferred to program.glExtensions
        const glExtensions = gltf.glExtensionsUsed;
        delete gltf.glExtensionsUsed;
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].technique(gltf, function(techniqueLegacy, techniqueId) {
            const technique = {
                name: techniqueLegacy.name,
                program: undefined,
                attributes: {},
                uniforms: {}
            };
            let parameterLegacy;
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].techniqueAttribute(techniqueLegacy, function(parameterName, attributeName) {
                parameterLegacy = techniqueLegacy.parameters[parameterName];
                technique.attributes[attributeName] = {
                    semantic: parameterLegacy.semantic
                };
            });
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].techniqueUniform(techniqueLegacy, function(parameterName, uniformName) {
                parameterLegacy = techniqueLegacy.parameters[parameterName];
                technique.uniforms[uniformName] = {
                    count: parameterLegacy.count,
                    node: parameterLegacy.node,
                    type: parameterLegacy.type,
                    semantic: parameterLegacy.semantic,
                    value: parameterLegacy.value
                };
                // Store the name of the uniform to update material values.
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(mappedUniforms[techniqueId])) {
                    mappedUniforms[techniqueId] = {};
                }
                mappedUniforms[techniqueId][parameterName] = uniformName;
            });
            if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(seenPrograms[techniqueLegacy.program])) {
                const programLegacy = gltf.programs[techniqueLegacy.program];
                const program = {
                    name: programLegacy.name,
                    fragmentShader: undefined,
                    vertexShader: undefined,
                    glExtensions: glExtensions
                };
                const fs = gltf.shaders[programLegacy.fragmentShader];
                program.fragmentShader = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addToArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extension.shaders, fs, true);
                const vs = gltf.shaders[programLegacy.vertexShader];
                program.vertexShader = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addToArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extension.shaders, vs, true);
                technique.program = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addToArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extension.programs, program);
                seenPrograms[techniqueLegacy.program] = technique.program;
            } else {
                technique.program = seenPrograms[techniqueLegacy.program];
            }
            // Store the index of the new technique to reference instead.
            updatedTechniqueIndices[techniqueId] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addToArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extension.techniques, technique);
        });
        if (extension.techniques.length > 0) {
            if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf.extensions)) {
                gltf.extensions = {};
            }
            gltf.extensions.KHR_techniques_webgl = extension;
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addExtensionsUsed$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "KHR_techniques_webgl");
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addExtensionsRequired$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "KHR_techniques_webgl");
        }
    }
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].material(gltf, function(material) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(material.technique)) {
            const materialExtension = {
                technique: updatedTechniqueIndices[material.technique]
            };
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].objectLegacy(material.values, function(value, parameterName) {
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(materialExtension.values)) {
                    materialExtension.values = {};
                }
                const uniformName = mappedUniforms[material.technique][parameterName];
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(uniformName)) {
                    materialExtension.values[uniformName] = value;
                }
            });
            if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(material.extensions)) {
                material.extensions = {};
            }
            material.extensions.KHR_techniques_webgl = materialExtension;
        }
        delete material.technique;
        delete material.values;
    });
    delete gltf.techniques;
    delete gltf.programs;
    delete gltf.shaders;
    return gltf;
}
const __TURBOPACK__default__export__ = moveTechniquesToExtension;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/forEachTextureInMaterial.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/ForEach.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/Check.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
;
;
;
/**
 * Calls the provider handler function on each texture used by the material.
 * Mimics the behavior of functions in gltf-pipeline ForEach.
 * @param {object} material The glTF material.
 * @param {forEachTextureInMaterial~handler} handler Function that is called for each texture in the material.
 *
 * @private
 */ function forEachTextureInMaterial(material, handler) {
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].typeOf.object("material", material);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].defined("handler", handler);
    // Metallic roughness
    const pbrMetallicRoughness = material.pbrMetallicRoughness;
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(pbrMetallicRoughness)) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(pbrMetallicRoughness.baseColorTexture)) {
            const textureInfo = pbrMetallicRoughness.baseColorTexture;
            const value = handler(textureInfo.index, textureInfo);
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                return value;
            }
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(pbrMetallicRoughness.metallicRoughnessTexture)) {
            const textureInfo = pbrMetallicRoughness.metallicRoughnessTexture;
            const value = handler(textureInfo.index, textureInfo);
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                return value;
            }
        }
    }
    const { extensions } = material;
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensions)) {
        // Spec gloss extension
        const pbrSpecularGlossiness = extensions.KHR_materials_pbrSpecularGlossiness;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(pbrSpecularGlossiness)) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(pbrSpecularGlossiness.diffuseTexture)) {
                const textureInfo = pbrSpecularGlossiness.diffuseTexture;
                const value = handler(textureInfo.index, textureInfo);
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                    return value;
                }
            }
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(pbrSpecularGlossiness.specularGlossinessTexture)) {
                const textureInfo = pbrSpecularGlossiness.specularGlossinessTexture;
                const value = handler(textureInfo.index, textureInfo);
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                    return value;
                }
            }
        }
        // Specular extension
        const specular = extensions.KHR_materials_specular;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(specular)) {
            const { specularTexture, specularColorTexture } = specular;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(specularTexture)) {
                const value = handler(specularTexture.index, specularTexture);
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                    return value;
                }
            }
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(specularColorTexture)) {
                const value = handler(specularColorTexture.index, specularColorTexture);
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                    return value;
                }
            }
        }
        // Materials common extension (may be present in models converted from glTF 1.0)
        const materialsCommon = extensions.KHR_materials_common;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(materialsCommon) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(materialsCommon.values)) {
            const { diffuse, ambient, emission, specular } = materialsCommon.values;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(diffuse) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(diffuse.index)) {
                const value = handler(diffuse.index, diffuse);
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                    return value;
                }
            }
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(ambient) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(ambient.index)) {
                const value = handler(ambient.index, ambient);
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                    return value;
                }
            }
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(emission) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(emission.index)) {
                const value = handler(emission.index, emission);
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                    return value;
                }
            }
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(specular) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(specular.index)) {
                const value = handler(specular.index, specular);
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                    return value;
                }
            }
        }
    }
    // KHR_techniques_webgl extension
    const value = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].materialValue(material, function(materialValue) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(materialValue.index)) {
            const value = handler(materialValue.index, materialValue);
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
                return value;
            }
        }
    });
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
        return value;
    }
    // Top level textures
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(material.emissiveTexture)) {
        const textureInfo = material.emissiveTexture;
        const value = handler(textureInfo.index, textureInfo);
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
            return value;
        }
    }
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(material.normalTexture)) {
        const textureInfo = material.normalTexture;
        const value = handler(textureInfo.index, textureInfo);
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
            return value;
        }
    }
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(material.occlusionTexture)) {
        const textureInfo = material.occlusionTexture;
        const value = handler(textureInfo.index, textureInfo);
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value)) {
            return value;
        }
    }
}
const __TURBOPACK__default__export__ = forEachTextureInMaterial;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/removeUnusedElements.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/ForEach.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$forEachTextureInMaterial$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/forEachTextureInMaterial.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/usesExtension.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
;
;
;
;
const allElementTypes = [
    "mesh",
    "node",
    "material",
    "accessor",
    "bufferView",
    "buffer",
    "texture",
    "sampler",
    "image"
];
/**
 * Removes unused elements from gltf.
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @param {string[]} [elementTypes=['mesh', 'node', 'material', 'accessor', 'bufferView', 'buffer']] Element types to be removed. Needs to be a subset of ['mesh', 'node', 'material', 'accessor', 'bufferView', 'buffer'], other items will be ignored.
 *
 * @private
 */ function removeUnusedElements(gltf, elementTypes) {
    elementTypes = elementTypes ?? allElementTypes;
    allElementTypes.forEach(function(type) {
        if (elementTypes.indexOf(type) > -1) {
            removeUnusedElementsByType(gltf, type);
        }
    });
    return gltf;
}
const TypeToGltfElementName = {
    accessor: "accessors",
    buffer: "buffers",
    bufferView: "bufferViews",
    image: "images",
    node: "nodes",
    material: "materials",
    mesh: "meshes",
    sampler: "samplers",
    texture: "textures"
};
function removeUnusedElementsByType(gltf, type) {
    const name = TypeToGltfElementName[type];
    const arrayOfObjects = gltf[name];
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(arrayOfObjects)) {
        let removed = 0;
        const usedIds = getListOfElementsIdsInUse[type](gltf);
        const length = arrayOfObjects.length;
        for(let i = 0; i < length; ++i){
            if (!usedIds[i]) {
                Remove[type](gltf, i - removed);
                removed++;
            }
        }
    }
}
/**
 * Contains functions for removing elements from a glTF hierarchy.
 * Since top-level glTF elements are arrays, when something is removed, referring
 * indices need to be updated.
 * @constructor
 *
 * @private
 */ function Remove() {}
Remove.accessor = function(gltf, accessorId) {
    const accessors = gltf.accessors;
    accessors.splice(accessorId, 1);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].mesh(gltf, function(mesh) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitive(mesh, function(primitive) {
            // Update accessor ids for the primitives.
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitiveAttribute(primitive, function(attributeAccessorId, semantic) {
                if (attributeAccessorId > accessorId) {
                    primitive.attributes[semantic]--;
                }
            });
            // Update accessor ids for the targets.
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitiveTarget(primitive, function(target) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitiveTargetAttribute(target, function(attributeAccessorId, semantic) {
                    if (attributeAccessorId > accessorId) {
                        target[semantic]--;
                    }
                });
            });
            const indices = primitive.indices;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(indices) && indices > accessorId) {
                primitive.indices--;
            }
            const ext = primitive.extensions;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(ext) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(ext.CESIUM_primitive_outline) && ext.CESIUM_primitive_outline.indices > accessorId) {
                --ext.CESIUM_primitive_outline.indices;
            }
        });
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].skin(gltf, function(skin) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(skin.inverseBindMatrices) && skin.inverseBindMatrices > accessorId) {
            skin.inverseBindMatrices--;
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animation(gltf, function(animation) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animationSampler(animation, function(sampler) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(sampler.input) && sampler.input > accessorId) {
                sampler.input--;
            }
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(sampler.output) && sampler.output > accessorId) {
                sampler.output--;
            }
        });
    });
};
Remove.buffer = function(gltf, bufferId) {
    const buffers = gltf.buffers;
    buffers.splice(bufferId, 1);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].bufferView(gltf, function(bufferView) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(bufferView.buffer) && bufferView.buffer > bufferId) {
            bufferView.buffer--;
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(bufferView.extensions) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(bufferView.extensions.EXT_meshopt_compression)) {
            bufferView.extensions.EXT_meshopt_compression.buffer--;
        }
    });
};
Remove.bufferView = function(gltf, bufferViewId) {
    const bufferViews = gltf.bufferViews;
    bufferViews.splice(bufferViewId, 1);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].accessor(gltf, function(accessor) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.bufferView) && accessor.bufferView > bufferViewId) {
            accessor.bufferView--;
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].shader(gltf, function(shader) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(shader.bufferView) && shader.bufferView > bufferViewId) {
            shader.bufferView--;
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].image(gltf, function(image) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(image.bufferView) && image.bufferView > bufferViewId) {
            image.bufferView--;
        }
    });
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "KHR_draco_mesh_compression")) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].mesh(gltf, function(mesh) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitive(mesh, function(primitive) {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(primitive.extensions) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(primitive.extensions.KHR_draco_mesh_compression)) {
                    if (primitive.extensions.KHR_draco_mesh_compression.bufferView > bufferViewId) {
                        primitive.extensions.KHR_draco_mesh_compression.bufferView--;
                    }
                }
            });
        });
    }
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "EXT_feature_metadata")) {
        const extension = gltf.extensions.EXT_feature_metadata;
        const featureTables = extension.featureTables;
        for(const featureTableId in featureTables){
            if (featureTables.hasOwnProperty(featureTableId)) {
                const featureTable = featureTables[featureTableId];
                const properties = featureTable.properties;
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(properties)) {
                    for(const propertyId in properties){
                        if (properties.hasOwnProperty(propertyId)) {
                            const property = properties[propertyId];
                            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(property.bufferView) && property.bufferView > bufferViewId) {
                                property.bufferView--;
                            }
                            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(property.arrayOffsetBufferView) && property.arrayOffsetBufferView > bufferViewId) {
                                property.arrayOffsetBufferView--;
                            }
                            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(property.stringOffsetBufferView) && property.stringOffsetBufferView > bufferViewId) {
                                property.stringOffsetBufferView--;
                            }
                        }
                    }
                }
            }
        }
    }
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "EXT_structural_metadata")) {
        const extension = gltf.extensions.EXT_structural_metadata;
        const propertyTables = extension.propertyTables;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(propertyTables)) {
            const propertyTablesLength = propertyTables.length;
            for(let i = 0; i < propertyTablesLength; ++i){
                const propertyTable = propertyTables[i];
                const properties = propertyTable.properties;
                for(const propertyId in properties){
                    if (properties.hasOwnProperty(propertyId)) {
                        const property = properties[propertyId];
                        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(property.values) && property.values > bufferViewId) {
                            property.values--;
                        }
                        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(property.arrayOffsets) && property.arrayOffsets > bufferViewId) {
                            property.arrayOffsets--;
                        }
                        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(property.stringOffsets) && property.stringOffsets > bufferViewId) {
                            property.stringOffsets--;
                        }
                    }
                }
            }
        }
    }
};
Remove.image = function(gltf, imageId) {
    const images = gltf.images;
    images.splice(imageId, 1);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].texture(gltf, function(texture) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(texture.source)) {
            if (texture.source > imageId) {
                --texture.source;
            }
        }
        const ext = texture.extensions;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(ext) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(ext.EXT_texture_webp) && ext.EXT_texture_webp.source > imageId) {
            --texture.extensions.EXT_texture_webp.source;
        } else if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(ext) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(ext.KHR_texture_basisu) && ext.KHR_texture_basisu.source > imageId) {
            --texture.extensions.KHR_texture_basisu.source;
        }
    });
};
Remove.mesh = function(gltf, meshId) {
    const meshes = gltf.meshes;
    meshes.splice(meshId, 1);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].node(gltf, function(node) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.mesh)) {
            if (node.mesh > meshId) {
                node.mesh--;
            } else if (node.mesh === meshId) {
                // Remove reference to deleted mesh
                delete node.mesh;
            }
        }
    });
};
Remove.node = function(gltf, nodeId) {
    const nodes = gltf.nodes;
    nodes.splice(nodeId, 1);
    // Shift all node references
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].skin(gltf, function(skin) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(skin.skeleton) && skin.skeleton > nodeId) {
            skin.skeleton--;
        }
        skin.joints = skin.joints.map(function(x) {
            return x > nodeId ? x - 1 : x;
        });
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animation(gltf, function(animation) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animationChannel(animation, function(channel) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(channel.target) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(channel.target.node) && channel.target.node > nodeId) {
                channel.target.node--;
            }
        });
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].technique(gltf, function(technique) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].techniqueUniform(technique, function(uniform) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(uniform.node) && uniform.node > nodeId) {
                uniform.node--;
            }
        });
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].node(gltf, function(node) {
        if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.children)) {
            return;
        }
        node.children = node.children.filter(function(x) {
            return x !== nodeId; // Remove
        }).map(function(x) {
            return x > nodeId ? x - 1 : x; // Shift indices
        });
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].scene(gltf, function(scene) {
        scene.nodes = scene.nodes.filter(function(x) {
            return x !== nodeId; // Remove
        }).map(function(x) {
            return x > nodeId ? x - 1 : x; // Shift indices
        });
    });
};
Remove.material = function(gltf, materialId) {
    const materials = gltf.materials;
    materials.splice(materialId, 1);
    // Shift other material ids
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].mesh(gltf, function(mesh) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitive(mesh, function(primitive) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(primitive.material) && primitive.material > materialId) {
                primitive.material--;
            }
        });
    });
};
Remove.sampler = function(gltf, samplerId) {
    const samplers = gltf.samplers;
    samplers.splice(samplerId, 1);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].texture(gltf, function(texture) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(texture.sampler)) {
            if (texture.sampler > samplerId) {
                --texture.sampler;
            }
        }
    });
};
Remove.texture = function(gltf, textureId) {
    const textures = gltf.textures;
    textures.splice(textureId, 1);
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].material(gltf, function(material) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$forEachTextureInMaterial$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(material, function(textureIndex, textureInfo) {
            if (textureInfo.index > textureId) {
                --textureInfo.index;
            }
        });
    });
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "EXT_feature_metadata")) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].mesh(gltf, function(mesh) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitive(mesh, function(primitive) {
                const extensions = primitive.extensions;
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensions) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensions.EXT_feature_metadata)) {
                    const extension = extensions.EXT_feature_metadata;
                    const featureIdTextures = extension.featureIdTextures;
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(featureIdTextures)) {
                        const featureIdTexturesLength = featureIdTextures.length;
                        for(let i = 0; i < featureIdTexturesLength; ++i){
                            const featureIdTexture = featureIdTextures[i];
                            const textureInfo = featureIdTexture.featureIds.texture;
                            if (textureInfo.index > textureId) {
                                --textureInfo.index;
                            }
                        }
                    }
                }
            });
        });
        const extension = gltf.extensions.EXT_feature_metadata;
        const featureTextures = extension.featureTextures;
        for(const featureTextureId in featureTextures){
            if (featureTextures.hasOwnProperty(featureTextureId)) {
                const featureTexture = featureTextures[featureTextureId];
                const properties = featureTexture.properties;
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(properties)) {
                    for(const propertyId in properties){
                        if (properties.hasOwnProperty(propertyId)) {
                            const property = properties[propertyId];
                            const textureInfo = property.texture;
                            if (textureInfo.index > textureId) {
                                --textureInfo.index;
                            }
                        }
                    }
                }
            }
        }
    }
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "EXT_mesh_features")) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].mesh(gltf, function(mesh) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitive(mesh, function(primitive) {
                const extensions = primitive.extensions;
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensions) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensions.EXT_mesh_features)) {
                    const extension = extensions.EXT_mesh_features;
                    const featureIds = extension.featureIds;
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(featureIds)) {
                        const featureIdsLength = featureIds.length;
                        for(let i = 0; i < featureIdsLength; ++i){
                            const featureId = featureIds[i];
                            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(featureId.texture)) {
                                if (featureId.texture.index > textureId) {
                                    --featureId.texture.index;
                                }
                            }
                        }
                    }
                }
            });
        });
    }
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "EXT_structural_metadata")) {
        const extension = gltf.extensions.EXT_structural_metadata;
        const propertyTextures = extension.propertyTextures;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(propertyTextures)) {
            const propertyTexturesLength = propertyTextures.length;
            for(let i = 0; i < propertyTexturesLength; ++i){
                const propertyTexture = propertyTextures[i];
                const properties = propertyTexture.properties;
                for(const propertyId in properties){
                    if (properties.hasOwnProperty(propertyId)) {
                        const property = properties[propertyId];
                        if (property.index > textureId) {
                            --property.index;
                        }
                    }
                }
            }
        }
    }
};
/**
 * Contains functions for getting a list of element ids in use by the glTF asset.
 * @constructor
 *
 * @private
 */ function getListOfElementsIdsInUse() {}
getListOfElementsIdsInUse.accessor = function(gltf) {
    // Calculate accessor's that are currently in use.
    const usedAccessorIds = {};
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].mesh(gltf, function(mesh) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitive(mesh, function(primitive) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitiveAttribute(primitive, function(accessorId) {
                usedAccessorIds[accessorId] = true;
            });
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitiveTarget(primitive, function(target) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitiveTargetAttribute(target, function(accessorId) {
                    usedAccessorIds[accessorId] = true;
                });
            });
            const indices = primitive.indices;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(indices)) {
                usedAccessorIds[indices] = true;
            }
        });
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].skin(gltf, function(skin) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(skin.inverseBindMatrices)) {
            usedAccessorIds[skin.inverseBindMatrices] = true;
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animation(gltf, function(animation) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animationSampler(animation, function(sampler) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(sampler.input)) {
                usedAccessorIds[sampler.input] = true;
            }
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(sampler.output)) {
                usedAccessorIds[sampler.output] = true;
            }
        });
    });
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "EXT_mesh_gpu_instancing")) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].node(gltf, function(node) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.extensions) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.extensions.EXT_mesh_gpu_instancing)) {
                Object.keys(node.extensions.EXT_mesh_gpu_instancing.attributes).forEach(function(key) {
                    const attributeAccessorId = node.extensions.EXT_mesh_gpu_instancing.attributes[key];
                    usedAccessorIds[attributeAccessorId] = true;
                });
            }
        });
    }
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "CESIUM_primitive_outline")) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].mesh(gltf, function(mesh) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitive(mesh, function(primitive) {
                const extensions = primitive.extensions;
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensions) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensions.CESIUM_primitive_outline)) {
                    const extension = extensions.CESIUM_primitive_outline;
                    const indicesAccessorId = extension.indices;
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(indicesAccessorId)) {
                        usedAccessorIds[indicesAccessorId] = true;
                    }
                }
            });
        });
    }
    return usedAccessorIds;
};
getListOfElementsIdsInUse.buffer = function(gltf) {
    // Calculate buffer's that are currently in use.
    const usedBufferIds = {};
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].bufferView(gltf, function(bufferView) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(bufferView.buffer)) {
            usedBufferIds[bufferView.buffer] = true;
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(bufferView.extensions) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(bufferView.extensions.EXT_meshopt_compression)) {
            usedBufferIds[bufferView.extensions.EXT_meshopt_compression.buffer] = true;
        }
    });
    return usedBufferIds;
};
getListOfElementsIdsInUse.bufferView = function(gltf) {
    // Calculate bufferView's that are currently in use.
    const usedBufferViewIds = {};
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].accessor(gltf, function(accessor) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.bufferView)) {
            usedBufferViewIds[accessor.bufferView] = true;
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].shader(gltf, function(shader) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(shader.bufferView)) {
            usedBufferViewIds[shader.bufferView] = true;
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].image(gltf, function(image) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(image.bufferView)) {
            usedBufferViewIds[image.bufferView] = true;
        }
    });
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "KHR_draco_mesh_compression")) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].mesh(gltf, function(mesh) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitive(mesh, function(primitive) {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(primitive.extensions) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(primitive.extensions.KHR_draco_mesh_compression)) {
                    usedBufferViewIds[primitive.extensions.KHR_draco_mesh_compression.bufferView] = true;
                }
            });
        });
    }
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "EXT_feature_metadata")) {
        const extension = gltf.extensions.EXT_feature_metadata;
        const featureTables = extension.featureTables;
        for(const featureTableId in featureTables){
            if (featureTables.hasOwnProperty(featureTableId)) {
                const featureTable = featureTables[featureTableId];
                const properties = featureTable.properties;
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(properties)) {
                    for(const propertyId in properties){
                        if (properties.hasOwnProperty(propertyId)) {
                            const property = properties[propertyId];
                            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(property.bufferView)) {
                                usedBufferViewIds[property.bufferView] = true;
                            }
                            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(property.arrayOffsetBufferView)) {
                                usedBufferViewIds[property.arrayOffsetBufferView] = true;
                            }
                            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(property.stringOffsetBufferView)) {
                                usedBufferViewIds[property.stringOffsetBufferView] = true;
                            }
                        }
                    }
                }
            }
        }
    }
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "EXT_structural_metadata")) {
        const extension = gltf.extensions.EXT_structural_metadata;
        const propertyTables = extension.propertyTables;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(propertyTables)) {
            const propertyTablesLength = propertyTables.length;
            for(let i = 0; i < propertyTablesLength; ++i){
                const propertyTable = propertyTables[i];
                const properties = propertyTable.properties;
                for(const propertyId in properties){
                    if (properties.hasOwnProperty(propertyId)) {
                        const property = properties[propertyId];
                        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(property.values)) {
                            usedBufferViewIds[property.values] = true;
                        }
                        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(property.arrayOffsets)) {
                            usedBufferViewIds[property.arrayOffsets] = true;
                        }
                        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(property.stringOffsets)) {
                            usedBufferViewIds[property.stringOffsets] = true;
                        }
                    }
                }
            }
        }
    }
    return usedBufferViewIds;
};
getListOfElementsIdsInUse.image = function(gltf) {
    const usedImageIds = {};
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].texture(gltf, function(texture) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(texture.source)) {
            usedImageIds[texture.source] = true;
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(texture.extensions) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(texture.extensions.EXT_texture_webp)) {
            usedImageIds[texture.extensions.EXT_texture_webp.source] = true;
        } else if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(texture.extensions) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(texture.extensions.KHR_texture_basisu)) {
            usedImageIds[texture.extensions.KHR_texture_basisu.source] = true;
        }
    });
    return usedImageIds;
};
getListOfElementsIdsInUse.mesh = function(gltf) {
    const usedMeshIds = {};
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].node(gltf, function(node) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.mesh && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf.meshes))) {
            const mesh = gltf.meshes[node.mesh];
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(mesh) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(mesh.primitives) && mesh.primitives.length > 0) {
                usedMeshIds[node.mesh] = true;
            }
        }
    });
    return usedMeshIds;
};
// Check if node is empty. It is considered empty if neither referencing
// mesh, camera, extensions and has no children
function nodeIsEmpty(gltf, nodeId, usedNodeIds) {
    const node = gltf.nodes[nodeId];
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.mesh) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.camera) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.skin) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.weights) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.extras) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.extensions) && Object.keys(node.extensions).length !== 0 || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(usedNodeIds[nodeId])) {
        return false;
    }
    // Empty if no children or children are all empty nodes
    return !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.children) || node.children.filter(function(n) {
        return !nodeIsEmpty(gltf, n, usedNodeIds);
    }).length === 0;
}
getListOfElementsIdsInUse.node = function(gltf) {
    const usedNodeIds = {};
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].skin(gltf, function(skin) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(skin.skeleton)) {
            usedNodeIds[skin.skeleton] = true;
        }
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].skinJoint(skin, function(joint) {
            usedNodeIds[joint] = true;
        });
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animation(gltf, function(animation) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animationChannel(animation, function(channel) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(channel.target) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(channel.target.node)) {
                usedNodeIds[channel.target.node] = true;
            }
        });
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].technique(gltf, function(technique) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].techniqueUniform(technique, function(uniform) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(uniform.node)) {
                usedNodeIds[uniform.node] = true;
            }
        });
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].node(gltf, function(node, nodeId) {
        if (!nodeIsEmpty(gltf, nodeId, usedNodeIds)) {
            usedNodeIds[nodeId] = true;
        }
    });
    return usedNodeIds;
};
getListOfElementsIdsInUse.material = function(gltf) {
    const usedMaterialIds = {};
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].mesh(gltf, function(mesh) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitive(mesh, function(primitive) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(primitive.material)) {
                usedMaterialIds[primitive.material] = true;
            }
        });
    });
    return usedMaterialIds;
};
getListOfElementsIdsInUse.texture = function(gltf) {
    const usedTextureIds = {};
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].material(gltf, function(material) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$forEachTextureInMaterial$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(material, function(textureId) {
            usedTextureIds[textureId] = true;
        });
    });
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "EXT_feature_metadata")) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].mesh(gltf, function(mesh) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitive(mesh, function(primitive) {
                const extensions = primitive.extensions;
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensions) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensions.EXT_feature_metadata)) {
                    const extension = extensions.EXT_feature_metadata;
                    const featureIdTextures = extension.featureIdTextures;
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(featureIdTextures)) {
                        const featureIdTexturesLength = featureIdTextures.length;
                        for(let i = 0; i < featureIdTexturesLength; ++i){
                            const featureIdTexture = featureIdTextures[i];
                            const textureInfo = featureIdTexture.featureIds.texture;
                            usedTextureIds[textureInfo.index] = true;
                        }
                    }
                }
            });
        });
        const extension = gltf.extensions.EXT_feature_metadata;
        const featureTextures = extension.featureTextures;
        for(const featureTextureId in featureTextures){
            if (featureTextures.hasOwnProperty(featureTextureId)) {
                const featureTexture = featureTextures[featureTextureId];
                const properties = featureTexture.properties;
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(properties)) {
                    for(const propertyId in properties){
                        if (properties.hasOwnProperty(propertyId)) {
                            const property = properties[propertyId];
                            const textureInfo = property.texture;
                            usedTextureIds[textureInfo.index] = true;
                        }
                    }
                }
            }
        }
    }
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "EXT_mesh_features")) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].mesh(gltf, function(mesh) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitive(mesh, function(primitive) {
                const extensions = primitive.extensions;
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensions) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensions.EXT_mesh_features)) {
                    const extension = extensions.EXT_mesh_features;
                    const featureIds = extension.featureIds;
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(featureIds)) {
                        const featureIdsLength = featureIds.length;
                        for(let i = 0; i < featureIdsLength; ++i){
                            const featureId = featureIds[i];
                            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(featureId.texture)) {
                                usedTextureIds[featureId.texture.index] = true;
                            }
                        }
                    }
                }
            });
        });
    }
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$usesExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "EXT_structural_metadata")) {
        const extension = gltf.extensions.EXT_structural_metadata;
        const propertyTextures = extension.propertyTextures;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(propertyTextures)) {
            const propertyTexturesLength = propertyTextures.length;
            for(let i = 0; i < propertyTexturesLength; ++i){
                const propertyTexture = propertyTextures[i];
                const properties = propertyTexture.properties;
                for(const propertyId in properties){
                    if (properties.hasOwnProperty(propertyId)) {
                        const property = properties[propertyId];
                        usedTextureIds[property.index] = true;
                    }
                }
            }
        }
    }
    return usedTextureIds;
};
getListOfElementsIdsInUse.sampler = function(gltf) {
    const usedSamplerIds = {};
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].texture(gltf, function(texture) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(texture.sampler)) {
            usedSamplerIds[texture.sampler] = true;
        }
    });
    return usedSamplerIds;
};
const __TURBOPACK__default__export__ = removeUnusedElements;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addBuffer.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addToArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addToArray.js [app-client] (ecmascript)");
;
/**
 * Adds buffer to gltf.
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @param {Buffer} buffer A Buffer object which will be added to gltf.buffers.
 * @returns {number} The bufferView id of the newly added bufferView.
 *
 * @private
 */ function addBuffer(gltf, buffer) {
    const newBuffer = {
        byteLength: buffer.length,
        extras: {
            _pipeline: {
                source: buffer
            }
        }
    };
    const bufferId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addToArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf.buffers, newBuffer);
    const bufferView = {
        buffer: bufferId,
        byteOffset: 0,
        byteLength: buffer.length
    };
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addToArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf.bufferViews, bufferView);
}
const __TURBOPACK__default__export__ = addBuffer;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/readAccessorPacked.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$getAccessorByteStride$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/getAccessorByteStride.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$getComponentReader$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/getComponentReader.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$numberOfComponentsForType$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/numberOfComponentsForType.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/ComponentDatatype.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
;
;
;
;
;
/**
 * Returns the accessor data in a contiguous array.
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @param {object} accessor The accessor.
 * @returns {Array} The accessor values in a contiguous array.
 *
 * @private
 */ function readAccessorPacked(gltf, accessor) {
    const byteStride = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$getAccessorByteStride$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, accessor);
    const componentTypeByteLength = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].getSizeInBytes(accessor.componentType);
    const numberOfComponents = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$numberOfComponentsForType$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.type);
    const count = accessor.count;
    const values = new Array(numberOfComponents * count);
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.bufferView)) {
        return values.fill(0);
    }
    const bufferView = gltf.bufferViews[accessor.bufferView];
    const source = gltf.buffers[bufferView.buffer].extras._pipeline.source;
    let byteOffset = accessor.byteOffset + bufferView.byteOffset + source.byteOffset;
    const dataView = new DataView(source.buffer);
    const components = new Array(numberOfComponents);
    const componentReader = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$getComponentReader$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.componentType);
    for(let i = 0; i < count; ++i){
        componentReader(dataView, byteOffset, numberOfComponents, componentTypeByteLength, components);
        for(let j = 0; j < numberOfComponents; ++j){
            values[i * numberOfComponents + j] = components[j];
        }
        byteOffset += byteStride;
    }
    return values;
}
const __TURBOPACK__default__export__ = readAccessorPacked;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/updateAccessorComponentTypes.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addBuffer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addBuffer.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/ForEach.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$readAccessorPacked$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/readAccessorPacked.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/ComponentDatatype.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/WebGLConstants.js [app-client] (ecmascript)");
;
;
;
;
;
/**
 * Update accessors referenced by JOINTS_0 and WEIGHTS_0 attributes to use correct component types.
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @returns {object} The glTF asset with compressed meshes.
 *
 * @private
 */ function updateAccessorComponentTypes(gltf) {
    let componentType;
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].accessorWithSemantic(gltf, "JOINTS_0", function(accessorId) {
        const accessor = gltf.accessors[accessorId];
        componentType = accessor.componentType;
        if (componentType === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].BYTE) {
            convertType(gltf, accessor, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].UNSIGNED_BYTE);
        } else if (componentType !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].UNSIGNED_BYTE && componentType !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].UNSIGNED_SHORT) {
            convertType(gltf, accessor, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].UNSIGNED_SHORT);
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].accessorWithSemantic(gltf, "WEIGHTS_0", function(accessorId) {
        const accessor = gltf.accessors[accessorId];
        componentType = accessor.componentType;
        if (componentType === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].BYTE) {
            convertType(gltf, accessor, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].UNSIGNED_BYTE);
        } else if (componentType === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].SHORT) {
            convertType(gltf, accessor, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].UNSIGNED_SHORT);
        }
    });
    return gltf;
}
function convertType(gltf, accessor, updatedComponentType) {
    const typedArray = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].createTypedArray(updatedComponentType, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$readAccessorPacked$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, accessor));
    const newBuffer = new Uint8Array(typedArray.buffer);
    accessor.bufferView = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addBuffer$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, newBuffer);
    accessor.componentType = updatedComponentType;
    accessor.byteOffset = 0;
}
const __TURBOPACK__default__export__ = updateAccessorComponentTypes;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/removeExtension.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/ForEach.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$removeExtensionsUsed$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/removeExtensionsUsed.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
;
;
;
/**
 * Removes an extension from gltf.extensions, gltf.extensionsUsed, gltf.extensionsRequired, and any other objects in the glTF if it is present.
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @param {string} extension The extension to remove.
 *
 * @returns {*} The extension data removed from gltf.extensions.
 */ function removeExtension(gltf, extension) {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$removeExtensionsUsed$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, extension); // Also removes from extensionsRequired
    if (extension === "CESIUM_RTC") {
        removeCesiumRTC(gltf);
    }
    return removeExtensionAndTraverse(gltf, extension);
}
function removeCesiumRTC(gltf) {
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].technique(gltf, function(technique) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].techniqueUniform(technique, function(uniform) {
            if (uniform.semantic === "CESIUM_RTC_MODELVIEW") {
                uniform.semantic = "MODELVIEW";
            }
        });
    });
}
function removeExtensionAndTraverse(object, extension) {
    if (Array.isArray(object)) {
        const length = object.length;
        for(let i = 0; i < length; ++i){
            removeExtensionAndTraverse(object[i], extension);
        }
    } else if (object !== null && typeof object === "object" && object.constructor === Object) {
        const extensions = object.extensions;
        let extensionData;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensions)) {
            extensionData = extensions[extension];
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensionData)) {
                delete extensions[extension];
                if (Object.keys(extensions).length === 0) {
                    delete object.extensions;
                }
            }
        }
        for(const key in object){
            if (Object.prototype.hasOwnProperty.call(object, key)) {
                removeExtensionAndTraverse(object[key], extension);
            }
        }
        return extensionData;
    }
}
const __TURBOPACK__default__export__ = removeExtension;
}),
"[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/updateVersion.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addExtensionsUsed$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addExtensionsUsed.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addToArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/addToArray.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$findAccessorMinMax$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/findAccessorMinMax.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/ForEach.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$getAccessorByteStride$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/getAccessorByteStride.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$numberOfComponentsForType$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/numberOfComponentsForType.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$moveTechniqueRenderStates$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/moveTechniqueRenderStates.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$moveTechniquesToExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/moveTechniquesToExtension.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$removeUnusedElements$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/removeUnusedElements.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$updateAccessorComponentTypes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/updateAccessorComponentTypes.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$removeExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Scene/GltfPipeline/removeExtension.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Cartesian3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/Cartesian3.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Cartesian4$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/Cartesian4.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$clone$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/clone.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/ComponentDatatype.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/defined.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Matrix4$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/Matrix4.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Quaternion$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/Quaternion.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@cesium/engine/Source/Core/WebGLConstants.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
const updateFunctions = {
    0.8: glTF08to10,
    "1.0": glTF10to20,
    "2.0": undefined
};
/**
 * Update the glTF version to the latest version (2.0), or targetVersion if specified.
 * Applies changes made to the glTF spec between revisions so that the core library
 * only has to handle the latest version.
 *
 * @param {object} gltf A javascript object containing a glTF asset.
 * @param {object} [options] Options for updating the glTF.
 * @param {string} [options.targetVersion] The glTF will be upgraded until it hits the specified version.
 * @param {string[]} [options.baseColorTextureNames] Names of uniforms that indicate base color textures.
 * @param {string[]} [options.baseColorFactorNames] Names of uniforms that indicate base color factors.
 * @returns {object} The updated glTF asset.
 *
 * @private
 */ function updateVersion(gltf, options) {
    options = options ?? {};
    const targetVersion = options.targetVersion;
    let version = gltf.version;
    gltf.asset = gltf.asset ?? {
        version: "1.0"
    };
    gltf.asset.version = gltf.asset.version ?? "1.0";
    version = (version ?? gltf.asset.version).toString();
    // Invalid version
    if (!Object.prototype.hasOwnProperty.call(updateFunctions, version)) {
        // Try truncating trailing version numbers, could be a number as well if it is 0.8
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(version)) {
            version = version.substring(0, 3);
        }
        // Default to 1.0 if it cannot be determined
        if (!Object.prototype.hasOwnProperty.call(updateFunctions, version)) {
            version = "1.0";
        }
    }
    let updateFunction = updateFunctions[version];
    while((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(updateFunction)){
        if (version === targetVersion) {
            break;
        }
        updateFunction(gltf, options);
        version = gltf.asset.version;
        updateFunction = updateFunctions[version];
    }
    if (!options.keepLegacyExtensions) {
        convertTechniquesToPbr(gltf, options);
        convertMaterialsCommonToPbr(gltf);
    }
    return gltf;
}
function updateInstanceTechniques(gltf) {
    const materials = gltf.materials;
    for(const materialId in materials){
        if (Object.prototype.hasOwnProperty.call(materials, materialId)) {
            const material = materials[materialId];
            const instanceTechnique = material.instanceTechnique;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(instanceTechnique)) {
                material.technique = instanceTechnique.technique;
                material.values = instanceTechnique.values;
                delete material.instanceTechnique;
            }
        }
    }
}
function setPrimitiveModes(gltf) {
    const meshes = gltf.meshes;
    for(const meshId in meshes){
        if (Object.prototype.hasOwnProperty.call(meshes, meshId)) {
            const mesh = meshes[meshId];
            const primitives = mesh.primitives;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(primitives)) {
                const primitivesLength = primitives.length;
                for(let i = 0; i < primitivesLength; ++i){
                    const primitive = primitives[i];
                    const defaultMode = primitive.primitive ?? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$WebGLConstants$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].TRIANGLES;
                    primitive.mode = primitive.mode ?? defaultMode;
                    delete primitive.primitive;
                }
            }
        }
    }
}
function updateNodes(gltf) {
    const nodes = gltf.nodes;
    const axis = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Cartesian3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"]();
    const quat = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Quaternion$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"]();
    for(const nodeId in nodes){
        if (Object.prototype.hasOwnProperty.call(nodes, nodeId)) {
            const node = nodes[nodeId];
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.rotation)) {
                const rotation = node.rotation;
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Cartesian3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].fromArray(rotation, 0, axis);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Quaternion$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].fromAxisAngle(axis, rotation[3], quat);
                node.rotation = [
                    quat.x,
                    quat.y,
                    quat.z,
                    quat.w
                ];
            }
            const instanceSkin = node.instanceSkin;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(instanceSkin)) {
                node.skeletons = instanceSkin.skeletons;
                node.skin = instanceSkin.skin;
                node.meshes = instanceSkin.meshes;
                delete node.instanceSkin;
            }
        }
    }
}
function updateAnimations(gltf) {
    const animations = gltf.animations;
    const accessors = gltf.accessors;
    const bufferViews = gltf.bufferViews;
    const buffers = gltf.buffers;
    const updatedAccessors = {};
    const axis = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Cartesian3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"]();
    const quat = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Quaternion$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"]();
    for(const animationId in animations){
        if (Object.prototype.hasOwnProperty.call(animations, animationId)) {
            const animation = animations[animationId];
            const channels = animation.channels;
            const parameters = animation.parameters;
            const samplers = animation.samplers;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(channels)) {
                const channelsLength = channels.length;
                for(let i = 0; i < channelsLength; ++i){
                    const channel = channels[i];
                    if (channel.target.path === "rotation") {
                        const accessorId = parameters[samplers[channel.sampler].output];
                        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(updatedAccessors[accessorId])) {
                            continue;
                        }
                        updatedAccessors[accessorId] = true;
                        const accessor = accessors[accessorId];
                        const bufferView = bufferViews[accessor.bufferView];
                        const buffer = buffers[bufferView.buffer];
                        const source = buffer.extras._pipeline.source;
                        const byteOffset = source.byteOffset + bufferView.byteOffset + accessor.byteOffset;
                        const componentType = accessor.componentType;
                        const count = accessor.count;
                        const componentsLength = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$numberOfComponentsForType$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.type);
                        const length = accessor.count * componentsLength;
                        const typedArray = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$ComponentDatatype$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].createArrayBufferView(componentType, source.buffer, byteOffset, length);
                        for(let j = 0; j < count; j++){
                            const offset = j * componentsLength;
                            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Cartesian3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].unpack(typedArray, offset, axis);
                            const angle = typedArray[offset + 3];
                            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Quaternion$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].fromAxisAngle(axis, angle, quat);
                            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Quaternion$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].pack(quat, typedArray, offset);
                        }
                    }
                }
            }
        }
    }
}
function removeTechniquePasses(gltf) {
    const techniques = gltf.techniques;
    for(const techniqueId in techniques){
        if (Object.prototype.hasOwnProperty.call(techniques, techniqueId)) {
            const technique = techniques[techniqueId];
            const passes = technique.passes;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(passes)) {
                const passName = technique.pass ?? "defaultPass";
                if (Object.prototype.hasOwnProperty.call(passes, passName)) {
                    const pass = passes[passName];
                    const instanceProgram = pass.instanceProgram;
                    technique.attributes = technique.attributes ?? instanceProgram.attributes;
                    technique.program = technique.program ?? instanceProgram.program;
                    technique.uniforms = technique.uniforms ?? instanceProgram.uniforms;
                    technique.states = technique.states ?? pass.states;
                }
                delete technique.passes;
                delete technique.pass;
            }
        }
    }
}
function glTF08to10(gltf) {
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf.asset)) {
        gltf.asset = {};
    }
    const asset = gltf.asset;
    asset.version = "1.0";
    // Profile should be an object, not a string
    if (typeof asset.profile === "string") {
        const split = asset.profile.split(" ");
        asset.profile = {
            api: split[0],
            version: split[1]
        };
    } else {
        asset.profile = {};
    }
    // Version property should be in asset, not on the root element
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf.version)) {
        delete gltf.version;
    }
    // material.instanceTechnique properties should be directly on the material
    updateInstanceTechniques(gltf);
    // primitive.primitive should be primitive.mode
    setPrimitiveModes(gltf);
    // Node rotation should be quaternion, not axis-angle
    // node.instanceSkin is deprecated
    updateNodes(gltf);
    // Animations that target rotations should be quaternion, not axis-angle
    updateAnimations(gltf);
    // technique.pass and techniques.passes are deprecated
    removeTechniquePasses(gltf);
    // gltf.allExtensions -> extensionsUsed
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf.allExtensions)) {
        gltf.extensionsUsed = gltf.allExtensions;
        delete gltf.allExtensions;
    }
    // gltf.lights -> khrMaterialsCommon.lights
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf.lights)) {
        const extensions = gltf.extensions ?? {};
        gltf.extensions = extensions;
        const materialsCommon = extensions.KHR_materials_common ?? {};
        extensions.KHR_materials_common = materialsCommon;
        materialsCommon.lights = gltf.lights;
        delete gltf.lights;
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addExtensionsUsed$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "KHR_materials_common");
    }
}
function removeAnimationSamplersIndirection(gltf) {
    const animations = gltf.animations;
    for(const animationId in animations){
        if (Object.prototype.hasOwnProperty.call(animations, animationId)) {
            const animation = animations[animationId];
            const parameters = animation.parameters;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(parameters)) {
                const samplers = animation.samplers;
                for(const samplerId in samplers){
                    if (Object.prototype.hasOwnProperty.call(samplers, samplerId)) {
                        const sampler = samplers[samplerId];
                        sampler.input = parameters[sampler.input];
                        sampler.output = parameters[sampler.output];
                    }
                }
                delete animation.parameters;
            }
        }
    }
}
function objectToArray(object, mapping) {
    const array = [];
    for(const id in object){
        if (Object.prototype.hasOwnProperty.call(object, id)) {
            const value = object[id];
            mapping[id] = array.length;
            array.push(value);
            if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value.name)) {
                value.name = id;
            }
        }
    }
    return array;
}
function objectsToArrays(gltf) {
    let i;
    const globalMapping = {
        accessors: {},
        animations: {},
        buffers: {},
        bufferViews: {},
        cameras: {},
        images: {},
        materials: {},
        meshes: {},
        nodes: {},
        programs: {},
        samplers: {},
        scenes: {},
        shaders: {},
        skins: {},
        textures: {},
        techniques: {}
    };
    // Map joint names to id names
    let jointName;
    const jointNameToId = {};
    const nodes = gltf.nodes;
    for(const id in nodes){
        if (Object.prototype.hasOwnProperty.call(nodes, id)) {
            jointName = nodes[id].jointName;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(jointName)) {
                jointNameToId[jointName] = id;
            }
        }
    }
    // Convert top level objects to arrays
    for(const topLevelId in gltf){
        if (Object.prototype.hasOwnProperty.call(gltf, topLevelId) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(globalMapping[topLevelId])) {
            const objectMapping = {};
            const object = gltf[topLevelId];
            gltf[topLevelId] = objectToArray(object, objectMapping);
            globalMapping[topLevelId] = objectMapping;
        }
    }
    // Remap joint names to array indexes
    for(jointName in jointNameToId){
        if (Object.prototype.hasOwnProperty.call(jointNameToId, jointName)) {
            jointNameToId[jointName] = globalMapping.nodes[jointNameToId[jointName]];
        }
    }
    // Fix references
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf.scene)) {
        gltf.scene = globalMapping.scenes[gltf.scene];
    }
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].bufferView(gltf, function(bufferView) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(bufferView.buffer)) {
            bufferView.buffer = globalMapping.buffers[bufferView.buffer];
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].accessor(gltf, function(accessor) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.bufferView)) {
            accessor.bufferView = globalMapping.bufferViews[accessor.bufferView];
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].shader(gltf, function(shader) {
        const extensions = shader.extensions;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensions)) {
            const binaryGltf = extensions.KHR_binary_glTF;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(binaryGltf)) {
                shader.bufferView = globalMapping.bufferViews[binaryGltf.bufferView];
                delete extensions.KHR_binary_glTF;
            }
            if (Object.keys(extensions).length === 0) {
                delete shader.extensions;
            }
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].program(gltf, function(program) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(program.vertexShader)) {
            program.vertexShader = globalMapping.shaders[program.vertexShader];
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(program.fragmentShader)) {
            program.fragmentShader = globalMapping.shaders[program.fragmentShader];
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].technique(gltf, function(technique) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(technique.program)) {
            technique.program = globalMapping.programs[technique.program];
        }
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].techniqueParameter(technique, function(parameter) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(parameter.node)) {
                parameter.node = globalMapping.nodes[parameter.node];
            }
            const value = parameter.value;
            if (typeof value === "string") {
                parameter.value = {
                    index: globalMapping.textures[value]
                };
            }
        });
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].mesh(gltf, function(mesh) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitive(mesh, function(primitive) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(primitive.indices)) {
                primitive.indices = globalMapping.accessors[primitive.indices];
            }
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitiveAttribute(primitive, function(accessorId, semantic) {
                primitive.attributes[semantic] = globalMapping.accessors[accessorId];
            });
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(primitive.material)) {
                primitive.material = globalMapping.materials[primitive.material];
            }
        });
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].node(gltf, function(node) {
        let children = node.children;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(children)) {
            const childrenLength = children.length;
            for(i = 0; i < childrenLength; ++i){
                children[i] = globalMapping.nodes[children[i]];
            }
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.meshes)) {
            // Split out meshes on nodes
            const meshes = node.meshes;
            const meshesLength = meshes.length;
            if (meshesLength > 0) {
                node.mesh = globalMapping.meshes[meshes[0]];
                for(i = 1; i < meshesLength; ++i){
                    const meshNode = {
                        mesh: globalMapping.meshes[meshes[i]]
                    };
                    const meshNodeId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addToArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf.nodes, meshNode);
                    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(children)) {
                        children = [];
                        node.children = children;
                    }
                    children.push(meshNodeId);
                }
            }
            delete node.meshes;
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.camera)) {
            node.camera = globalMapping.cameras[node.camera];
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.skin)) {
            node.skin = globalMapping.skins[node.skin];
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.skeletons)) {
            // Assign skeletons to skins
            const skeletons = node.skeletons;
            const skeletonsLength = skeletons.length;
            if (skeletonsLength > 0 && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.skin)) {
                const skin = gltf.skins[node.skin];
                skin.skeleton = globalMapping.nodes[skeletons[0]];
            }
            delete node.skeletons;
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.jointName)) {
            delete node.jointName;
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].skin(gltf, function(skin) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(skin.inverseBindMatrices)) {
            skin.inverseBindMatrices = globalMapping.accessors[skin.inverseBindMatrices];
        }
        const jointNames = skin.jointNames;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(jointNames)) {
            const joints = [];
            const jointNamesLength = jointNames.length;
            for(i = 0; i < jointNamesLength; ++i){
                joints[i] = jointNameToId[jointNames[i]];
            }
            skin.joints = joints;
            delete skin.jointNames;
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].scene(gltf, function(scene) {
        const sceneNodes = scene.nodes;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(sceneNodes)) {
            const sceneNodesLength = sceneNodes.length;
            for(i = 0; i < sceneNodesLength; ++i){
                sceneNodes[i] = globalMapping.nodes[sceneNodes[i]];
            }
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animation(gltf, function(animation) {
        const samplerMapping = {};
        animation.samplers = objectToArray(animation.samplers, samplerMapping);
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animationSampler(animation, function(sampler) {
            sampler.input = globalMapping.accessors[sampler.input];
            sampler.output = globalMapping.accessors[sampler.output];
        });
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animationChannel(animation, function(channel) {
            channel.sampler = samplerMapping[channel.sampler];
            const target = channel.target;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(target)) {
                target.node = globalMapping.nodes[target.id];
                delete target.id;
            }
        });
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].material(gltf, function(material) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(material.technique)) {
            material.technique = globalMapping.techniques[material.technique];
        }
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].materialValue(material, function(value, name) {
            if (typeof value === "string") {
                material.values[name] = {
                    index: globalMapping.textures[value]
                };
            }
        });
        const extensions = material.extensions;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensions)) {
            const materialsCommon = extensions.KHR_materials_common;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(materialsCommon) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(materialsCommon.values)) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].materialValue(materialsCommon, function(value, name) {
                    if (typeof value === "string") {
                        materialsCommon.values[name] = {
                            index: globalMapping.textures[value]
                        };
                    }
                });
            }
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].image(gltf, function(image) {
        const extensions = image.extensions;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensions)) {
            const binaryGltf = extensions.KHR_binary_glTF;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(binaryGltf)) {
                image.bufferView = globalMapping.bufferViews[binaryGltf.bufferView];
                image.mimeType = binaryGltf.mimeType;
                delete extensions.KHR_binary_glTF;
            }
            if (Object.keys(extensions).length === 0) {
                delete image.extensions;
            }
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].texture(gltf, function(texture) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(texture.sampler)) {
            texture.sampler = globalMapping.samplers[texture.sampler];
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(texture.source)) {
            texture.source = globalMapping.images[texture.source];
        }
    });
}
function removeAnimationSamplerNames(gltf) {
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animation(gltf, function(animation) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animationSampler(animation, function(sampler) {
            delete sampler.name;
        });
    });
}
function removeEmptyArrays(gltf) {
    for(const topLevelId in gltf){
        if (Object.prototype.hasOwnProperty.call(gltf, topLevelId)) {
            const array = gltf[topLevelId];
            if (Array.isArray(array) && array.length === 0) {
                delete gltf[topLevelId];
            }
        }
    }
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].node(gltf, function(node) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.children) && node.children.length === 0) {
            delete node.children;
        }
    });
}
function stripAsset(gltf) {
    const asset = gltf.asset;
    delete asset.profile;
    delete asset.premultipliedAlpha;
}
const knownExtensions = {
    CESIUM_RTC: true,
    KHR_materials_common: true,
    WEB3D_quantized_attributes: true
};
function requireKnownExtensions(gltf) {
    const extensionsUsed = gltf.extensionsUsed;
    gltf.extensionsRequired = gltf.extensionsRequired ?? [];
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(extensionsUsed)) {
        const extensionsUsedLength = extensionsUsed.length;
        for(let i = 0; i < extensionsUsedLength; ++i){
            const extension = extensionsUsed[i];
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(knownExtensions[extension])) {
                gltf.extensionsRequired.push(extension);
            }
        }
    }
}
function removeBufferType(gltf) {
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].buffer(gltf, function(buffer) {
        delete buffer.type;
    });
}
function removeTextureProperties(gltf) {
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].texture(gltf, function(texture) {
        delete texture.format;
        delete texture.internalFormat;
        delete texture.target;
        delete texture.type;
    });
}
function requireAttributeSetIndex(gltf) {
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].mesh(gltf, function(mesh) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitive(mesh, function(primitive) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitiveAttribute(primitive, function(accessorId, semantic) {
                if (semantic === "TEXCOORD") {
                    primitive.attributes.TEXCOORD_0 = accessorId;
                } else if (semantic === "COLOR") {
                    primitive.attributes.COLOR_0 = accessorId;
                }
            });
            delete primitive.attributes.TEXCOORD;
            delete primitive.attributes.COLOR;
        });
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].technique(gltf, function(technique) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].techniqueParameter(technique, function(parameter) {
            const semantic = parameter.semantic;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(semantic)) {
                if (semantic === "TEXCOORD") {
                    parameter.semantic = "TEXCOORD_0";
                } else if (semantic === "COLOR") {
                    parameter.semantic = "COLOR_0";
                }
            }
        });
    });
}
const knownSemantics = {
    POSITION: true,
    NORMAL: true,
    TANGENT: true
};
const indexedSemantics = {
    COLOR: "COLOR",
    JOINT: "JOINTS",
    JOINTS: "JOINTS",
    TEXCOORD: "TEXCOORD",
    WEIGHT: "WEIGHTS",
    WEIGHTS: "WEIGHTS"
};
function underscoreApplicationSpecificSemantics(gltf) {
    const mappedSemantics = {};
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].mesh(gltf, function(mesh) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitive(mesh, function(primitive) {
            /*eslint-disable no-unused-vars*/ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].meshPrimitiveAttribute(primitive, function(accessorId, semantic) {
                if (semantic.charAt(0) !== "_") {
                    const setIndex = semantic.search(/_[0-9]+/g);
                    let strippedSemantic = semantic;
                    let suffix = "_0";
                    if (setIndex >= 0) {
                        strippedSemantic = semantic.substring(0, setIndex);
                        suffix = semantic.substring(setIndex);
                    }
                    let newSemantic;
                    const indexedSemantic = indexedSemantics[strippedSemantic];
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(indexedSemantic)) {
                        newSemantic = indexedSemantic + suffix;
                        mappedSemantics[semantic] = newSemantic;
                    } else if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(knownSemantics[strippedSemantic])) {
                        newSemantic = `_${semantic}`;
                        mappedSemantics[semantic] = newSemantic;
                    }
                }
            });
            for(const semantic in mappedSemantics){
                if (Object.prototype.hasOwnProperty.call(mappedSemantics, semantic)) {
                    const mappedSemantic = mappedSemantics[semantic];
                    const accessorId = primitive.attributes[semantic];
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessorId)) {
                        delete primitive.attributes[semantic];
                        primitive.attributes[mappedSemantic] = accessorId;
                    }
                }
            }
        });
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].technique(gltf, function(technique) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].techniqueParameter(technique, function(parameter) {
            const mappedSemantic = mappedSemantics[parameter.semantic];
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(mappedSemantic)) {
                parameter.semantic = mappedSemantic;
            }
        });
    });
}
function clampCameraParameters(gltf) {
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].camera(gltf, function(camera) {
        const perspective = camera.perspective;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(perspective)) {
            const aspectRatio = perspective.aspectRatio;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(aspectRatio) && aspectRatio === 0.0) {
                delete perspective.aspectRatio;
            }
            const yfov = perspective.yfov;
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(yfov) && yfov === 0.0) {
                perspective.yfov = 1.0;
            }
        }
    });
}
function computeAccessorByteStride(gltf, accessor) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.byteStride) && accessor.byteStride !== 0 ? accessor.byteStride : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$getAccessorByteStride$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, accessor);
}
function requireByteLength(gltf) {
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].buffer(gltf, function(buffer) {
        if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(buffer.byteLength)) {
            buffer.byteLength = buffer.extras._pipeline.source.length;
        }
    });
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].accessor(gltf, function(accessor) {
        const bufferViewId = accessor.bufferView;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(bufferViewId)) {
            const bufferView = gltf.bufferViews[bufferViewId];
            const accessorByteStride = computeAccessorByteStride(gltf, accessor);
            const accessorByteEnd = accessor.byteOffset + accessor.count * accessorByteStride;
            bufferView.byteLength = Math.max(bufferView.byteLength ?? 0, accessorByteEnd);
        }
    });
}
function moveByteStrideToBufferView(gltf) {
    let i;
    let j;
    let bufferView;
    const bufferViews = gltf.bufferViews;
    const bufferViewHasVertexAttributes = {};
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].accessorContainingVertexAttributeData(gltf, function(accessorId) {
        const accessor = gltf.accessors[accessorId];
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.bufferView)) {
            bufferViewHasVertexAttributes[accessor.bufferView] = true;
        }
    });
    // Map buffer views to a list of accessors
    const bufferViewMap = {};
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].accessor(gltf, function(accessor) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.bufferView)) {
            bufferViewMap[accessor.bufferView] = bufferViewMap[accessor.bufferView] ?? [];
            bufferViewMap[accessor.bufferView].push(accessor);
        }
    });
    // Split accessors with different byte strides
    for(const bufferViewId in bufferViewMap){
        if (Object.prototype.hasOwnProperty.call(bufferViewMap, bufferViewId)) {
            bufferView = bufferViews[bufferViewId];
            const accessors = bufferViewMap[bufferViewId];
            accessors.sort(function(a, b) {
                return a.byteOffset - b.byteOffset;
            });
            let currentByteOffset = 0;
            let currentIndex = 0;
            const accessorsLength = accessors.length;
            for(i = 0; i < accessorsLength; ++i){
                let accessor = accessors[i];
                const accessorByteStride = computeAccessorByteStride(gltf, accessor);
                const accessorByteOffset = accessor.byteOffset;
                const accessorByteLength = accessor.count * accessorByteStride;
                delete accessor.byteStride;
                const hasNextAccessor = i < accessorsLength - 1;
                const nextAccessorByteStride = hasNextAccessor ? computeAccessorByteStride(gltf, accessors[i + 1]) : undefined;
                if (accessorByteStride !== nextAccessorByteStride) {
                    const newBufferView = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$clone$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(bufferView, true);
                    if (bufferViewHasVertexAttributes[bufferViewId]) {
                        newBufferView.byteStride = accessorByteStride;
                    }
                    newBufferView.byteOffset += currentByteOffset;
                    newBufferView.byteLength = accessorByteOffset + accessorByteLength - currentByteOffset;
                    const newBufferViewId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addToArray$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(bufferViews, newBufferView);
                    for(j = currentIndex; j <= i; ++j){
                        accessor = accessors[j];
                        accessor.bufferView = newBufferViewId;
                        accessor.byteOffset = accessor.byteOffset - currentByteOffset;
                    }
                    // Set current byte offset to next accessor's byte offset
                    currentByteOffset = hasNextAccessor ? accessors[i + 1].byteOffset : undefined;
                    currentIndex = i + 1;
                }
            }
        }
    }
    // Remove unused buffer views
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$removeUnusedElements$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, [
        "accessor",
        "bufferView",
        "buffer"
    ]);
}
function requirePositionAccessorMinMax(gltf) {
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].accessorWithSemantic(gltf, "POSITION", function(accessorId) {
        const accessor = gltf.accessors[accessorId];
        if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.min) || !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.max)) {
            const minMax = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$findAccessorMinMax$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, accessor);
            accessor.min = minMax.min;
            accessor.max = minMax.max;
        }
    });
}
function isNodeEmpty(node) {
    return (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.children) || node.children.length === 0) && (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.meshes) || node.meshes.length === 0) && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.camera) && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.skin) && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.skeletons) && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.jointName) && (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.translation) || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Cartesian3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].fromArray(node.translation).equals(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Cartesian3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].ZERO)) && (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.scale) || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Cartesian3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].fromArray(node.scale).equals(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Cartesian3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"](1.0, 1.0, 1.0))) && (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.rotation) || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Cartesian4$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].fromArray(node.rotation).equals(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Cartesian4$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"](0.0, 0.0, 0.0, 1.0))) && (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.matrix) || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Matrix4$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].fromColumnMajorArray(node.matrix).equals(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$Matrix4$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].IDENTITY)) && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.extensions) && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(node.extras);
}
function deleteNode(gltf, nodeId) {
    // Remove from list of nodes in scene
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].scene(gltf, function(scene) {
        const sceneNodes = scene.nodes;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(sceneNodes)) {
            const sceneNodesLength = sceneNodes.length;
            for(let i = sceneNodesLength; i >= 0; --i){
                if (sceneNodes[i] === nodeId) {
                    sceneNodes.splice(i, 1);
                    return;
                }
            }
        }
    });
    // Remove parent node's reference to this node, and delete the parent if also empty
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].node(gltf, function(parentNode, parentNodeId) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(parentNode.children)) {
            const index = parentNode.children.indexOf(nodeId);
            if (index > -1) {
                parentNode.children.splice(index, 1);
                if (isNodeEmpty(parentNode)) {
                    deleteNode(gltf, parentNodeId);
                }
            }
        }
    });
    delete gltf.nodes[nodeId];
}
function removeEmptyNodes(gltf) {
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].node(gltf, function(node, nodeId) {
        if (isNodeEmpty(node)) {
            deleteNode(gltf, nodeId);
        }
    });
    return gltf;
}
function requireAnimationAccessorMinMax(gltf) {
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animation(gltf, function(animation) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].animationSampler(animation, function(sampler) {
            const accessor = gltf.accessors[sampler.input];
            if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.min) || !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.max)) {
                const minMax = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$findAccessorMinMax$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, accessor);
                accessor.min = minMax.min;
                accessor.max = minMax.max;
            }
        });
    });
}
function validatePresentAccessorMinMax(gltf) {
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].accessor(gltf, function(accessor) {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.min) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.max)) {
            const minMax = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$findAccessorMinMax$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, accessor);
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.min)) {
                accessor.min = minMax.min;
            }
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(accessor.max)) {
                accessor.max = minMax.max;
            }
        }
    });
}
function glTF10to20(gltf) {
    gltf.asset = gltf.asset ?? {};
    gltf.asset.version = "2.0";
    // material.instanceTechnique properties should be directly on the material. instanceTechnique is a gltf 0.8 property but is seen in some 1.0 models.
    updateInstanceTechniques(gltf);
    // animation.samplers now refers directly to accessors and animation.parameters should be removed
    removeAnimationSamplersIndirection(gltf);
    // Remove empty nodes and re-assign referencing indices
    removeEmptyNodes(gltf);
    // Top-level objects are now arrays referenced by index instead of id
    objectsToArrays(gltf);
    // Animation.sampler objects cannot have names
    removeAnimationSamplerNames(gltf);
    // asset.profile no longer exists
    stripAsset(gltf);
    // Move known extensions from extensionsUsed to extensionsRequired
    requireKnownExtensions(gltf);
    // bufferView.byteLength and buffer.byteLength are required
    requireByteLength(gltf);
    // byteStride moved from accessor to bufferView
    moveByteStrideToBufferView(gltf);
    // accessor.min and accessor.max must be defined for accessors containing POSITION attributes
    requirePositionAccessorMinMax(gltf);
    // An animation sampler's input accessor must have min and max properties defined
    requireAnimationAccessorMinMax(gltf);
    // When an acccessor has a min- or max, then it is recomputed, to capture the actual
    // value, and not use the (possibly imprecise) value from the input
    validatePresentAccessorMinMax(gltf);
    // buffer.type is unnecessary and should be removed
    removeBufferType(gltf);
    // Remove format, internalFormat, target, and type
    removeTextureProperties(gltf);
    // TEXCOORD and COLOR attributes must be written with a set index (TEXCOORD_#)
    requireAttributeSetIndex(gltf);
    // Add underscores to application-specific parameters
    underscoreApplicationSpecificSemantics(gltf);
    // Accessors referenced by JOINTS_0 and WEIGHTS_0 attributes must have correct component types
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$updateAccessorComponentTypes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf);
    // Clamp camera parameters
    clampCameraParameters(gltf);
    // Move legacy technique render states to material properties and add KHR_blend extension blending functions
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$moveTechniqueRenderStates$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf);
    // Add material techniques to KHR_techniques_webgl extension, removing shaders, programs, and techniques
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$moveTechniquesToExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf);
    // Remove empty arrays
    removeEmptyArrays(gltf);
}
// It's not possible to upgrade glTF 1.0 shaders to 2.0 PBR materials in a generic way,
// but we can look for certain uniform names that are commonly found in glTF 1.0 assets
// and create PBR materials out of those.
const defaultBaseColorTextureNames = [
    "u_tex",
    "u_diffuse",
    "u_emission",
    "u_diffuse_tex"
];
const defaultBaseColorFactorNames = [
    "u_diffuse",
    "u_diffuse_mat"
];
function initializePbrMaterial(material) {
    material.pbrMetallicRoughness = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(material.pbrMetallicRoughness) ? material.pbrMetallicRoughness : {};
    material.pbrMetallicRoughness.roughnessFactor = 1.0;
    material.pbrMetallicRoughness.metallicFactor = 0.0;
}
function isTexture(value) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(value.index);
}
function isVec4(value) {
    return Array.isArray(value) && value.length === 4;
}
function srgbToLinear(srgb) {
    const linear = new Array(4);
    linear[3] = srgb[3];
    for(let i = 0; i < 3; i++){
        const c = srgb[i];
        if (c <= 0.04045) {
            // eslint-disable-next-line no-loss-of-precision
            linear[i] = srgb[i] * 0.07739938080495356037151702786378;
        } else {
            linear[i] = Math.pow(// eslint-disable-next-line no-loss-of-precision
            (c + 0.055) * 0.94786729857819905213270142180095, 2.4);
        }
    }
    return linear;
}
function convertTechniquesToPbr(gltf, options) {
    options = options ?? {};
    const baseColorTextureNames = options.baseColorTextureNames ?? defaultBaseColorTextureNames;
    const baseColorFactorNames = options.baseColorFactorNames ?? defaultBaseColorFactorNames;
    // Future work: convert other values like emissive, specular, etc. Only handling diffuse right now.
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].material(gltf, function(material) {
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].materialValue(material, function(value, name) {
            if (baseColorTextureNames.indexOf(name) !== -1 && isTexture(value)) {
                initializePbrMaterial(material);
                material.pbrMetallicRoughness.baseColorTexture = value;
            } else if (baseColorFactorNames.indexOf(name) !== -1 && isVec4(value)) {
                initializePbrMaterial(material);
                material.pbrMetallicRoughness.baseColorFactor = srgbToLinear(value);
            }
        });
    });
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$removeExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "KHR_techniques_webgl");
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$removeExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "KHR_blend");
}
function assignAsBaseColor(material, baseColor) {
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(baseColor)) {
        if (isVec4(baseColor)) {
            material.pbrMetallicRoughness.baseColorFactor = srgbToLinear(baseColor);
        } else if (isTexture(baseColor)) {
            material.pbrMetallicRoughness.baseColorTexture = baseColor;
        }
    }
}
function assignAsEmissive(material, emissive) {
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(emissive)) {
        if (isVec4(emissive)) {
            material.emissiveFactor = emissive.slice(0, 3);
        } else if (isTexture(emissive)) {
            material.emissiveTexture = emissive;
        }
    }
}
function convertMaterialsCommonToPbr(gltf) {
    // Future work: convert KHR_materials_common lights to KHR_lights_punctual
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$ForEach$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].material(gltf, function(material) {
        const materialsCommon = (material.extensions ?? {}).KHR_materials_common;
        if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(materialsCommon)) {
            // Nothing to do
            return;
        }
        const values = materialsCommon.values ?? {};
        const ambient = values.ambient;
        const diffuse = values.diffuse;
        const emission = values.emission;
        const transparency = values.transparency;
        // These actually exist on the extension object, not the values object despite what's shown in the spec
        const doubleSided = materialsCommon.doubleSided;
        const transparent = materialsCommon.transparent;
        // Ignore specular and shininess for now because the conversion to PBR
        // isn't straightforward and depends on the technique
        initializePbrMaterial(material);
        const technique = materialsCommon.technique;
        if (technique === "CONSTANT") {
            // Add the KHR_materials_unlit extension
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$addExtensionsUsed$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "KHR_materials_unlit");
            material.extensions = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(material.extensions) ? material.extensions : {};
            material.extensions["KHR_materials_unlit"] = {};
            // The CONSTANT technique does not support 'diffuse', so
            // assign either the 'emission' or the 'ambient' as the
            // base color
            assignAsBaseColor(material, emission);
            assignAsBaseColor(material, ambient);
        } else {
            // Assign the 'diffuse' as the base color, and
            // the 'ambient' or 'emissive' as the emissive
            // part if they are present.
            assignAsBaseColor(material, diffuse);
            assignAsEmissive(material, ambient);
            assignAsEmissive(material, emission);
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(doubleSided)) {
            material.doubleSided = doubleSided;
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(transparency)) {
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(material.pbrMetallicRoughness.baseColorFactor)) {
                material.pbrMetallicRoughness.baseColorFactor[3] *= transparency;
            } else {
                material.pbrMetallicRoughness.baseColorFactor = [
                    1,
                    1,
                    1,
                    transparency
                ];
            }
        }
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Core$2f$defined$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(transparent)) {
            material.alphaMode = transparent ? "BLEND" : "OPAQUE";
        }
    });
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$cesium$2f$engine$2f$Source$2f$Scene$2f$GltfPipeline$2f$removeExtension$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(gltf, "KHR_materials_common");
}
const __TURBOPACK__default__export__ = updateVersion;
}),
]);

//# sourceMappingURL=node_modules_%40cesium_engine_Source_Scene_GltfPipeline_57640cba._.js.map