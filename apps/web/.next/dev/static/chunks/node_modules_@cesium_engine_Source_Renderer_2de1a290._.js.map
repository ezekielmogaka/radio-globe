{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/DrawCommand.js"],"sourcesContent":["import Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport PrimitiveType from \"../Core/PrimitiveType.js\";\n\nconst Flags = {\n  CULL: 1,\n  OCCLUDE: 2,\n  EXECUTE_IN_CLOSEST_FRUSTUM: 4,\n  DEBUG_SHOW_BOUNDING_VOLUME: 8,\n  CAST_SHADOWS: 16,\n  RECEIVE_SHADOWS: 32,\n  PICK_ONLY: 64,\n  DEPTH_FOR_TRANSLUCENT_CLASSIFICATION: 128,\n};\n\n/**\n * Represents a command to the renderer for drawing.\n *\n * @alias DrawCommand\n * @constructor\n *\n * @private\n */\nfunction DrawCommand(options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  this._boundingVolume = options.boundingVolume;\n  this._orientedBoundingBox = options.orientedBoundingBox;\n  this._modelMatrix = options.modelMatrix;\n  this._primitiveType = options.primitiveType ?? PrimitiveType.TRIANGLES;\n  this._vertexArray = options.vertexArray;\n  this._count = options.count;\n  this._offset = options.offset ?? 0;\n  this._instanceCount = options.instanceCount ?? 0;\n  this._shaderProgram = options.shaderProgram;\n  this._uniformMap = options.uniformMap;\n  this._renderState = options.renderState;\n  this._framebuffer = options.framebuffer;\n  this._pass = options.pass;\n  this._owner = options.owner;\n  this._debugOverlappingFrustums = 0;\n  this._pickId = options.pickId;\n  this._pickMetadataAllowed = options.pickMetadataAllowed === true;\n  this._pickedMetadataInfo = undefined;\n\n  // Set initial flags.\n  this._flags = 0;\n  this.cull = options.cull ?? true;\n  this.occlude = options.occlude ?? true;\n  this.executeInClosestFrustum = options.executeInClosestFrustum ?? false;\n  this.debugShowBoundingVolume = options.debugShowBoundingVolume ?? false;\n  this.castShadows = options.castShadows ?? false;\n  this.receiveShadows = options.receiveShadows ?? false;\n  this.pickOnly = options.pickOnly ?? false;\n  this.depthForTranslucentClassification =\n    options.depthForTranslucentClassification ?? false;\n\n  this.dirty = true;\n  this.lastDirtyTime = 0;\n\n  /**\n   * @private\n   */\n  this.derivedCommands = {};\n}\n\nfunction hasFlag(command, flag) {\n  return (command._flags & flag) === flag;\n}\n\nfunction setFlag(command, flag, value) {\n  if (value) {\n    command._flags |= flag;\n  } else {\n    command._flags &= ~flag;\n  }\n}\n\nObject.defineProperties(DrawCommand.prototype, {\n  /**\n   * The bounding volume of the geometry in world space.  This is used for culling and frustum selection.\n   * <p>\n   * For best rendering performance, use the tightest possible bounding volume.  Although\n   * <code>undefined</code> is allowed, always try to provide a bounding volume to\n   * allow the tightest possible near and far planes to be computed for the scene, and\n   * minimize the number of frustums needed.\n   * </p>\n   *\n   * @memberof DrawCommand.prototype\n   * @type {object}\n   * @default undefined\n   *\n   * @see DrawCommand#debugShowBoundingVolume\n   */\n  boundingVolume: {\n    get: function () {\n      return this._boundingVolume;\n    },\n    set: function (value) {\n      if (this._boundingVolume !== value) {\n        this._boundingVolume = value;\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * The oriented bounding box of the geometry in world space. If this is defined, it is used instead of\n   * {@link DrawCommand#boundingVolume} for plane intersection testing.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {OrientedBoundingBox}\n   * @default undefined\n   *\n   * @see DrawCommand#debugShowBoundingVolume\n   */\n  orientedBoundingBox: {\n    get: function () {\n      return this._orientedBoundingBox;\n    },\n    set: function (value) {\n      if (this._orientedBoundingBox !== value) {\n        this._orientedBoundingBox = value;\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * When <code>true</code>, the renderer frustum and horizon culls the command based on its {@link DrawCommand#boundingVolume}.\n   * If the command was already culled, set this to <code>false</code> for a performance improvement.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {boolean}\n   * @default true\n   */\n  cull: {\n    get: function () {\n      return hasFlag(this, Flags.CULL);\n    },\n    set: function (value) {\n      if (hasFlag(this, Flags.CULL) !== value) {\n        setFlag(this, Flags.CULL, value);\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * When <code>true</code>, the horizon culls the command based on its {@link DrawCommand#boundingVolume}.\n   * {@link DrawCommand#cull} must also be <code>true</code> in order for the command to be culled.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {boolean}\n   * @default true\n   */\n  occlude: {\n    get: function () {\n      return hasFlag(this, Flags.OCCLUDE);\n    },\n    set: function (value) {\n      if (hasFlag(this, Flags.OCCLUDE) !== value) {\n        setFlag(this, Flags.OCCLUDE, value);\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * The transformation from the geometry in model space to world space.\n   * <p>\n   * When <code>undefined</code>, the geometry is assumed to be defined in world space.\n   * </p>\n   *\n   * @memberof DrawCommand.prototype\n   * @type {Matrix4}\n   * @default undefined\n   */\n  modelMatrix: {\n    get: function () {\n      return this._modelMatrix;\n    },\n    set: function (value) {\n      if (this._modelMatrix !== value) {\n        this._modelMatrix = value;\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * The type of geometry in the vertex array.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {PrimitiveType}\n   * @default PrimitiveType.TRIANGLES\n   */\n  primitiveType: {\n    get: function () {\n      return this._primitiveType;\n    },\n    set: function (value) {\n      if (this._primitiveType !== value) {\n        this._primitiveType = value;\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * The vertex array.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {VertexArray}\n   * @default undefined\n   */\n  vertexArray: {\n    get: function () {\n      return this._vertexArray;\n    },\n    set: function (value) {\n      if (this._vertexArray !== value) {\n        this._vertexArray = value;\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * The number of vertices to draw in the vertex array.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {number}\n   * @default undefined\n   */\n  count: {\n    get: function () {\n      return this._count;\n    },\n    set: function (value) {\n      if (this._count !== value) {\n        this._count = value;\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * The offset to start drawing in the vertex array.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {number}\n   * @default 0\n   */\n  offset: {\n    get: function () {\n      return this._offset;\n    },\n    set: function (value) {\n      if (this._offset !== value) {\n        this._offset = value;\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * The number of instances to draw.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {number}\n   * @default 0\n   */\n  instanceCount: {\n    get: function () {\n      return this._instanceCount;\n    },\n    set: function (value) {\n      if (this._instanceCount !== value) {\n        this._instanceCount = value;\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * The shader program to apply.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {ShaderProgram}\n   * @default undefined\n   */\n  shaderProgram: {\n    get: function () {\n      return this._shaderProgram;\n    },\n    set: function (value) {\n      if (this._shaderProgram !== value) {\n        this._shaderProgram = value;\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * Whether this command should cast shadows when shadowing is enabled.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {boolean}\n   * @default false\n   */\n  castShadows: {\n    get: function () {\n      return hasFlag(this, Flags.CAST_SHADOWS);\n    },\n    set: function (value) {\n      if (hasFlag(this, Flags.CAST_SHADOWS) !== value) {\n        setFlag(this, Flags.CAST_SHADOWS, value);\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * Whether this command should receive shadows when shadowing is enabled.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {boolean}\n   * @default false\n   */\n  receiveShadows: {\n    get: function () {\n      return hasFlag(this, Flags.RECEIVE_SHADOWS);\n    },\n    set: function (value) {\n      if (hasFlag(this, Flags.RECEIVE_SHADOWS) !== value) {\n        setFlag(this, Flags.RECEIVE_SHADOWS, value);\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * An object with functions whose names match the uniforms in the shader program\n   * and return values to set those uniforms.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {object}\n   * @default undefined\n   */\n  uniformMap: {\n    get: function () {\n      return this._uniformMap;\n    },\n    set: function (value) {\n      if (this._uniformMap !== value) {\n        this._uniformMap = value;\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * The render state.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {RenderState}\n   * @default undefined\n   */\n  renderState: {\n    get: function () {\n      return this._renderState;\n    },\n    set: function (value) {\n      if (this._renderState !== value) {\n        this._renderState = value;\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * The framebuffer to draw to.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {Framebuffer}\n   * @default undefined\n   */\n  framebuffer: {\n    get: function () {\n      return this._framebuffer;\n    },\n    set: function (value) {\n      if (this._framebuffer !== value) {\n        this._framebuffer = value;\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * The pass when to render.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {Pass}\n   * @default undefined\n   */\n  pass: {\n    get: function () {\n      return this._pass;\n    },\n    set: function (value) {\n      if (this._pass !== value) {\n        this._pass = value;\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * Specifies if this command is only to be executed in the frustum closest\n   * to the eye containing the bounding volume. Defaults to <code>false</code>.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {boolean}\n   * @default false\n   */\n  executeInClosestFrustum: {\n    get: function () {\n      return hasFlag(this, Flags.EXECUTE_IN_CLOSEST_FRUSTUM);\n    },\n    set: function (value) {\n      if (hasFlag(this, Flags.EXECUTE_IN_CLOSEST_FRUSTUM) !== value) {\n        setFlag(this, Flags.EXECUTE_IN_CLOSEST_FRUSTUM, value);\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * The object who created this command.  This is useful for debugging command\n   * execution; it allows us to see who created a command when we only have a\n   * reference to the command, and can be used to selectively execute commands\n   * with {@link Scene#debugCommandFilter}.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {object}\n   * @default undefined\n   *\n   * @see Scene#debugCommandFilter\n   */\n  owner: {\n    get: function () {\n      return this._owner;\n    },\n    set: function (value) {\n      if (this._owner !== value) {\n        this._owner = value;\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * This property is for debugging only; it is not for production use nor is it optimized.\n   * <p>\n   * Draws the {@link DrawCommand#boundingVolume} for this command, assuming it is a sphere, when the command executes.\n   * </p>\n   *\n   * @memberof DrawCommand.prototype\n   * @type {boolean}\n   * @default false\n   *\n   * @see DrawCommand#boundingVolume\n   */\n  debugShowBoundingVolume: {\n    get: function () {\n      return hasFlag(this, Flags.DEBUG_SHOW_BOUNDING_VOLUME);\n    },\n    set: function (value) {\n      if (hasFlag(this, Flags.DEBUG_SHOW_BOUNDING_VOLUME) !== value) {\n        setFlag(this, Flags.DEBUG_SHOW_BOUNDING_VOLUME, value);\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * Used to implement Scene.debugShowFrustums.\n   * @private\n   */\n  debugOverlappingFrustums: {\n    get: function () {\n      return this._debugOverlappingFrustums;\n    },\n    set: function (value) {\n      if (this._debugOverlappingFrustums !== value) {\n        this._debugOverlappingFrustums = value;\n        this.dirty = true;\n      }\n    },\n  },\n  /**\n   * A GLSL string that will evaluate to a pick id. When <code>undefined</code>, the command will only draw depth\n   * during the pick pass.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {string|undefined}\n   * @default undefined\n   */\n  pickId: {\n    get: function () {\n      return this._pickId;\n    },\n    set: function (value) {\n      if (this._pickId !== value) {\n        this._pickId = value;\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * Whether metadata picking is allowed.\n   *\n   * This is essentially only set to `true` for draw commands that are\n   * part of a `ModelDrawCommand`, to check whether a derived command\n   * for metadata picking has to be created.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {boolean}\n   * @default undefined\n   * @private\n   */\n  pickMetadataAllowed: {\n    get: function () {\n      return this._pickMetadataAllowed;\n    },\n  },\n\n  /**\n   * Information about picked metadata.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {PickedMetadataInfo|undefined}\n   * @default undefined\n   */\n  pickedMetadataInfo: {\n    get: function () {\n      return this._pickedMetadataInfo;\n    },\n    set: function (value) {\n      if (this._pickedMetadataInfo !== value) {\n        this._pickedMetadataInfo = value;\n        this.dirty = true;\n      }\n    },\n  },\n\n  /**\n   * Whether this command should be executed in the pick pass only.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {boolean}\n   * @default false\n   */\n  pickOnly: {\n    get: function () {\n      return hasFlag(this, Flags.PICK_ONLY);\n    },\n    set: function (value) {\n      if (hasFlag(this, Flags.PICK_ONLY) !== value) {\n        setFlag(this, Flags.PICK_ONLY, value);\n        this.dirty = true;\n      }\n    },\n  },\n  /**\n   * Whether this command should be derived to draw depth for classification of translucent primitives.\n   *\n   * @memberof DrawCommand.prototype\n   * @type {boolean}\n   * @default false\n   */\n  depthForTranslucentClassification: {\n    get: function () {\n      return hasFlag(this, Flags.DEPTH_FOR_TRANSLUCENT_CLASSIFICATION);\n    },\n    set: function (value) {\n      if (hasFlag(this, Flags.DEPTH_FOR_TRANSLUCENT_CLASSIFICATION) !== value) {\n        setFlag(this, Flags.DEPTH_FOR_TRANSLUCENT_CLASSIFICATION, value);\n        this.dirty = true;\n      }\n    },\n  },\n});\n\n/**\n * @private\n */\nDrawCommand.shallowClone = function (command, result) {\n  if (!defined(command)) {\n    return undefined;\n  }\n  if (!defined(result)) {\n    result = new DrawCommand();\n  }\n\n  result._boundingVolume = command._boundingVolume;\n  result._orientedBoundingBox = command._orientedBoundingBox;\n  result._modelMatrix = command._modelMatrix;\n  result._primitiveType = command._primitiveType;\n  result._vertexArray = command._vertexArray;\n  result._count = command._count;\n  result._offset = command._offset;\n  result._instanceCount = command._instanceCount;\n  result._shaderProgram = command._shaderProgram;\n  result._uniformMap = command._uniformMap;\n  result._renderState = command._renderState;\n  result._framebuffer = command._framebuffer;\n  result._pass = command._pass;\n  result._owner = command._owner;\n  result._debugOverlappingFrustums = command._debugOverlappingFrustums;\n  result._pickId = command._pickId;\n  result._pickMetadataAllowed = command._pickMetadataAllowed;\n  result._pickedMetadataInfo = command._pickedMetadataInfo;\n  result._flags = command._flags;\n\n  result.dirty = true;\n  result.lastDirtyTime = 0;\n\n  return result;\n};\n\n/**\n * Executes the draw command.\n *\n * @param {Context} context The renderer context in which to draw.\n * @param {PassState} [passState] The state for the current render pass.\n */\nDrawCommand.prototype.execute = function (context, passState) {\n  context.draw(this, passState);\n};\nexport default DrawCommand;\n"],"names":["Flags","CULL","OCCLUDE","EXECUTE_IN_CLOSEST_FRUSTUM","DEBUG_SHOW_BOUNDING_VOLUME","CAST_SHADOWS","RECEIVE_SHADOWS","PICK_ONLY","DEPTH_FOR_TRANSLUCENT_CLASSIFICATION","DrawCommand","options","EMPTY_OBJECT","_boundingVolume","boundingVolume","_orientedBoundingBox","orientedBoundingBox","_modelMatrix","modelMatrix","_primitiveType","primitiveType","TRIANGLES","_vertexArray","vertexArray","_count","count","_offset","offset","_instanceCount","instanceCount","_shaderProgram","shaderProgram","_uniformMap","uniformMap","_renderState","renderState","_framebuffer","framebuffer","_pass","pass","_owner","owner","_debugOverlappingFrustums","_pickId","pickId","_pickMetadataAllowed","pickMetadataAllowed","_pickedMetadataInfo","undefined","_flags","cull","occlude","executeInClosestFrustum","debugShowBoundingVolume","castShadows","receiveShadows","pickOnly","depthForTranslucentClassification","dirty","lastDirtyTime","derivedCommands","hasFlag","command","flag","setFlag","value","Object","defineProperties","prototype","get","set","debugOverlappingFrustums","pickedMetadataInfo","shallowClone","result","execute","context","passState","draw"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 591, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/Pass.js"],"sourcesContent":["/**\n * The render pass for a command.\n *\n * @private\n */\nconst Pass = {\n  // If you add/modify/remove Pass constants, also change the automatic GLSL constants\n  // that start with 'czm_pass'\n  //\n  // Commands are executed in order by pass up to the translucent pass.\n  // Translucent geometry needs special handling (sorting/OIT). The compute pass\n  // is executed first and the overlay pass is executed last. Both are not sorted\n  // by frustum.\n  ENVIRONMENT: 0,\n  COMPUTE: 1,\n  GLOBE: 2,\n  TERRAIN_CLASSIFICATION: 3,\n  CESIUM_3D_TILE_EDGES: 4,\n  CESIUM_3D_TILE: 5,\n  CESIUM_3D_TILE_CLASSIFICATION: 6,\n  CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW: 7,\n  OPAQUE: 8,\n  TRANSLUCENT: 9,\n  VOXELS: 10,\n  GAUSSIAN_SPLATS: 11,\n  OVERLAY: 12,\n  NUMBER_OF_PASSES: 13,\n};\nexport default Object.freeze(Pass);\n"],"names":["Pass","ENVIRONMENT","COMPUTE","GLOBE","TERRAIN_CLASSIFICATION","CESIUM_3D_TILE_EDGES","CESIUM_3D_TILE","CESIUM_3D_TILE_CLASSIFICATION","CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW","OPAQUE","TRANSLUCENT","VOXELS","GAUSSIAN_SPLATS","OVERLAY","NUMBER_OF_PASSES","Object","freeze"],"mappings":";;;;AAAA;;;;CAIC,GACD,MAAMA,OAAO;IACX,oFAAoF;IACpF,6BAA6B;IAC7B,EAAE;IACF,qEAAqE;IACrE,8EAA8E;IAC9E,+EAA+E;IAC/E,cAAc;IACdC,aAAa;IACbC,SAAS;IACTC,OAAO;IACPC,wBAAwB;IACxBC,sBAAsB;IACtBC,gBAAgB;IAChBC,+BAA+B;IAC/BC,2CAA2C;IAC3CC,QAAQ;IACRC,aAAa;IACbC,QAAQ;IACRC,iBAAiB;IACjBC,SAAS;IACTC,kBAAkB;AACpB;uCACeC,OAAOC,MAAM,CAAChB","ignoreList":[0]}},
    {"offset": {"line": 627, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/ContextLimits.js"],"sourcesContent":["/**\n * These are set in the constructor for {@link Context}\n *\n * @private\n */\nconst ContextLimits = {\n  _maximumCombinedTextureImageUnits: 0,\n  _maximumCubeMapSize: 0,\n  _maximumFragmentUniformVectors: 0,\n  _maximumTextureImageUnits: 0,\n  _maximumRenderbufferSize: 0,\n  _maximumTextureSize: 0,\n  _maximumVaryingVectors: 0,\n  _maximumVertexAttributes: 0,\n  _maximumVertexTextureImageUnits: 0,\n  _maximumVertexUniformVectors: 0,\n  _minimumAliasedLineWidth: 0,\n  _maximumAliasedLineWidth: 0,\n  _minimumAliasedPointSize: 0,\n  _maximumAliasedPointSize: 0,\n  _maximumViewportWidth: 0,\n  _maximumViewportHeight: 0,\n  _maximumTextureFilterAnisotropy: 0,\n  _maximumDrawBuffers: 0,\n  _maximumColorAttachments: 0,\n  _maximumSamples: 0,\n  _highpFloatSupported: false,\n  _highpIntSupported: false,\n};\n\nObject.defineProperties(ContextLimits, {\n  /**\n   * The maximum number of texture units that can be used from the vertex and fragment\n   * shader with this WebGL implementation.  The minimum is eight.  If both shaders access the\n   * same texture unit, this counts as two texture units.\n   * @memberof ContextLimits\n   * @type {number}\n   * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGet.xml|glGet} with <code>MAX_COMBINED_TEXTURE_IMAGE_UNITS</code>.\n   */\n  maximumCombinedTextureImageUnits: {\n    get: function () {\n      return ContextLimits._maximumCombinedTextureImageUnits;\n    },\n  },\n\n  /**\n   * The approximate maximum cube map width and height supported by this WebGL implementation.\n   * The minimum is 16, but most desktop and laptop implementations will support much larger sizes like 8,192.\n   * @memberof ContextLimits\n   * @type {number}\n   * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGet.xml|glGet} with <code>MAX_CUBE_MAP_TEXTURE_SIZE</code>.\n   */\n  maximumCubeMapSize: {\n    get: function () {\n      return ContextLimits._maximumCubeMapSize;\n    },\n  },\n\n  /**\n   * The maximum number of <code>vec4</code>, <code>ivec4</code>, and <code>bvec4</code>\n   * uniforms that can be used by a fragment shader with this WebGL implementation.  The minimum is 16.\n   * @memberof ContextLimits\n   * @type {number}\n   * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGet.xml|glGet} with <code>MAX_FRAGMENT_UNIFORM_VECTORS</code>.\n   */\n  maximumFragmentUniformVectors: {\n    get: function () {\n      return ContextLimits._maximumFragmentUniformVectors;\n    },\n  },\n\n  /**\n   * The maximum number of texture units that can be used from the fragment shader with this WebGL implementation.  The minimum is eight.\n   * @memberof ContextLimits\n   * @type {number}\n   * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGet.xml|glGet} with <code>MAX_TEXTURE_IMAGE_UNITS</code>.\n   */\n  maximumTextureImageUnits: {\n    get: function () {\n      return ContextLimits._maximumTextureImageUnits;\n    },\n  },\n\n  /**\n   * The maximum renderbuffer width and height supported by this WebGL implementation.\n   * The minimum is 16, but most desktop and laptop implementations will support much larger sizes like 8,192.\n   * @memberof ContextLimits\n   * @type {number}\n   * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGet.xml|glGet} with <code>MAX_RENDERBUFFER_SIZE</code>.\n   */\n  maximumRenderbufferSize: {\n    get: function () {\n      return ContextLimits._maximumRenderbufferSize;\n    },\n  },\n\n  /**\n   * The approximate maximum texture width and height supported by this WebGL implementation.\n   * The minimum is 64, but most desktop and laptop implementations will support much larger sizes like 8,192.\n   * @memberof ContextLimits\n   * @type {number}\n   * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGet.xml|glGet} with <code>MAX_TEXTURE_SIZE</code>.\n   */\n  maximumTextureSize: {\n    get: function () {\n      return ContextLimits._maximumTextureSize;\n    },\n  },\n\n  /**\n   * The maximum number of <code>vec4</code> varying variables supported by this WebGL implementation.\n   * The minimum is eight.  Matrices and arrays count as multiple <code>vec4</code>s.\n   * @memberof ContextLimits\n   * @type {number}\n   * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGet.xml|glGet} with <code>MAX_VARYING_VECTORS</code>.\n   */\n  maximumVaryingVectors: {\n    get: function () {\n      return ContextLimits._maximumVaryingVectors;\n    },\n  },\n\n  /**\n   * The maximum number of <code>vec4</code> vertex attributes supported by this WebGL implementation.  The minimum is eight.\n   * @memberof ContextLimits\n   * @type {number}\n   * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGet.xml|glGet} with <code>MAX_VERTEX_ATTRIBS</code>.\n   */\n  maximumVertexAttributes: {\n    get: function () {\n      return ContextLimits._maximumVertexAttributes;\n    },\n  },\n\n  /**\n   * The maximum number of texture units that can be used from the vertex shader with this WebGL implementation.\n   * The minimum is zero, which means the GL does not support vertex texture fetch.\n   * @memberof ContextLimits\n   * @type {number}\n   * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGet.xml|glGet} with <code>MAX_VERTEX_TEXTURE_IMAGE_UNITS</code>.\n   */\n  maximumVertexTextureImageUnits: {\n    get: function () {\n      return ContextLimits._maximumVertexTextureImageUnits;\n    },\n  },\n\n  /**\n   * The maximum number of <code>vec4</code>, <code>ivec4</code>, and <code>bvec4</code>\n   * uniforms that can be used by a vertex shader with this WebGL implementation.  The minimum is 16.\n   * @memberof ContextLimits\n   * @type {number}\n   * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGet.xml|glGet} with <code>MAX_VERTEX_UNIFORM_VECTORS</code>.\n   */\n  maximumVertexUniformVectors: {\n    get: function () {\n      return ContextLimits._maximumVertexUniformVectors;\n    },\n  },\n\n  /**\n   * The minimum aliased line width, in pixels, supported by this WebGL implementation.  It will be at most one.\n   * @memberof ContextLimits\n   * @type {number}\n   * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGet.xml|glGet} with <code>ALIASED_LINE_WIDTH_RANGE</code>.\n   */\n  minimumAliasedLineWidth: {\n    get: function () {\n      return ContextLimits._minimumAliasedLineWidth;\n    },\n  },\n\n  /**\n   * The maximum aliased line width, in pixels, supported by this WebGL implementation.  It will be at least one.\n   * @memberof ContextLimits\n   * @type {number}\n   * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGet.xml|glGet} with <code>ALIASED_LINE_WIDTH_RANGE</code>.\n   */\n  maximumAliasedLineWidth: {\n    get: function () {\n      return ContextLimits._maximumAliasedLineWidth;\n    },\n  },\n\n  /**\n   * The minimum aliased point size, in pixels, supported by this WebGL implementation.  It will be at most one.\n   * @memberof ContextLimits\n   * @type {number}\n   * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGet.xml|glGet} with <code>ALIASED_POINT_SIZE_RANGE</code>.\n   */\n  minimumAliasedPointSize: {\n    get: function () {\n      return ContextLimits._minimumAliasedPointSize;\n    },\n  },\n\n  /**\n   * The maximum aliased point size, in pixels, supported by this WebGL implementation.  It will be at least one.\n   * @memberof ContextLimits\n   * @type {number}\n   * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGet.xml|glGet} with <code>ALIASED_POINT_SIZE_RANGE</code>.\n   */\n  maximumAliasedPointSize: {\n    get: function () {\n      return ContextLimits._maximumAliasedPointSize;\n    },\n  },\n\n  /**\n   * The maximum supported width of the viewport.  It will be at least as large as the visible width of the associated canvas.\n   * @memberof ContextLimits\n   * @type {number}\n   * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGet.xml|glGet} with <code>MAX_VIEWPORT_DIMS</code>.\n   */\n  maximumViewportWidth: {\n    get: function () {\n      return ContextLimits._maximumViewportWidth;\n    },\n  },\n\n  /**\n   * The maximum supported height of the viewport.  It will be at least as large as the visible height of the associated canvas.\n   * @memberof ContextLimits\n   * @type {number}\n   * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGet.xml|glGet} with <code>MAX_VIEWPORT_DIMS</code>.\n   */\n  maximumViewportHeight: {\n    get: function () {\n      return ContextLimits._maximumViewportHeight;\n    },\n  },\n\n  /**\n   * The maximum degree of anisotropy for texture filtering\n   * @memberof ContextLimits\n   * @type {number}\n   */\n  maximumTextureFilterAnisotropy: {\n    get: function () {\n      return ContextLimits._maximumTextureFilterAnisotropy;\n    },\n  },\n\n  /**\n   * The maximum number of simultaneous outputs that may be written in a fragment shader.\n   * @memberof ContextLimits\n   * @type {number}\n   */\n  maximumDrawBuffers: {\n    get: function () {\n      return ContextLimits._maximumDrawBuffers;\n    },\n  },\n\n  /**\n   * The maximum number of color attachments supported.\n   * @memberof ContextLimits\n   * @type {number}\n   */\n  maximumColorAttachments: {\n    get: function () {\n      return ContextLimits._maximumColorAttachments;\n    },\n  },\n\n  /**\n   * The maximum number of samples supported for multisampling.\n   * @memberof ContextLimits\n   * @type {number}\n   */\n  maximumSamples: {\n    get: function () {\n      return ContextLimits._maximumSamples;\n    },\n  },\n\n  /**\n   * High precision float supported (<code>highp</code>) in fragment shaders.\n   * @memberof ContextLimits\n   * @type {boolean}\n   */\n  highpFloatSupported: {\n    get: function () {\n      return ContextLimits._highpFloatSupported;\n    },\n  },\n\n  /**\n   * High precision int supported (<code>highp</code>) in fragment shaders.\n   * @memberof ContextLimits\n   * @type {boolean}\n   */\n  highpIntSupported: {\n    get: function () {\n      return ContextLimits._highpIntSupported;\n    },\n  },\n});\nexport default ContextLimits;\n"],"names":["ContextLimits","_maximumCombinedTextureImageUnits","_maximumCubeMapSize","_maximumFragmentUniformVectors","_maximumTextureImageUnits","_maximumRenderbufferSize","_maximumTextureSize","_maximumVaryingVectors","_maximumVertexAttributes","_maximumVertexTextureImageUnits","_maximumVertexUniformVectors","_minimumAliasedLineWidth","_maximumAliasedLineWidth","_minimumAliasedPointSize","_maximumAliasedPointSize","_maximumViewportWidth","_maximumViewportHeight","_maximumTextureFilterAnisotropy","_maximumDrawBuffers","_maximumColorAttachments","_maximumSamples","_highpFloatSupported","_highpIntSupported","Object","defineProperties","maximumCombinedTextureImageUnits","get","maximumCubeMapSize","maximumFragmentUniformVectors","maximumTextureImageUnits","maximumRenderbufferSize","maximumTextureSize","maximumVaryingVectors","maximumVertexAttributes","maximumVertexTextureImageUnits","maximumVertexUniformVectors","minimumAliasedLineWidth","maximumAliasedLineWidth","minimumAliasedPointSize","maximumAliasedPointSize","maximumViewportWidth","maximumViewportHeight","maximumTextureFilterAnisotropy","maximumDrawBuffers","maximumColorAttachments","maximumSamples","highpFloatSupported","highpIntSupported"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 889, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/freezeRenderState.js"],"sourcesContent":["/**\n * Returns frozen renderState as well as all of the object literal properties. This function is deep object freeze\n * function ignoring properties named \"_applyFunctions\".\n *\n * @private\n *\n * @param {object} renderState\n * @returns {object} Returns frozen renderState.\n *\n */\nfunction freezeRenderState(renderState) {\n  if (typeof renderState !== \"object\" || renderState === null) {\n    return renderState;\n  }\n\n  let propName;\n  const propNames = Object.keys(renderState);\n\n  for (let i = 0; i < propNames.length; i++) {\n    propName = propNames[i];\n    if (\n      renderState.hasOwnProperty(propName) &&\n      propName !== \"_applyFunctions\"\n    ) {\n      renderState[propName] = freezeRenderState(renderState[propName]);\n    }\n  }\n  return Object.freeze(renderState);\n}\nexport default freezeRenderState;\n"],"names":["freezeRenderState","renderState","propName","propNames","Object","keys","i","length","hasOwnProperty","freeze"],"mappings":";;;;AAAA;;;;;;;;;CASC,GACD,SAASA,kBAAkBC,WAAW;IACpC,IAAI,OAAOA,gBAAgB,YAAYA,gBAAgB,MAAM;QAC3D,OAAOA;IACT;IAEA,IAAIC;IACJ,MAAMC,YAAYC,OAAOC,IAAI,CAACJ;IAE9B,IAAK,IAAIK,IAAI,GAAGA,IAAIH,UAAUI,MAAM,EAAED,IAAK;QACzCJ,WAAWC,SAAS,CAACG,EAAE;QACvB,IACEL,YAAYO,cAAc,CAACN,aAC3BA,aAAa,mBACb;YACAD,WAAW,CAACC,SAAS,GAAGF,kBAAkBC,WAAW,CAACC,SAAS;QACjE;IACF;IACA,OAAOE,OAAOK,MAAM,CAACR;AACvB;uCACeD","ignoreList":[0]}},
    {"offset": {"line": 921, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/RenderState.js"],"sourcesContent":["import BoundingRectangle from \"../Core/BoundingRectangle.js\";\nimport Color from \"../Core/Color.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport WebGLConstants from \"../Core/WebGLConstants.js\";\nimport WindingOrder from \"../Core/WindingOrder.js\";\nimport ContextLimits from \"./ContextLimits.js\";\nimport freezeRenderState from \"./freezeRenderState.js\";\n\nfunction validateBlendEquation(blendEquation) {\n  return (\n    blendEquation === WebGLConstants.FUNC_ADD ||\n    blendEquation === WebGLConstants.FUNC_SUBTRACT ||\n    blendEquation === WebGLConstants.FUNC_REVERSE_SUBTRACT ||\n    blendEquation === WebGLConstants.MIN ||\n    blendEquation === WebGLConstants.MAX\n  );\n}\n\nfunction validateBlendFunction(blendFunction) {\n  return (\n    blendFunction === WebGLConstants.ZERO ||\n    blendFunction === WebGLConstants.ONE ||\n    blendFunction === WebGLConstants.SRC_COLOR ||\n    blendFunction === WebGLConstants.ONE_MINUS_SRC_COLOR ||\n    blendFunction === WebGLConstants.DST_COLOR ||\n    blendFunction === WebGLConstants.ONE_MINUS_DST_COLOR ||\n    blendFunction === WebGLConstants.SRC_ALPHA ||\n    blendFunction === WebGLConstants.ONE_MINUS_SRC_ALPHA ||\n    blendFunction === WebGLConstants.DST_ALPHA ||\n    blendFunction === WebGLConstants.ONE_MINUS_DST_ALPHA ||\n    blendFunction === WebGLConstants.CONSTANT_COLOR ||\n    blendFunction === WebGLConstants.ONE_MINUS_CONSTANT_COLOR ||\n    blendFunction === WebGLConstants.CONSTANT_ALPHA ||\n    blendFunction === WebGLConstants.ONE_MINUS_CONSTANT_ALPHA ||\n    blendFunction === WebGLConstants.SRC_ALPHA_SATURATE\n  );\n}\n\nfunction validateCullFace(cullFace) {\n  return (\n    cullFace === WebGLConstants.FRONT ||\n    cullFace === WebGLConstants.BACK ||\n    cullFace === WebGLConstants.FRONT_AND_BACK\n  );\n}\n\nfunction validateDepthFunction(depthFunction) {\n  return (\n    depthFunction === WebGLConstants.NEVER ||\n    depthFunction === WebGLConstants.LESS ||\n    depthFunction === WebGLConstants.EQUAL ||\n    depthFunction === WebGLConstants.LEQUAL ||\n    depthFunction === WebGLConstants.GREATER ||\n    depthFunction === WebGLConstants.NOTEQUAL ||\n    depthFunction === WebGLConstants.GEQUAL ||\n    depthFunction === WebGLConstants.ALWAYS\n  );\n}\n\nfunction validateStencilFunction(stencilFunction) {\n  return (\n    stencilFunction === WebGLConstants.NEVER ||\n    stencilFunction === WebGLConstants.LESS ||\n    stencilFunction === WebGLConstants.EQUAL ||\n    stencilFunction === WebGLConstants.LEQUAL ||\n    stencilFunction === WebGLConstants.GREATER ||\n    stencilFunction === WebGLConstants.NOTEQUAL ||\n    stencilFunction === WebGLConstants.GEQUAL ||\n    stencilFunction === WebGLConstants.ALWAYS\n  );\n}\n\nfunction validateStencilOperation(stencilOperation) {\n  return (\n    stencilOperation === WebGLConstants.ZERO ||\n    stencilOperation === WebGLConstants.KEEP ||\n    stencilOperation === WebGLConstants.REPLACE ||\n    stencilOperation === WebGLConstants.INCR ||\n    stencilOperation === WebGLConstants.DECR ||\n    stencilOperation === WebGLConstants.INVERT ||\n    stencilOperation === WebGLConstants.INCR_WRAP ||\n    stencilOperation === WebGLConstants.DECR_WRAP\n  );\n}\n\n/**\n * @private\n */\nfunction RenderState(renderState) {\n  const rs = renderState ?? Frozen.EMPTY_OBJECT;\n  const cull = rs.cull ?? Frozen.EMPTY_OBJECT;\n  const polygonOffset = rs.polygonOffset ?? Frozen.EMPTY_OBJECT;\n  const scissorTest = rs.scissorTest ?? Frozen.EMPTY_OBJECT;\n  const scissorTestRectangle = scissorTest.rectangle ?? Frozen.EMPTY_OBJECT;\n  const depthRange = rs.depthRange ?? Frozen.EMPTY_OBJECT;\n  const depthTest = rs.depthTest ?? Frozen.EMPTY_OBJECT;\n  const colorMask = rs.colorMask ?? Frozen.EMPTY_OBJECT;\n  const blending = rs.blending ?? Frozen.EMPTY_OBJECT;\n  const blendingColor = blending.color ?? Frozen.EMPTY_OBJECT;\n  const stencilTest = rs.stencilTest ?? Frozen.EMPTY_OBJECT;\n  const stencilTestFrontOperation =\n    stencilTest.frontOperation ?? Frozen.EMPTY_OBJECT;\n  const stencilTestBackOperation =\n    stencilTest.backOperation ?? Frozen.EMPTY_OBJECT;\n  const sampleCoverage = rs.sampleCoverage ?? Frozen.EMPTY_OBJECT;\n  const viewport = rs.viewport;\n\n  this.frontFace = rs.frontFace ?? WindingOrder.COUNTER_CLOCKWISE;\n  this.cull = {\n    enabled: cull.enabled ?? false,\n    face: cull.face ?? WebGLConstants.BACK,\n  };\n  this.lineWidth = rs.lineWidth ?? 1.0;\n  this.polygonOffset = {\n    enabled: polygonOffset.enabled ?? false,\n    factor: polygonOffset.factor ?? 0,\n    units: polygonOffset.units ?? 0,\n  };\n  this.scissorTest = {\n    enabled: scissorTest.enabled ?? false,\n    rectangle: BoundingRectangle.clone(scissorTestRectangle),\n  };\n  this.depthRange = {\n    near: depthRange.near ?? 0,\n    far: depthRange.far ?? 1,\n  };\n  this.depthTest = {\n    enabled: depthTest.enabled ?? false,\n    func: depthTest.func ?? WebGLConstants.LESS, // func, because function is a JavaScript keyword\n  };\n  this.colorMask = {\n    red: colorMask.red ?? true,\n    green: colorMask.green ?? true,\n    blue: colorMask.blue ?? true,\n    alpha: colorMask.alpha ?? true,\n  };\n  this.depthMask = rs.depthMask ?? true;\n  this.stencilMask = rs.stencilMask ?? ~0;\n  this.blending = {\n    enabled: blending.enabled ?? false,\n    color: new Color(\n      blendingColor.red ?? 0.0,\n      blendingColor.green ?? 0.0,\n      blendingColor.blue ?? 0.0,\n      blendingColor.alpha ?? 0.0,\n    ),\n    equationRgb: blending.equationRgb ?? WebGLConstants.FUNC_ADD,\n    equationAlpha: blending.equationAlpha ?? WebGLConstants.FUNC_ADD,\n    functionSourceRgb: blending.functionSourceRgb ?? WebGLConstants.ONE,\n    functionSourceAlpha: blending.functionSourceAlpha ?? WebGLConstants.ONE,\n    functionDestinationRgb:\n      blending.functionDestinationRgb ?? WebGLConstants.ZERO,\n    functionDestinationAlpha:\n      blending.functionDestinationAlpha ?? WebGLConstants.ZERO,\n  };\n  this.stencilTest = {\n    enabled: stencilTest.enabled ?? false,\n    frontFunction: stencilTest.frontFunction ?? WebGLConstants.ALWAYS,\n    backFunction: stencilTest.backFunction ?? WebGLConstants.ALWAYS,\n    reference: stencilTest.reference ?? 0,\n    mask: stencilTest.mask ?? ~0,\n    frontOperation: {\n      fail: stencilTestFrontOperation.fail ?? WebGLConstants.KEEP,\n      zFail: stencilTestFrontOperation.zFail ?? WebGLConstants.KEEP,\n      zPass: stencilTestFrontOperation.zPass ?? WebGLConstants.KEEP,\n    },\n    backOperation: {\n      fail: stencilTestBackOperation.fail ?? WebGLConstants.KEEP,\n      zFail: stencilTestBackOperation.zFail ?? WebGLConstants.KEEP,\n      zPass: stencilTestBackOperation.zPass ?? WebGLConstants.KEEP,\n    },\n  };\n  this.sampleCoverage = {\n    enabled: sampleCoverage.enabled ?? false,\n    value: sampleCoverage.value ?? 1.0,\n    invert: sampleCoverage.invert ?? false,\n  };\n  this.viewport = defined(viewport)\n    ? new BoundingRectangle(\n        viewport.x,\n        viewport.y,\n        viewport.width,\n        viewport.height,\n      )\n    : undefined;\n\n  //>>includeStart('debug', pragmas.debug);\n  if (\n    this.lineWidth < ContextLimits.minimumAliasedLineWidth ||\n    this.lineWidth > ContextLimits.maximumAliasedLineWidth\n  ) {\n    throw new DeveloperError(\n      \"renderState.lineWidth is out of range.  Check minimumAliasedLineWidth and maximumAliasedLineWidth.\",\n    );\n  }\n  if (!WindingOrder.validate(this.frontFace)) {\n    throw new DeveloperError(\"Invalid renderState.frontFace.\");\n  }\n  if (!validateCullFace(this.cull.face)) {\n    throw new DeveloperError(\"Invalid renderState.cull.face.\");\n  }\n  if (\n    this.scissorTest.rectangle.width < 0 ||\n    this.scissorTest.rectangle.height < 0\n  ) {\n    throw new DeveloperError(\n      \"renderState.scissorTest.rectangle.width and renderState.scissorTest.rectangle.height must be greater than or equal to zero.\",\n    );\n  }\n  if (this.depthRange.near > this.depthRange.far) {\n    // WebGL specific - not an error in GL ES\n    throw new DeveloperError(\n      \"renderState.depthRange.near can not be greater than renderState.depthRange.far.\",\n    );\n  }\n  if (this.depthRange.near < 0) {\n    // Would be clamped by GL\n    throw new DeveloperError(\n      \"renderState.depthRange.near must be greater than or equal to zero.\",\n    );\n  }\n  if (this.depthRange.far > 1) {\n    // Would be clamped by GL\n    throw new DeveloperError(\n      \"renderState.depthRange.far must be less than or equal to one.\",\n    );\n  }\n  if (!validateDepthFunction(this.depthTest.func)) {\n    throw new DeveloperError(\"Invalid renderState.depthTest.func.\");\n  }\n  if (\n    this.blending.color.red < 0.0 ||\n    this.blending.color.red > 1.0 ||\n    this.blending.color.green < 0.0 ||\n    this.blending.color.green > 1.0 ||\n    this.blending.color.blue < 0.0 ||\n    this.blending.color.blue > 1.0 ||\n    this.blending.color.alpha < 0.0 ||\n    this.blending.color.alpha > 1.0\n  ) {\n    // Would be clamped by GL\n    throw new DeveloperError(\n      \"renderState.blending.color components must be greater than or equal to zero and less than or equal to one.\",\n    );\n  }\n  if (!validateBlendEquation(this.blending.equationRgb)) {\n    throw new DeveloperError(\"Invalid renderState.blending.equationRgb.\");\n  }\n  if (!validateBlendEquation(this.blending.equationAlpha)) {\n    throw new DeveloperError(\"Invalid renderState.blending.equationAlpha.\");\n  }\n  if (!validateBlendFunction(this.blending.functionSourceRgb)) {\n    throw new DeveloperError(\"Invalid renderState.blending.functionSourceRgb.\");\n  }\n  if (!validateBlendFunction(this.blending.functionSourceAlpha)) {\n    throw new DeveloperError(\n      \"Invalid renderState.blending.functionSourceAlpha.\",\n    );\n  }\n  if (!validateBlendFunction(this.blending.functionDestinationRgb)) {\n    throw new DeveloperError(\n      \"Invalid renderState.blending.functionDestinationRgb.\",\n    );\n  }\n  if (!validateBlendFunction(this.blending.functionDestinationAlpha)) {\n    throw new DeveloperError(\n      \"Invalid renderState.blending.functionDestinationAlpha.\",\n    );\n  }\n  if (!validateStencilFunction(this.stencilTest.frontFunction)) {\n    throw new DeveloperError(\"Invalid renderState.stencilTest.frontFunction.\");\n  }\n  if (!validateStencilFunction(this.stencilTest.backFunction)) {\n    throw new DeveloperError(\"Invalid renderState.stencilTest.backFunction.\");\n  }\n  if (!validateStencilOperation(this.stencilTest.frontOperation.fail)) {\n    throw new DeveloperError(\n      \"Invalid renderState.stencilTest.frontOperation.fail.\",\n    );\n  }\n  if (!validateStencilOperation(this.stencilTest.frontOperation.zFail)) {\n    throw new DeveloperError(\n      \"Invalid renderState.stencilTest.frontOperation.zFail.\",\n    );\n  }\n  if (!validateStencilOperation(this.stencilTest.frontOperation.zPass)) {\n    throw new DeveloperError(\n      \"Invalid renderState.stencilTest.frontOperation.zPass.\",\n    );\n  }\n  if (!validateStencilOperation(this.stencilTest.backOperation.fail)) {\n    throw new DeveloperError(\n      \"Invalid renderState.stencilTest.backOperation.fail.\",\n    );\n  }\n  if (!validateStencilOperation(this.stencilTest.backOperation.zFail)) {\n    throw new DeveloperError(\n      \"Invalid renderState.stencilTest.backOperation.zFail.\",\n    );\n  }\n  if (!validateStencilOperation(this.stencilTest.backOperation.zPass)) {\n    throw new DeveloperError(\n      \"Invalid renderState.stencilTest.backOperation.zPass.\",\n    );\n  }\n\n  if (defined(this.viewport)) {\n    if (this.viewport.width < 0) {\n      throw new DeveloperError(\n        \"renderState.viewport.width must be greater than or equal to zero.\",\n      );\n    }\n    if (this.viewport.height < 0) {\n      throw new DeveloperError(\n        \"renderState.viewport.height must be greater than or equal to zero.\",\n      );\n    }\n\n    if (this.viewport.width > ContextLimits.maximumViewportWidth) {\n      throw new DeveloperError(\n        `renderState.viewport.width must be less than or equal to the maximum viewport width (${ContextLimits.maximumViewportWidth.toString()}).  Check maximumViewportWidth.`,\n      );\n    }\n    if (this.viewport.height > ContextLimits.maximumViewportHeight) {\n      throw new DeveloperError(\n        `renderState.viewport.height must be less than or equal to the maximum viewport height (${ContextLimits.maximumViewportHeight.toString()}).  Check maximumViewportHeight.`,\n      );\n    }\n  }\n  //>>includeEnd('debug');\n\n  this.id = 0;\n  this._applyFunctions = [];\n}\n\nlet nextRenderStateId = 0;\nlet renderStateCache = {};\n\n/**\n * Validates and then finds or creates an immutable render state, which defines the pipeline\n * state for a {@link DrawCommand} or {@link ClearCommand}.  All inputs states are optional.  Omitted states\n * use the defaults shown in the example below.\n *\n * @param {object} [renderState] The states defining the render state as shown in the example below.\n *\n * @exception {RuntimeError} renderState.lineWidth is out of range.\n * @exception {DeveloperError} Invalid renderState.frontFace.\n * @exception {DeveloperError} Invalid renderState.cull.face.\n * @exception {DeveloperError} scissorTest.rectangle.width and scissorTest.rectangle.height must be greater than or equal to zero.\n * @exception {DeveloperError} renderState.depthRange.near can't be greater than renderState.depthRange.far.\n * @exception {DeveloperError} renderState.depthRange.near must be greater than or equal to zero.\n * @exception {DeveloperError} renderState.depthRange.far must be less than or equal to zero.\n * @exception {DeveloperError} Invalid renderState.depthTest.func.\n * @exception {DeveloperError} renderState.blending.color components must be greater than or equal to zero and less than or equal to one\n * @exception {DeveloperError} Invalid renderState.blending.equationRgb.\n * @exception {DeveloperError} Invalid renderState.blending.equationAlpha.\n * @exception {DeveloperError} Invalid renderState.blending.functionSourceRgb.\n * @exception {DeveloperError} Invalid renderState.blending.functionSourceAlpha.\n * @exception {DeveloperError} Invalid renderState.blending.functionDestinationRgb.\n * @exception {DeveloperError} Invalid renderState.blending.functionDestinationAlpha.\n * @exception {DeveloperError} Invalid renderState.stencilTest.frontFunction.\n * @exception {DeveloperError} Invalid renderState.stencilTest.backFunction.\n * @exception {DeveloperError} Invalid renderState.stencilTest.frontOperation.fail.\n * @exception {DeveloperError} Invalid renderState.stencilTest.frontOperation.zFail.\n * @exception {DeveloperError} Invalid renderState.stencilTest.frontOperation.zPass.\n * @exception {DeveloperError} Invalid renderState.stencilTest.backOperation.fail.\n * @exception {DeveloperError} Invalid renderState.stencilTest.backOperation.zFail.\n * @exception {DeveloperError} Invalid renderState.stencilTest.backOperation.zPass.\n * @exception {DeveloperError} renderState.viewport.width must be greater than or equal to zero.\n * @exception {DeveloperError} renderState.viewport.width must be less than or equal to the maximum viewport width.\n * @exception {DeveloperError} renderState.viewport.height must be greater than or equal to zero.\n * @exception {DeveloperError} renderState.viewport.height must be less than or equal to the maximum viewport height.\n *\n *\n * @example\n * const defaults = {\n *     frontFace : WindingOrder.COUNTER_CLOCKWISE,\n *     cull : {\n *         enabled : false,\n *         face : CullFace.BACK\n *     },\n *     lineWidth : 1,\n *     polygonOffset : {\n *         enabled : false,\n *         factor : 0,\n *         units : 0\n *     },\n *     scissorTest : {\n *         enabled : false,\n *         rectangle : {\n *             x : 0,\n *             y : 0,\n *             width : 0,\n *             height : 0\n *         }\n *     },\n *     depthRange : {\n *         near : 0,\n *         far : 1\n *     },\n *     depthTest : {\n *         enabled : false,\n *         func : DepthFunction.LESS\n *      },\n *     colorMask : {\n *         red : true,\n *         green : true,\n *         blue : true,\n *         alpha : true\n *     },\n *     depthMask : true,\n *     stencilMask : ~0,\n *     blending : {\n *         enabled : false,\n *         color : {\n *             red : 0.0,\n *             green : 0.0,\n *             blue : 0.0,\n *             alpha : 0.0\n *         },\n *         equationRgb : BlendEquation.ADD,\n *         equationAlpha : BlendEquation.ADD,\n *         functionSourceRgb : BlendFunction.ONE,\n *         functionSourceAlpha : BlendFunction.ONE,\n *         functionDestinationRgb : BlendFunction.ZERO,\n *         functionDestinationAlpha : BlendFunction.ZERO\n *     },\n *     stencilTest : {\n *         enabled : false,\n *         frontFunction : StencilFunction.ALWAYS,\n *         backFunction : StencilFunction.ALWAYS,\n *         reference : 0,\n *         mask : ~0,\n *         frontOperation : {\n *             fail : StencilOperation.KEEP,\n *             zFail : StencilOperation.KEEP,\n *             zPass : StencilOperation.KEEP\n *         },\n *         backOperation : {\n *             fail : StencilOperation.KEEP,\n *             zFail : StencilOperation.KEEP,\n *             zPass : StencilOperation.KEEP\n *         }\n *     },\n *     sampleCoverage : {\n *         enabled : false,\n *         value : 1.0,\n *         invert : false\n *      }\n * };\n *\n * const rs = RenderState.fromCache(defaults);\n *\n * @see DrawCommand\n * @see ClearCommand\n *\n * @private\n */\nRenderState.fromCache = function (renderState) {\n  const partialKey = JSON.stringify(renderState);\n  let cachedState = renderStateCache[partialKey];\n  if (defined(cachedState)) {\n    ++cachedState.referenceCount;\n    return cachedState.state;\n  }\n\n  // Cache miss.  Fully define render state and try again.\n  let states = new RenderState(renderState);\n  const fullKey = JSON.stringify(states);\n  cachedState = renderStateCache[fullKey];\n  if (!defined(cachedState)) {\n    states.id = nextRenderStateId++;\n    //>>includeStart('debug', pragmas.debug);\n    states = freezeRenderState(states);\n    //>>includeEnd('debug');\n    cachedState = {\n      referenceCount: 0,\n      state: states,\n    };\n\n    // Cache full render state.  Multiple partially defined render states may map to this.\n    renderStateCache[fullKey] = cachedState;\n  }\n\n  ++cachedState.referenceCount;\n\n  // Cache partial render state so we can skip validation on a cache hit for a partially defined render state\n  renderStateCache[partialKey] = {\n    referenceCount: 1,\n    state: cachedState.state,\n  };\n\n  return cachedState.state;\n};\n\n/**\n * @private\n */\nRenderState.removeFromCache = function (renderState) {\n  const states = new RenderState(renderState);\n  const fullKey = JSON.stringify(states);\n  const fullCachedState = renderStateCache[fullKey];\n\n  // decrement partial key reference count\n  const partialKey = JSON.stringify(renderState);\n  const cachedState = renderStateCache[partialKey];\n  if (defined(cachedState)) {\n    --cachedState.referenceCount;\n\n    if (cachedState.referenceCount === 0) {\n      // remove partial key\n      delete renderStateCache[partialKey];\n\n      // decrement full key reference count\n      if (defined(fullCachedState)) {\n        --fullCachedState.referenceCount;\n      }\n    }\n  }\n\n  // remove full key if reference count is zero\n  if (defined(fullCachedState) && fullCachedState.referenceCount === 0) {\n    delete renderStateCache[fullKey];\n  }\n};\n\n/**\n * This function is for testing purposes only.\n * @private\n */\nRenderState.getCache = function () {\n  return renderStateCache;\n};\n\n/**\n * This function is for testing purposes only.\n * @private\n */\nRenderState.clearCache = function () {\n  renderStateCache = {};\n};\n\nfunction enableOrDisable(gl, glEnum, enable) {\n  if (enable) {\n    gl.enable(glEnum);\n  } else {\n    gl.disable(glEnum);\n  }\n}\n\nfunction applyFrontFace(gl, renderState) {\n  gl.frontFace(renderState.frontFace);\n}\n\nfunction applyCull(gl, renderState) {\n  const cull = renderState.cull;\n  const enabled = cull.enabled;\n\n  enableOrDisable(gl, gl.CULL_FACE, enabled);\n\n  if (enabled) {\n    gl.cullFace(cull.face);\n  }\n}\n\nfunction applyLineWidth(gl, renderState) {\n  gl.lineWidth(renderState.lineWidth);\n}\n\nfunction applyPolygonOffset(gl, renderState) {\n  const polygonOffset = renderState.polygonOffset;\n  const enabled = polygonOffset.enabled;\n\n  enableOrDisable(gl, gl.POLYGON_OFFSET_FILL, enabled);\n\n  if (enabled) {\n    gl.polygonOffset(polygonOffset.factor, polygonOffset.units);\n  }\n}\n\nfunction applyScissorTest(gl, renderState, passState) {\n  const scissorTest = renderState.scissorTest;\n  const enabled = defined(passState.scissorTest)\n    ? passState.scissorTest.enabled\n    : scissorTest.enabled;\n\n  enableOrDisable(gl, gl.SCISSOR_TEST, enabled);\n\n  if (enabled) {\n    const rectangle = defined(passState.scissorTest)\n      ? passState.scissorTest.rectangle\n      : scissorTest.rectangle;\n    gl.scissor(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n  }\n}\n\nfunction applyDepthRange(gl, renderState) {\n  const depthRange = renderState.depthRange;\n  gl.depthRange(depthRange.near, depthRange.far);\n}\n\nfunction applyDepthTest(gl, renderState) {\n  const depthTest = renderState.depthTest;\n  const enabled = depthTest.enabled;\n\n  enableOrDisable(gl, gl.DEPTH_TEST, enabled);\n\n  if (enabled) {\n    gl.depthFunc(depthTest.func);\n  }\n}\n\nfunction applyColorMask(gl, renderState) {\n  const colorMask = renderState.colorMask;\n  gl.colorMask(colorMask.red, colorMask.green, colorMask.blue, colorMask.alpha);\n}\n\nfunction applyDepthMask(gl, renderState) {\n  gl.depthMask(renderState.depthMask);\n}\n\nfunction applyStencilMask(gl, renderState) {\n  gl.stencilMask(renderState.stencilMask);\n}\n\nfunction applyBlendingColor(gl, color) {\n  gl.blendColor(color.red, color.green, color.blue, color.alpha);\n}\n\nfunction applyBlending(gl, renderState, passState) {\n  const blending = renderState.blending;\n  const enabled = defined(passState.blendingEnabled)\n    ? passState.blendingEnabled\n    : blending.enabled;\n\n  enableOrDisable(gl, gl.BLEND, enabled);\n\n  if (enabled) {\n    applyBlendingColor(gl, blending.color);\n    gl.blendEquationSeparate(blending.equationRgb, blending.equationAlpha);\n    gl.blendFuncSeparate(\n      blending.functionSourceRgb,\n      blending.functionDestinationRgb,\n      blending.functionSourceAlpha,\n      blending.functionDestinationAlpha,\n    );\n  }\n}\n\nfunction applyStencilTest(gl, renderState) {\n  const stencilTest = renderState.stencilTest;\n  const enabled = stencilTest.enabled;\n\n  enableOrDisable(gl, gl.STENCIL_TEST, enabled);\n\n  if (enabled) {\n    const frontFunction = stencilTest.frontFunction;\n    const backFunction = stencilTest.backFunction;\n    const reference = stencilTest.reference;\n    const mask = stencilTest.mask;\n\n    // Section 6.8 of the WebGL spec requires the reference and masks to be the same for\n    // front- and back-face tests.  This call prevents invalid operation errors when calling\n    // stencilFuncSeparate on Firefox.  Perhaps they should delay validation to avoid requiring this.\n    gl.stencilFunc(frontFunction, reference, mask);\n    gl.stencilFuncSeparate(gl.BACK, backFunction, reference, mask);\n    gl.stencilFuncSeparate(gl.FRONT, frontFunction, reference, mask);\n\n    const frontOperation = stencilTest.frontOperation;\n    const frontOperationFail = frontOperation.fail;\n    const frontOperationZFail = frontOperation.zFail;\n    const frontOperationZPass = frontOperation.zPass;\n\n    gl.stencilOpSeparate(\n      gl.FRONT,\n      frontOperationFail,\n      frontOperationZFail,\n      frontOperationZPass,\n    );\n\n    const backOperation = stencilTest.backOperation;\n    const backOperationFail = backOperation.fail;\n    const backOperationZFail = backOperation.zFail;\n    const backOperationZPass = backOperation.zPass;\n\n    gl.stencilOpSeparate(\n      gl.BACK,\n      backOperationFail,\n      backOperationZFail,\n      backOperationZPass,\n    );\n  }\n}\n\nfunction applySampleCoverage(gl, renderState) {\n  const sampleCoverage = renderState.sampleCoverage;\n  const enabled = sampleCoverage.enabled;\n\n  enableOrDisable(gl, gl.SAMPLE_COVERAGE, enabled);\n\n  if (enabled) {\n    gl.sampleCoverage(sampleCoverage.value, sampleCoverage.invert);\n  }\n}\n\nconst scratchViewport = new BoundingRectangle();\n\nfunction applyViewport(gl, renderState, passState) {\n  let viewport = renderState.viewport ?? passState.viewport;\n  if (!defined(viewport)) {\n    viewport = scratchViewport;\n    viewport.width = passState.context.drawingBufferWidth;\n    viewport.height = passState.context.drawingBufferHeight;\n  }\n\n  passState.context.uniformState.viewport = viewport;\n  gl.viewport(viewport.x, viewport.y, viewport.width, viewport.height);\n}\n\nRenderState.apply = function (gl, renderState, passState) {\n  applyFrontFace(gl, renderState);\n  applyCull(gl, renderState);\n  applyLineWidth(gl, renderState);\n  applyPolygonOffset(gl, renderState);\n  applyDepthRange(gl, renderState);\n  applyDepthTest(gl, renderState);\n  applyColorMask(gl, renderState);\n  applyDepthMask(gl, renderState);\n  applyStencilMask(gl, renderState);\n  applyStencilTest(gl, renderState);\n  applySampleCoverage(gl, renderState);\n  applyScissorTest(gl, renderState, passState);\n  applyBlending(gl, renderState, passState);\n  applyViewport(gl, renderState, passState);\n};\n\nfunction createFuncs(previousState, nextState) {\n  const funcs = [];\n\n  if (previousState.frontFace !== nextState.frontFace) {\n    funcs.push(applyFrontFace);\n  }\n\n  if (\n    previousState.cull.enabled !== nextState.cull.enabled ||\n    previousState.cull.face !== nextState.cull.face\n  ) {\n    funcs.push(applyCull);\n  }\n\n  if (previousState.lineWidth !== nextState.lineWidth) {\n    funcs.push(applyLineWidth);\n  }\n\n  if (\n    previousState.polygonOffset.enabled !== nextState.polygonOffset.enabled ||\n    previousState.polygonOffset.factor !== nextState.polygonOffset.factor ||\n    previousState.polygonOffset.units !== nextState.polygonOffset.units\n  ) {\n    funcs.push(applyPolygonOffset);\n  }\n\n  if (\n    previousState.depthRange.near !== nextState.depthRange.near ||\n    previousState.depthRange.far !== nextState.depthRange.far\n  ) {\n    funcs.push(applyDepthRange);\n  }\n\n  if (\n    previousState.depthTest.enabled !== nextState.depthTest.enabled ||\n    previousState.depthTest.func !== nextState.depthTest.func\n  ) {\n    funcs.push(applyDepthTest);\n  }\n\n  if (\n    previousState.colorMask.red !== nextState.colorMask.red ||\n    previousState.colorMask.green !== nextState.colorMask.green ||\n    previousState.colorMask.blue !== nextState.colorMask.blue ||\n    previousState.colorMask.alpha !== nextState.colorMask.alpha\n  ) {\n    funcs.push(applyColorMask);\n  }\n\n  if (previousState.depthMask !== nextState.depthMask) {\n    funcs.push(applyDepthMask);\n  }\n\n  if (previousState.stencilMask !== nextState.stencilMask) {\n    funcs.push(applyStencilMask);\n  }\n\n  if (\n    previousState.stencilTest.enabled !== nextState.stencilTest.enabled ||\n    previousState.stencilTest.frontFunction !==\n      nextState.stencilTest.frontFunction ||\n    previousState.stencilTest.backFunction !==\n      nextState.stencilTest.backFunction ||\n    previousState.stencilTest.reference !== nextState.stencilTest.reference ||\n    previousState.stencilTest.mask !== nextState.stencilTest.mask ||\n    previousState.stencilTest.frontOperation.fail !==\n      nextState.stencilTest.frontOperation.fail ||\n    previousState.stencilTest.frontOperation.zFail !==\n      nextState.stencilTest.frontOperation.zFail ||\n    previousState.stencilTest.backOperation.fail !==\n      nextState.stencilTest.backOperation.fail ||\n    previousState.stencilTest.backOperation.zFail !==\n      nextState.stencilTest.backOperation.zFail ||\n    previousState.stencilTest.backOperation.zPass !==\n      nextState.stencilTest.backOperation.zPass\n  ) {\n    funcs.push(applyStencilTest);\n  }\n\n  if (\n    previousState.sampleCoverage.enabled !== nextState.sampleCoverage.enabled ||\n    previousState.sampleCoverage.value !== nextState.sampleCoverage.value ||\n    previousState.sampleCoverage.invert !== nextState.sampleCoverage.invert\n  ) {\n    funcs.push(applySampleCoverage);\n  }\n\n  return funcs;\n}\n\nRenderState.partialApply = function (\n  gl,\n  previousRenderState,\n  renderState,\n  previousPassState,\n  passState,\n  clear,\n) {\n  if (previousRenderState !== renderState) {\n    // When a new render state is applied, instead of making WebGL calls for all the states or first\n    // comparing the states one-by-one with the previous state (basically a linear search), we take\n    // advantage of RenderState's immutability, and store a dynamically populated sparse data structure\n    // containing functions that make the minimum number of WebGL calls when transitioning from one state\n    // to the other.  In practice, this works well since state-to-state transitions generally only require a\n    // few WebGL calls, especially if commands are stored by state.\n    let funcs = renderState._applyFunctions[previousRenderState.id];\n    if (!defined(funcs)) {\n      funcs = createFuncs(previousRenderState, renderState);\n      renderState._applyFunctions[previousRenderState.id] = funcs;\n    }\n\n    const len = funcs.length;\n    for (let i = 0; i < len; ++i) {\n      funcs[i](gl, renderState);\n    }\n  }\n\n  const previousScissorTest = defined(previousPassState.scissorTest)\n    ? previousPassState.scissorTest\n    : previousRenderState.scissorTest;\n  const scissorTest = defined(passState.scissorTest)\n    ? passState.scissorTest\n    : renderState.scissorTest;\n\n  // Our scissor rectangle can get out of sync with the GL scissor rectangle on clears.\n  // Seems to be a problem only on ANGLE. See https://github.com/CesiumGS/cesium/issues/2994\n  if (previousScissorTest !== scissorTest || clear) {\n    applyScissorTest(gl, renderState, passState);\n  }\n\n  const previousBlendingEnabled = defined(previousPassState.blendingEnabled)\n    ? previousPassState.blendingEnabled\n    : previousRenderState.blending.enabled;\n  const blendingEnabled = defined(passState.blendingEnabled)\n    ? passState.blendingEnabled\n    : renderState.blending.enabled;\n  if (\n    previousBlendingEnabled !== blendingEnabled ||\n    (blendingEnabled && previousRenderState.blending !== renderState.blending)\n  ) {\n    applyBlending(gl, renderState, passState);\n  }\n\n  if (\n    previousRenderState !== renderState ||\n    previousPassState !== passState ||\n    previousPassState.context !== passState.context\n  ) {\n    applyViewport(gl, renderState, passState);\n  }\n};\n\nRenderState.getState = function (renderState) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(renderState)) {\n    throw new DeveloperError(\"renderState is required.\");\n  }\n  //>>includeEnd('debug');\n\n  return {\n    frontFace: renderState.frontFace,\n    cull: {\n      enabled: renderState.cull.enabled,\n      face: renderState.cull.face,\n    },\n    lineWidth: renderState.lineWidth,\n    polygonOffset: {\n      enabled: renderState.polygonOffset.enabled,\n      factor: renderState.polygonOffset.factor,\n      units: renderState.polygonOffset.units,\n    },\n    scissorTest: {\n      enabled: renderState.scissorTest.enabled,\n      rectangle: BoundingRectangle.clone(renderState.scissorTest.rectangle),\n    },\n    depthRange: {\n      near: renderState.depthRange.near,\n      far: renderState.depthRange.far,\n    },\n    depthTest: {\n      enabled: renderState.depthTest.enabled,\n      func: renderState.depthTest.func,\n    },\n    colorMask: {\n      red: renderState.colorMask.red,\n      green: renderState.colorMask.green,\n      blue: renderState.colorMask.blue,\n      alpha: renderState.colorMask.alpha,\n    },\n    depthMask: renderState.depthMask,\n    stencilMask: renderState.stencilMask,\n    blending: {\n      enabled: renderState.blending.enabled,\n      color: Color.clone(renderState.blending.color),\n      equationRgb: renderState.blending.equationRgb,\n      equationAlpha: renderState.blending.equationAlpha,\n      functionSourceRgb: renderState.blending.functionSourceRgb,\n      functionSourceAlpha: renderState.blending.functionSourceAlpha,\n      functionDestinationRgb: renderState.blending.functionDestinationRgb,\n      functionDestinationAlpha: renderState.blending.functionDestinationAlpha,\n    },\n    stencilTest: {\n      enabled: renderState.stencilTest.enabled,\n      frontFunction: renderState.stencilTest.frontFunction,\n      backFunction: renderState.stencilTest.backFunction,\n      reference: renderState.stencilTest.reference,\n      mask: renderState.stencilTest.mask,\n      frontOperation: {\n        fail: renderState.stencilTest.frontOperation.fail,\n        zFail: renderState.stencilTest.frontOperation.zFail,\n        zPass: renderState.stencilTest.frontOperation.zPass,\n      },\n      backOperation: {\n        fail: renderState.stencilTest.backOperation.fail,\n        zFail: renderState.stencilTest.backOperation.zFail,\n        zPass: renderState.stencilTest.backOperation.zPass,\n      },\n    },\n    sampleCoverage: {\n      enabled: renderState.sampleCoverage.enabled,\n      value: renderState.sampleCoverage.value,\n      invert: renderState.sampleCoverage.invert,\n    },\n    viewport: defined(renderState.viewport)\n      ? BoundingRectangle.clone(renderState.viewport)\n      : undefined,\n  };\n};\nexport default RenderState;\n"],"names":["validateBlendEquation","blendEquation","FUNC_ADD","FUNC_SUBTRACT","FUNC_REVERSE_SUBTRACT","MIN","MAX","validateBlendFunction","blendFunction","ZERO","ONE","SRC_COLOR","ONE_MINUS_SRC_COLOR","DST_COLOR","ONE_MINUS_DST_COLOR","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","DST_ALPHA","ONE_MINUS_DST_ALPHA","CONSTANT_COLOR","ONE_MINUS_CONSTANT_COLOR","CONSTANT_ALPHA","ONE_MINUS_CONSTANT_ALPHA","SRC_ALPHA_SATURATE","validateCullFace","cullFace","FRONT","BACK","FRONT_AND_BACK","validateDepthFunction","depthFunction","NEVER","LESS","EQUAL","LEQUAL","GREATER","NOTEQUAL","GEQUAL","ALWAYS","validateStencilFunction","stencilFunction","validateStencilOperation","stencilOperation","KEEP","REPLACE","INCR","DECR","INVERT","INCR_WRAP","DECR_WRAP","RenderState","renderState","rs","EMPTY_OBJECT","cull","polygonOffset","scissorTest","scissorTestRectangle","rectangle","depthRange","depthTest","colorMask","blending","blendingColor","color","stencilTest","stencilTestFrontOperation","frontOperation","stencilTestBackOperation","backOperation","sampleCoverage","viewport","frontFace","COUNTER_CLOCKWISE","enabled","face","lineWidth","factor","units","clone","near","far","func","red","green","blue","alpha","depthMask","stencilMask","equationRgb","equationAlpha","functionSourceRgb","functionSourceAlpha","functionDestinationRgb","functionDestinationAlpha","frontFunction","backFunction","reference","mask","fail","zFail","zPass","value","invert","x","y","width","height","undefined","minimumAliasedLineWidth","maximumAliasedLineWidth","validate","maximumViewportWidth","toString","maximumViewportHeight","id","_applyFunctions","nextRenderStateId","renderStateCache","fromCache","partialKey","JSON","stringify","cachedState","referenceCount","state","states","fullKey","removeFromCache","fullCachedState","getCache","clearCache","enableOrDisable","gl","glEnum","enable","disable","applyFrontFace","applyCull","CULL_FACE","applyLineWidth","applyPolygonOffset","POLYGON_OFFSET_FILL","applyScissorTest","passState","SCISSOR_TEST","scissor","applyDepthRange","applyDepthTest","DEPTH_TEST","depthFunc","applyColorMask","applyDepthMask","applyStencilMask","applyBlendingColor","blendColor","applyBlending","blendingEnabled","BLEND","blendEquationSeparate","blendFuncSeparate","applyStencilTest","STENCIL_TEST","stencilFunc","stencilFuncSeparate","frontOperationFail","frontOperationZFail","frontOperationZPass","stencilOpSeparate","backOperationFail","backOperationZFail","backOperationZPass","applySampleCoverage","SAMPLE_COVERAGE","scratchViewport","applyViewport","context","drawingBufferWidth","drawingBufferHeight","uniformState","apply","createFuncs","previousState","nextState","funcs","push","partialApply","previousRenderState","previousPassState","clear","len","length","i","previousScissorTest","previousBlendingEnabled","getState"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1608, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/AutomaticUniforms.js"],"sourcesContent":["import Cartesian3 from \"../Core/Cartesian3.js\";\nimport Matrix4 from \"../Core/Matrix4.js\";\nimport WebGLConstants from \"../Core/WebGLConstants.js\";\n\nconst viewerPositionWCScratch = new Cartesian3();\n\nfunction AutomaticUniform(options) {\n  this._size = options.size;\n  this._datatype = options.datatype;\n  this.getValue = options.getValue;\n}\n\nconst datatypeToGlsl = {};\ndatatypeToGlsl[WebGLConstants.FLOAT] = \"float\";\ndatatypeToGlsl[WebGLConstants.FLOAT_VEC2] = \"vec2\";\ndatatypeToGlsl[WebGLConstants.FLOAT_VEC3] = \"vec3\";\ndatatypeToGlsl[WebGLConstants.FLOAT_VEC4] = \"vec4\";\ndatatypeToGlsl[WebGLConstants.INT] = \"int\";\ndatatypeToGlsl[WebGLConstants.INT_VEC2] = \"ivec2\";\ndatatypeToGlsl[WebGLConstants.INT_VEC3] = \"ivec3\";\ndatatypeToGlsl[WebGLConstants.INT_VEC4] = \"ivec4\";\ndatatypeToGlsl[WebGLConstants.BOOL] = \"bool\";\ndatatypeToGlsl[WebGLConstants.BOOL_VEC2] = \"bvec2\";\ndatatypeToGlsl[WebGLConstants.BOOL_VEC3] = \"bvec3\";\ndatatypeToGlsl[WebGLConstants.BOOL_VEC4] = \"bvec4\";\ndatatypeToGlsl[WebGLConstants.FLOAT_MAT2] = \"mat2\";\ndatatypeToGlsl[WebGLConstants.FLOAT_MAT3] = \"mat3\";\ndatatypeToGlsl[WebGLConstants.FLOAT_MAT4] = \"mat4\";\ndatatypeToGlsl[WebGLConstants.SAMPLER_2D] = \"sampler2D\";\ndatatypeToGlsl[WebGLConstants.SAMPLER_CUBE] = \"samplerCube\";\n\nAutomaticUniform.prototype.getDeclaration = function (name) {\n  let declaration = `uniform ${datatypeToGlsl[this._datatype]} ${name}`;\n\n  const size = this._size;\n  if (size === 1) {\n    declaration += \";\";\n  } else {\n    declaration += `[${size.toString()}];`;\n  }\n\n  return declaration;\n};\n\n/**\n * @private\n */\nconst AutomaticUniforms = {\n  /**\n   * An automatic GLSL uniform containing the viewport's <code>x</code>, <code>y</code>, <code>width</code>,\n   * and <code>height</code> properties in an <code>vec4</code>'s <code>x</code>, <code>y</code>, <code>z</code>,\n   * and <code>w</code> components, respectively.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform vec4 czm_viewport;\n   *\n   * // Scale the window coordinate components to [0, 1] by dividing\n   * // by the viewport's width and height.\n   * vec2 v = gl_FragCoord.xy / czm_viewport.zw;\n   *\n   * @see Context#getViewport\n   */\n  czm_viewport: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC4,\n    getValue: function (uniformState) {\n      return uniformState.viewportCartesian4;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 orthographic projection matrix that\n   * transforms window coordinates to clip coordinates.  Clip coordinates is the\n   * coordinate system for a vertex shader's <code>gl_Position</code> output.\n   * <br /><br />\n   * This transform is useful when a vertex shader inputs or manipulates window coordinates\n   * as done by {@link BillboardCollection}.\n   * <br /><br />\n   * Do not confuse {@link czm_viewportTransformation} with <code>czm_viewportOrthographic</code>.\n   * The former transforms from normalized device coordinates to window coordinates; the later transforms\n   * from window coordinates to clip coordinates, and is often used to assign to <code>gl_Position</code>.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_viewportOrthographic;\n   *\n   * // Example\n   * gl_Position = czm_viewportOrthographic * vec4(windowPosition, 0.0, 1.0);\n   *\n   * @see UniformState#viewportOrthographic\n   * @see czm_viewport\n   * @see czm_viewportTransformation\n   * @see BillboardCollection\n   */\n  czm_viewportOrthographic: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.viewportOrthographic;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 transformation matrix that\n   * transforms normalized device coordinates to window coordinates.  The context's\n   * full viewport is used, and the depth range is assumed to be <code>near = 0</code>\n   * and <code>far = 1</code>.\n   * <br /><br />\n   * This transform is useful when there is a need to manipulate window coordinates\n   * in a vertex shader as done by {@link BillboardCollection}.  In many cases,\n   * this matrix will not be used directly; instead, {@link czm_modelToWindowCoordinates}\n   * will be used to transform directly from model to window coordinates.\n   * <br /><br />\n   * Do not confuse <code>czm_viewportTransformation</code> with {@link czm_viewportOrthographic}.\n   * The former transforms from normalized device coordinates to window coordinates; the later transforms\n   * from window coordinates to clip coordinates, and is often used to assign to <code>gl_Position</code>.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_viewportTransformation;\n   *\n   * // Use czm_viewportTransformation as part of the\n   * // transform from model to window coordinates.\n   * vec4 q = czm_modelViewProjection * positionMC;               // model to clip coordinates\n   * q.xyz /= q.w;                                                // clip to normalized device coordinates (ndc)\n   * q.xyz = (czm_viewportTransformation * vec4(q.xyz, 1.0)).xyz; // ndc to window coordinates\n   *\n   * @see UniformState#viewportTransformation\n   * @see czm_viewport\n   * @see czm_viewportOrthographic\n   * @see czm_modelToWindowCoordinates\n   * @see BillboardCollection\n   */\n  czm_viewportTransformation: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.viewportTransformation;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the depth of the scene\n   * after the globe pass and then updated after the 3D Tiles pass.\n   * The depth is packed into an RGBA texture.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform sampler2D czm_globeDepthTexture;\n   *\n   * // Get the depth at the current fragment\n   * vec2 coords = gl_FragCoord.xy / czm_viewport.zw;\n   * float depth = czm_unpackDepth(texture(czm_globeDepthTexture, coords));\n   */\n  czm_globeDepthTexture: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.SAMPLER_2D,\n    getValue: function (uniformState) {\n      return uniformState.globeDepthTexture;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a texture containing edge IDs\n   * from the 3D Tiles edge rendering pass. Used for edge detection and\n   * avoiding z-fighting between edges and surfaces.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform sampler2D czm_edgeIdTexture;\n   *\n   * // Get the edge ID at the current fragment\n   * vec2 coords = gl_FragCoord.xy / czm_viewport.zw;\n   * vec4 edgeId = texture(czm_edgeIdTexture, coords);\n   */\n  czm_edgeIdTexture: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.SAMPLER_2D,\n    getValue: function (uniformState) {\n      return uniformState.edgeIdTexture;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform containing the edge color texture.\n   * This texture contains the edge content rendered during the CESIUM_3D_TILE_EDGES pass.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform sampler2D czm_edgeColorTexture;\n   *\n   * // Sample the edge color at the current fragment\n   * vec2 coords = gl_FragCoord.xy / czm_viewport.zw;\n   * vec4 edgeColor = texture(czm_edgeColorTexture, coords);\n   */\n  czm_edgeColorTexture: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.SAMPLER_2D,\n    getValue: function (uniformState) {\n      return uniformState.edgeColorTexture;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform containing the packed depth texture produced by the\n   * edge visibility pass. The depth is packed via czm_packDepth and should be\n   * unpacked with czm_unpackDepth.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform sampler2D czm_edgeDepthTexture;\n   *\n   * vec2 coords = gl_FragCoord.xy / czm_viewport.zw;\n   * float d = czm_unpackDepth(texture(czm_edgeDepthTexture, coords));\n   */\n  czm_edgeDepthTexture: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.SAMPLER_2D,\n    getValue: function (uniformState) {\n      return uniformState.edgeDepthTexture;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 model transformation matrix that\n   * transforms model coordinates to world coordinates.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_model;\n   *\n   * // Example\n   * vec4 worldPosition = czm_model * modelPosition;\n   *\n   * @see UniformState#model\n   * @see czm_inverseModel\n   * @see czm_modelView\n   * @see czm_modelViewProjection\n   */\n  czm_model: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.model;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 model transformation matrix that\n   * transforms world coordinates to model coordinates.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_inverseModel;\n   *\n   * // Example\n   * vec4 modelPosition = czm_inverseModel * worldPosition;\n   *\n   * @see UniformState#inverseModel\n   * @see czm_model\n   * @see czm_inverseModelView\n   */\n  czm_inverseModel: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.inverseModel;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 view transformation matrix that\n   * transforms world coordinates to eye coordinates.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_view;\n   *\n   * // Example\n   * vec4 eyePosition = czm_view * worldPosition;\n   *\n   * @see UniformState#view\n   * @see czm_viewRotation\n   * @see czm_modelView\n   * @see czm_viewProjection\n   * @see czm_modelViewProjection\n   * @see czm_inverseView\n   */\n  czm_view: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.view;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 view transformation matrix that\n   * transforms 3D world coordinates to eye coordinates.  In 3D mode, this is identical to\n   * {@link czm_view}, but in 2D and Columbus View it represents the view matrix\n   * as if the camera were at an equivalent location in 3D mode.  This is useful for lighting\n   * 2D and Columbus View in the same way that 3D is lit.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_view3D;\n   *\n   * // Example\n   * vec4 eyePosition3D = czm_view3D * worldPosition3D;\n   *\n   * @see UniformState#view3D\n   * @see czm_view\n   */\n  czm_view3D: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.view3D;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 3x3 view rotation matrix that\n   * transforms vectors in world coordinates to eye coordinates.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat3 czm_viewRotation;\n   *\n   * // Example\n   * vec3 eyeVector = czm_viewRotation * worldVector;\n   *\n   * @see UniformState#viewRotation\n   * @see czm_view\n   * @see czm_inverseView\n   * @see czm_inverseViewRotation\n   */\n  czm_viewRotation: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT3,\n    getValue: function (uniformState) {\n      return uniformState.viewRotation;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 3x3 view rotation matrix that\n   * transforms vectors in 3D world coordinates to eye coordinates.  In 3D mode, this is identical to\n   * {@link czm_viewRotation}, but in 2D and Columbus View it represents the view matrix\n   * as if the camera were at an equivalent location in 3D mode.  This is useful for lighting\n   * 2D and Columbus View in the same way that 3D is lit.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat3 czm_viewRotation3D;\n   *\n   * // Example\n   * vec3 eyeVector = czm_viewRotation3D * worldVector;\n   *\n   * @see UniformState#viewRotation3D\n   * @see czm_viewRotation\n   */\n  czm_viewRotation3D: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT3,\n    getValue: function (uniformState) {\n      return uniformState.viewRotation3D;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 transformation matrix that\n   * transforms from eye coordinates to world coordinates.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_inverseView;\n   *\n   * // Example\n   * vec4 worldPosition = czm_inverseView * eyePosition;\n   *\n   * @see UniformState#inverseView\n   * @see czm_view\n   * @see czm_inverseNormal\n   */\n  czm_inverseView: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.inverseView;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 transformation matrix that\n   * transforms from 3D eye coordinates to world coordinates.  In 3D mode, this is identical to\n   * {@link czm_inverseView}, but in 2D and Columbus View it represents the inverse view matrix\n   * as if the camera were at an equivalent location in 3D mode.  This is useful for lighting\n   * 2D and Columbus View in the same way that 3D is lit.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_inverseView3D;\n   *\n   * // Example\n   * vec4 worldPosition = czm_inverseView3D * eyePosition;\n   *\n   * @see UniformState#inverseView3D\n   * @see czm_inverseView\n   */\n  czm_inverseView3D: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.inverseView3D;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 3x3 rotation matrix that\n   * transforms vectors from eye coordinates to world coordinates.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat3 czm_inverseViewRotation;\n   *\n   * // Example\n   * vec4 worldVector = czm_inverseViewRotation * eyeVector;\n   *\n   * @see UniformState#inverseView\n   * @see czm_view\n   * @see czm_viewRotation\n   * @see czm_inverseViewRotation\n   */\n  czm_inverseViewRotation: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT3,\n    getValue: function (uniformState) {\n      return uniformState.inverseViewRotation;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 3x3 rotation matrix that\n   * transforms vectors from 3D eye coordinates to world coordinates.  In 3D mode, this is identical to\n   * {@link czm_inverseViewRotation}, but in 2D and Columbus View it represents the inverse view matrix\n   * as if the camera were at an equivalent location in 3D mode.  This is useful for lighting\n   * 2D and Columbus View in the same way that 3D is lit.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat3 czm_inverseViewRotation3D;\n   *\n   * // Example\n   * vec4 worldVector = czm_inverseViewRotation3D * eyeVector;\n   *\n   * @see UniformState#inverseView3D\n   * @see czm_inverseViewRotation\n   */\n  czm_inverseViewRotation3D: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT3,\n    getValue: function (uniformState) {\n      return uniformState.inverseViewRotation3D;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 projection transformation matrix that\n   * transforms eye coordinates to clip coordinates.  Clip coordinates is the\n   * coordinate system for a vertex shader's <code>gl_Position</code> output.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_projection;\n   *\n   * // Example\n   * gl_Position = czm_projection * eyePosition;\n   *\n   * @see UniformState#projection\n   * @see czm_viewProjection\n   * @see czm_modelViewProjection\n   * @see czm_infiniteProjection\n   */\n  czm_projection: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.projection;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 inverse projection transformation matrix that\n   * transforms from clip coordinates to eye coordinates. Clip coordinates is the\n   * coordinate system for a vertex shader's <code>gl_Position</code> output.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_inverseProjection;\n   *\n   * // Example\n   * vec4 eyePosition = czm_inverseProjection * clipPosition;\n   *\n   * @see UniformState#inverseProjection\n   * @see czm_projection\n   */\n  czm_inverseProjection: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.inverseProjection;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 projection transformation matrix with the far plane at infinity,\n   * that transforms eye coordinates to clip coordinates.  Clip coordinates is the\n   * coordinate system for a vertex shader's <code>gl_Position</code> output.  An infinite far plane is used\n   * in algorithms like shadow volumes and GPU ray casting with proxy geometry to ensure that triangles\n   * are not clipped by the far plane.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_infiniteProjection;\n   *\n   * // Example\n   * gl_Position = czm_infiniteProjection * eyePosition;\n   *\n   * @see UniformState#infiniteProjection\n   * @see czm_projection\n   * @see czm_modelViewInfiniteProjection\n   */\n  czm_infiniteProjection: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.infiniteProjection;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 model-view transformation matrix that\n   * transforms model coordinates to eye coordinates.\n   * <br /><br />\n   * Positions should be transformed to eye coordinates using <code>czm_modelView</code> and\n   * normals should be transformed using {@link czm_normal}.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_modelView;\n   *\n   * // Example\n   * vec4 eyePosition = czm_modelView * modelPosition;\n   *\n   * // The above is equivalent to, but more efficient than:\n   * vec4 eyePosition = czm_view * czm_model * modelPosition;\n   *\n   * @see UniformState#modelView\n   * @see czm_model\n   * @see czm_view\n   * @see czm_modelViewProjection\n   * @see czm_normal\n   */\n  czm_modelView: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.modelView;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 model-view transformation matrix that\n   * transforms 3D model coordinates to eye coordinates.  In 3D mode, this is identical to\n   * {@link czm_modelView}, but in 2D and Columbus View it represents the model-view matrix\n   * as if the camera were at an equivalent location in 3D mode.  This is useful for lighting\n   * 2D and Columbus View in the same way that 3D is lit.\n   * <br /><br />\n   * Positions should be transformed to eye coordinates using <code>czm_modelView3D</code> and\n   * normals should be transformed using {@link czm_normal3D}.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_modelView3D;\n   *\n   * // Example\n   * vec4 eyePosition = czm_modelView3D * modelPosition;\n   *\n   * // The above is equivalent to, but more efficient than:\n   * vec4 eyePosition = czm_view3D * czm_model * modelPosition;\n   *\n   * @see UniformState#modelView3D\n   * @see czm_modelView\n   */\n  czm_modelView3D: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.modelView3D;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 model-view transformation matrix that\n   * transforms model coordinates, relative to the eye, to eye coordinates.  This is used\n   * in conjunction with {@link czm_translateRelativeToEye}.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_modelViewRelativeToEye;\n   *\n   * // Example\n   * attribute vec3 positionHigh;\n   * attribute vec3 positionLow;\n   *\n   * void main()\n   * {\n   *   vec4 p = czm_translateRelativeToEye(positionHigh, positionLow);\n   *   gl_Position = czm_projection * (czm_modelViewRelativeToEye * p);\n   * }\n   *\n   * @see czm_modelViewProjectionRelativeToEye\n   * @see czm_translateRelativeToEye\n   * @see EncodedCartesian3\n   */\n  czm_modelViewRelativeToEye: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.modelViewRelativeToEye;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 transformation matrix that\n   * transforms from eye coordinates to model coordinates.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_inverseModelView;\n   *\n   * // Example\n   * vec4 modelPosition = czm_inverseModelView * eyePosition;\n   *\n   * @see UniformState#inverseModelView\n   * @see czm_modelView\n   */\n  czm_inverseModelView: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.inverseModelView;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 transformation matrix that\n   * transforms from eye coordinates to 3D model coordinates.  In 3D mode, this is identical to\n   * {@link czm_inverseModelView}, but in 2D and Columbus View it represents the inverse model-view matrix\n   * as if the camera were at an equivalent location in 3D mode.  This is useful for lighting\n   * 2D and Columbus View in the same way that 3D is lit.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_inverseModelView3D;\n   *\n   * // Example\n   * vec4 modelPosition = czm_inverseModelView3D * eyePosition;\n   *\n   * @see UniformState#inverseModelView\n   * @see czm_inverseModelView\n   * @see czm_modelView3D\n   */\n  czm_inverseModelView3D: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.inverseModelView3D;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 view-projection transformation matrix that\n   * transforms world coordinates to clip coordinates.  Clip coordinates is the\n   * coordinate system for a vertex shader's <code>gl_Position</code> output.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_viewProjection;\n   *\n   * // Example\n   * vec4 gl_Position = czm_viewProjection * czm_model * modelPosition;\n   *\n   * // The above is equivalent to, but more efficient than:\n   * gl_Position = czm_projection * czm_view * czm_model * modelPosition;\n   *\n   * @see UniformState#viewProjection\n   * @see czm_view\n   * @see czm_projection\n   * @see czm_modelViewProjection\n   * @see czm_inverseViewProjection\n   */\n  czm_viewProjection: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.viewProjection;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 view-projection transformation matrix that\n   * transforms clip coordinates to world coordinates.  Clip coordinates is the\n   * coordinate system for a vertex shader's <code>gl_Position</code> output.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_inverseViewProjection;\n   *\n   * // Example\n   * vec4 worldPosition = czm_inverseViewProjection * clipPosition;\n   *\n   * @see UniformState#inverseViewProjection\n   * @see czm_viewProjection\n   */\n  czm_inverseViewProjection: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.inverseViewProjection;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 model-view-projection transformation matrix that\n   * transforms model coordinates to clip coordinates.  Clip coordinates is the\n   * coordinate system for a vertex shader's <code>gl_Position</code> output.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_modelViewProjection;\n   *\n   * // Example\n   * vec4 gl_Position = czm_modelViewProjection * modelPosition;\n   *\n   * // The above is equivalent to, but more efficient than:\n   * gl_Position = czm_projection * czm_view * czm_model * modelPosition;\n   *\n   * @see UniformState#modelViewProjection\n   * @see czm_model\n   * @see czm_view\n   * @see czm_projection\n   * @see czm_modelView\n   * @see czm_viewProjection\n   * @see czm_modelViewInfiniteProjection\n   * @see czm_inverseModelViewProjection\n   */\n  czm_modelViewProjection: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.modelViewProjection;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 inverse model-view-projection transformation matrix that\n   * transforms clip coordinates to model coordinates.  Clip coordinates is the\n   * coordinate system for a vertex shader's <code>gl_Position</code> output.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_inverseModelViewProjection;\n   *\n   * // Example\n   * vec4 modelPosition = czm_inverseModelViewProjection * clipPosition;\n   *\n   * @see UniformState#modelViewProjection\n   * @see czm_modelViewProjection\n   */\n  czm_inverseModelViewProjection: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.inverseModelViewProjection;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 model-view-projection transformation matrix that\n   * transforms model coordinates, relative to the eye, to clip coordinates.  Clip coordinates is the\n   * coordinate system for a vertex shader's <code>gl_Position</code> output.  This is used in\n   * conjunction with {@link czm_translateRelativeToEye}.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_modelViewProjectionRelativeToEye;\n   *\n   * // Example\n   * attribute vec3 positionHigh;\n   * attribute vec3 positionLow;\n   *\n   * void main()\n   * {\n   *   vec4 p = czm_translateRelativeToEye(positionHigh, positionLow);\n   *   gl_Position = czm_modelViewProjectionRelativeToEye * p;\n   * }\n   *\n   * @see czm_modelViewRelativeToEye\n   * @see czm_translateRelativeToEye\n   * @see EncodedCartesian3\n   */\n  czm_modelViewProjectionRelativeToEye: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.modelViewProjectionRelativeToEye;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 4x4 model-view-projection transformation matrix that\n   * transforms model coordinates to clip coordinates.  Clip coordinates is the\n   * coordinate system for a vertex shader's <code>gl_Position</code> output.  The projection matrix places\n   * the far plane at infinity.  This is useful in algorithms like shadow volumes and GPU ray casting with\n   * proxy geometry to ensure that triangles are not clipped by the far plane.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat4 czm_modelViewInfiniteProjection;\n   *\n   * // Example\n   * vec4 gl_Position = czm_modelViewInfiniteProjection * modelPosition;\n   *\n   * // The above is equivalent to, but more efficient than:\n   * gl_Position = czm_infiniteProjection * czm_view * czm_model * modelPosition;\n   *\n   * @see UniformState#modelViewInfiniteProjection\n   * @see czm_model\n   * @see czm_view\n   * @see czm_infiniteProjection\n   * @see czm_modelViewProjection\n   */\n  czm_modelViewInfiniteProjection: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.modelViewInfiniteProjection;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform that indicates if the current camera is orthographic in 3D.\n   *\n   * @see UniformState#orthographicIn3D\n   */\n  czm_orthographicIn3D: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.orthographicIn3D ? 1 : 0;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 3x3 normal transformation matrix that\n   * transforms normal vectors in model coordinates to eye coordinates.\n   * <br /><br />\n   * Positions should be transformed to eye coordinates using {@link czm_modelView} and\n   * normals should be transformed using <code>czm_normal</code>.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat3 czm_normal;\n   *\n   * // Example\n   * vec3 eyeNormal = czm_normal * normal;\n   *\n   * @see UniformState#normal\n   * @see czm_inverseNormal\n   * @see czm_modelView\n   */\n  czm_normal: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT3,\n    getValue: function (uniformState) {\n      return uniformState.normal;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 3x3 normal transformation matrix that\n   * transforms normal vectors in 3D model coordinates to eye coordinates.\n   * In 3D mode, this is identical to\n   * {@link czm_normal}, but in 2D and Columbus View it represents the normal transformation\n   * matrix as if the camera were at an equivalent location in 3D mode.  This is useful for lighting\n   * 2D and Columbus View in the same way that 3D is lit.\n   * <br /><br />\n   * Positions should be transformed to eye coordinates using {@link czm_modelView3D} and\n   * normals should be transformed using <code>czm_normal3D</code>.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat3 czm_normal3D;\n   *\n   * // Example\n   * vec3 eyeNormal = czm_normal3D * normal;\n   *\n   * @see UniformState#normal3D\n   * @see czm_normal\n   */\n  czm_normal3D: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT3,\n    getValue: function (uniformState) {\n      return uniformState.normal3D;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 3x3 normal transformation matrix that\n   * transforms normal vectors in eye coordinates to model coordinates.  This is\n   * the opposite of the transform provided by {@link czm_normal}.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat3 czm_inverseNormal;\n   *\n   * // Example\n   * vec3 normalMC = czm_inverseNormal * normalEC;\n   *\n   * @see UniformState#inverseNormal\n   * @see czm_normal\n   * @see czm_modelView\n   * @see czm_inverseView\n   */\n  czm_inverseNormal: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT3,\n    getValue: function (uniformState) {\n      return uniformState.inverseNormal;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 3x3 normal transformation matrix that\n   * transforms normal vectors in eye coordinates to 3D model coordinates.  This is\n   * the opposite of the transform provided by {@link czm_normal}.\n   * In 3D mode, this is identical to\n   * {@link czm_inverseNormal}, but in 2D and Columbus View it represents the inverse normal transformation\n   * matrix as if the camera were at an equivalent location in 3D mode.  This is useful for lighting\n   * 2D and Columbus View in the same way that 3D is lit.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat3 czm_inverseNormal3D;\n   *\n   * // Example\n   * vec3 normalMC = czm_inverseNormal3D * normalEC;\n   *\n   * @see UniformState#inverseNormal3D\n   * @see czm_inverseNormal\n   */\n  czm_inverseNormal3D: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT3,\n    getValue: function (uniformState) {\n      return uniformState.inverseNormal3D;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform containing the height in meters of the\n   * eye (camera) above or below the ellipsoid.\n   *\n   * @see UniformState#eyeHeight\n   */\n  czm_eyeHeight: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.eyeHeight;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform containing height (<code>x</code>) and height squared (<code>y</code>)\n   * in meters of the eye (camera) above the 2D world plane. This uniform is only valid\n   * when the {@link SceneMode} is <code>SCENE2D</code>.\n   *\n   * @see UniformState#eyeHeight2D\n   */\n  czm_eyeHeight2D: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC2,\n    getValue: function (uniformState) {\n      return uniformState.eyeHeight2D;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform containing the ellipsoid surface normal\n   * at the position below the eye (camera), in eye coordinates.\n   * This uniform is only valid when the {@link SceneMode} is <code>SCENE3D</code>.\n   */\n  czm_eyeEllipsoidNormalEC: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.eyeEllipsoidNormalEC;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform containing the ellipsoid radii of curvature at the camera position.\n   * The .x component is the prime vertical radius of curvature (east-west direction)\n   * .y is the meridional radius of curvature (north-south direction)\n   * This uniform is only valid when the {@link SceneMode} is <code>SCENE3D</code>.\n   */\n  czm_eyeEllipsoidCurvature: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC2,\n    getValue: function (uniformState) {\n      return uniformState.eyeEllipsoidCurvature;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform containing the transform from model coordinates\n   * to an east-north-up coordinate system centered at the position on the\n   * ellipsoid below the camera.\n   * This uniform is only valid when the {@link SceneMode} is <code>SCENE3D</code>.\n   */\n  czm_modelToEnu: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.modelToEnu;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform containing the the inverse of\n   * {@link AutomaticUniforms.czm_modelToEnu}.\n   * This uniform is only valid when the {@link SceneMode} is <code>SCENE3D</code>.\n   */\n  czm_enuToModel: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT4,\n    getValue: function (uniformState) {\n      return uniformState.enuToModel;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform containing the near distance (<code>x</code>) and the far distance (<code>y</code>)\n   * of the frustum defined by the camera.  This is the largest possible frustum, not an individual\n   * frustum used for multi-frustum rendering.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform vec2 czm_entireFrustum;\n   *\n   * // Example\n   * float frustumLength = czm_entireFrustum.y - czm_entireFrustum.x;\n   *\n   * @see UniformState#entireFrustum\n   * @see czm_currentFrustum\n   */\n  czm_entireFrustum: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC2,\n    getValue: function (uniformState) {\n      return uniformState.entireFrustum;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform containing the near distance (<code>x</code>) and the far distance (<code>y</code>)\n   * of the frustum defined by the camera.  This is the individual\n   * frustum used for multi-frustum rendering.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform vec2 czm_currentFrustum;\n   *\n   * // Example\n   * float frustumLength = czm_currentFrustum.y - czm_currentFrustum.x;\n   *\n   * @see UniformState#currentFrustum\n   * @see czm_entireFrustum\n   */\n  czm_currentFrustum: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC2,\n    getValue: function (uniformState) {\n      return uniformState.currentFrustum;\n    },\n  }),\n\n  /**\n   * The distances to the frustum planes. The top, bottom, left and right distances are\n   * the x, y, z, and w components, respectively.\n   */\n  czm_frustumPlanes: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC4,\n    getValue: function (uniformState) {\n      return uniformState.frustumPlanes;\n    },\n  }),\n\n  /**\n   * Gets the far plane's distance from the near plane, plus 1.0.\n   */\n  czm_farDepthFromNearPlusOne: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.farDepthFromNearPlusOne;\n    },\n  }),\n\n  /**\n   * Gets the log2 of {@link AutomaticUniforms#czm_farDepthFromNearPlusOne}.\n   */\n  czm_log2FarDepthFromNearPlusOne: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.log2FarDepthFromNearPlusOne;\n    },\n  }),\n\n  /**\n   * Gets 1.0 divided by {@link AutomaticUniforms#czm_log2FarDepthFromNearPlusOne}.\n   */\n  czm_oneOverLog2FarDepthFromNearPlusOne: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.oneOverLog2FarDepthFromNearPlusOne;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the sun position in world coordinates.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform vec3 czm_sunPositionWC;\n   *\n   * @see UniformState#sunPositionWC\n   * @see czm_sunPositionColumbusView\n   * @see czm_sunDirectionWC\n   */\n  czm_sunPositionWC: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.sunPositionWC;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the sun position in Columbus view world coordinates.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform vec3 czm_sunPositionColumbusView;\n   *\n   * @see UniformState#sunPositionColumbusView\n   * @see czm_sunPositionWC\n   */\n  czm_sunPositionColumbusView: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.sunPositionColumbusView;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the normalized direction to the sun in eye coordinates.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform vec3 czm_sunDirectionEC;\n   *\n   * // Example\n   * float diffuse = max(dot(czm_sunDirectionEC, normalEC), 0.0);\n   *\n   * @see UniformState#sunDirectionEC\n   * @see czm_moonDirectionEC\n   * @see czm_sunDirectionWC\n   */\n  czm_sunDirectionEC: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.sunDirectionEC;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the normalized direction to the sun in world coordinates.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform vec3 czm_sunDirectionWC;\n   *\n   * // Example\n   * float diffuse = max(dot(czm_sunDirectionWC, normalWC), 0.0);\n   *\n   * @see UniformState#sunDirectionWC\n   * @see czm_sunPositionWC\n   * @see czm_sunDirectionEC\n   */\n  czm_sunDirectionWC: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.sunDirectionWC;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the normalized direction to the moon in eye coordinates.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform vec3 czm_moonDirectionEC;\n   *\n   * // Example\n   * float diffuse = max(dot(czm_moonDirectionEC, normalEC), 0.0);\n   *\n   * @see UniformState#moonDirectionEC\n   * @see czm_sunDirectionEC\n   */\n  czm_moonDirectionEC: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.moonDirectionEC;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the normalized direction to the scene's light source in eye coordinates.\n   * This is commonly used for directional lighting computations.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform vec3 czm_lightDirectionEC;\n   *\n   * // Example\n   * float diffuse = max(dot(czm_lightDirectionEC, normalEC), 0.0);\n   *\n   * @see UniformState#lightDirectionEC\n   * @see czm_lightDirectionWC\n   */\n  czm_lightDirectionEC: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.lightDirectionEC;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the normalized direction to the scene's light source in world coordinates.\n   * This is commonly used for directional lighting computations.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform vec3 czm_lightDirectionWC;\n   *\n   * // Example\n   * float diffuse = max(dot(czm_lightDirectionWC, normalWC), 0.0);\n   *\n   * @see UniformState#lightDirectionWC\n   * @see czm_lightDirectionEC\n   */\n  czm_lightDirectionWC: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.lightDirectionWC;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform that represents the color of light emitted by the scene's light source. This\n   * is equivalent to the light color multiplied by the light intensity limited to a maximum luminance of 1.0\n   * suitable for non-HDR lighting.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform vec3 czm_lightColor;\n   *\n   * // Example\n   * vec3 diffuseColor = czm_lightColor * max(dot(czm_lightDirectionWC, normalWC), 0.0);\n   *\n   * @see UniformState#lightColor\n   * @see czm_lightColorHdr\n   */\n  czm_lightColor: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.lightColor;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform that represents the high dynamic range color of light emitted by the scene's light\n   * source. This is equivalent to the light color multiplied by the light intensity suitable for HDR lighting.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform vec3 czm_lightColorHdr;\n   *\n   * // Example\n   * vec3 diffuseColor = czm_lightColorHdr * max(dot(czm_lightDirectionWC, normalWC), 0.0);\n   *\n   * @see UniformState#lightColorHdr\n   * @see czm_lightColor\n   */\n  czm_lightColorHdr: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.lightColorHdr;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the high bits of the camera position in model\n   * coordinates.  This is used for GPU RTE to eliminate jittering artifacts when rendering\n   * as described in {@link http://help.agi.com/AGIComponents/html/BlogPrecisionsPrecisions.htm|Precisions, Precisions}.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform vec3 czm_encodedCameraPositionMCHigh;\n   *\n   * @see czm_encodedCameraPositionMCLow\n   * @see czm_modelViewRelativeToEye\n   * @see czm_modelViewProjectionRelativeToEye\n   */\n  czm_encodedCameraPositionMCHigh: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.encodedCameraPositionMCHigh;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the low bits of the camera position in model\n   * coordinates.  This is used for GPU RTE to eliminate jittering artifacts when rendering\n   * as described in {@linkhttp://help.agi.com/AGIComponents/html/BlogPrecisionsPrecisions.htm|Precisions, Precisions}.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform vec3 czm_encodedCameraPositionMCLow;\n   *\n   * @see czm_encodedCameraPositionMCHigh\n   * @see czm_modelViewRelativeToEye\n   * @see czm_modelViewProjectionRelativeToEye\n   */\n  czm_encodedCameraPositionMCLow: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.encodedCameraPositionMCLow;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the position of the viewer (camera) in world coordinates.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform vec3 czm_viewerPositionWC;\n   */\n  czm_viewerPositionWC: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return Matrix4.getTranslation(\n        uniformState.inverseView,\n        viewerPositionWCScratch,\n      );\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the frame number. This uniform is automatically incremented\n   * every frame.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform float czm_frameNumber;\n   */\n  czm_frameNumber: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.frameState.frameNumber;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the current morph transition time between\n   * 2D/Columbus View and 3D, with 0.0 being 2D or Columbus View and 1.0 being 3D.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform float czm_morphTime;\n   *\n   * // Example\n   * vec4 p = czm_columbusViewMorph(position2D, position3D, czm_morphTime);\n   */\n  czm_morphTime: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.frameState.morphTime;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the current {@link SceneMode}, expressed\n   * as a float.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform float czm_sceneMode;\n   *\n   * // Example\n   * if (czm_sceneMode == czm_sceneMode2D)\n   * {\n   *     eyeHeightSq = czm_eyeHeight2D.y;\n   * }\n   *\n   * @see czm_sceneMode2D\n   * @see czm_sceneModeColumbusView\n   * @see czm_sceneMode3D\n   * @see czm_sceneModeMorphing\n   */\n  czm_sceneMode: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.frameState.mode;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the current rendering pass.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform float czm_pass;\n   *\n   * // Example\n   * if ((czm_pass == czm_passTranslucent) && isOpaque())\n   * {\n   *     gl_Position *= 0.0; // Cull opaque geometry in the translucent pass\n   * }\n   */\n  czm_pass: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.pass;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the current scene background color.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform vec4 czm_backgroundColor;\n   *\n   * // Example: If the given color's RGB matches the background color, invert it.\n   * vec4 adjustColorForContrast(vec4 color)\n   * {\n   *     if (czm_backgroundColor.rgb == color.rgb)\n   *     {\n   *         color.rgb = vec3(1.0) - color.rgb;\n   *     }\n   *\n   *     return color;\n   * }\n   */\n  czm_backgroundColor: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC4,\n    getValue: function (uniformState) {\n      return uniformState.backgroundColor;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform containing the BRDF look up texture used for image-based lighting computations.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform sampler2D czm_brdfLut;\n   *\n   * // Example: For a given roughness and NdotV value, find the material's BRDF information in the red and green channels\n   * float roughness = 0.5;\n   * float NdotV = dot(normal, view);\n   * vec2 brdfLut = texture(czm_brdfLut, vec2(NdotV, roughness)).rg;\n   */\n  czm_brdfLut: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.SAMPLER_2D,\n    getValue: function (uniformState) {\n      return uniformState.brdfLut;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform containing the environment map used within the scene.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform samplerCube czm_environmentMap;\n   *\n   * // Example: Create a perfect reflection of the environment map on a  model\n   * float reflected = reflect(view, normal);\n   * vec4 reflectedColor = texture(czm_environmentMap, reflected);\n   */\n  czm_environmentMap: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.SAMPLER_CUBE,\n    getValue: function (uniformState) {\n      return uniformState.environmentMap;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform containing the specular environment cube map used within the scene.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform samplerCube czm_specularEnvironmentMaps;\n   */\n  czm_specularEnvironmentMaps: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.SAMPLER_CUBE,\n    getValue: function (uniformState) {\n      return uniformState.specularEnvironmentMaps;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform containing the maximum valid level-of-detail of the specular environment cube map used within the scene.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform float czm_specularEnvironmentMapsMaximumLOD;\n   */\n  czm_specularEnvironmentMapsMaximumLOD: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.specularEnvironmentMapsMaximumLOD;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform containing the spherical harmonic coefficients used within the scene.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform vec3[9] czm_sphericalHarmonicCoefficients;\n   */\n  czm_sphericalHarmonicCoefficients: new AutomaticUniform({\n    size: 9,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.sphericalHarmonicCoefficients;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing a 3x3 rotation matrix that transforms\n   * from True Equator Mean Equinox (TEME) axes to the pseudo-fixed axes at the current scene time.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform mat3 czm_temeToPseudoFixed;\n   *\n   * // Example\n   * vec3 pseudoFixed = czm_temeToPseudoFixed * teme;\n   *\n   * @see UniformState#temeToPseudoFixedMatrix\n   * @see Transforms.computeTemeToPseudoFixedMatrix\n   */\n  czm_temeToPseudoFixed: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_MAT3,\n    getValue: function (uniformState) {\n      return uniformState.temeToPseudoFixedMatrix;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the ratio of canvas coordinate space to canvas pixel space.\n   *\n   * @example\n   * uniform float czm_pixelRatio;\n   */\n  czm_pixelRatio: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.pixelRatio;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform scalar used to mix a color with the fog color based on the distance to the camera.\n   *\n   * @see czm_fog\n   */\n  czm_fogDensity: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.fogDensity;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform scalar used to mix a color with the fog color based on the distance to the camera.\n   *\n   * @see czm_fog\n   */\n  czm_fogVisualDensityScalar: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.fogVisualDensityScalar;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform scalar used to set a minimum brightness when dynamic lighting is applied to fog.\n   *\n   * @see czm_fog\n   */\n  czm_fogMinimumBrightness: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.fogMinimumBrightness;\n    },\n  }),\n\n  /**\n   * An automatic uniform representing the color shift for the atmosphere in HSB color space\n   *\n   * @example\n   * uniform vec3 czm_atmosphereHsbShift;\n   */\n  czm_atmosphereHsbShift: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.atmosphereHsbShift;\n    },\n  }),\n  /**\n   * An automatic uniform representing the intensity of the light that is used for computing the atmosphere color\n   *\n   * @example\n   * uniform float czm_atmosphereLightIntensity;\n   */\n  czm_atmosphereLightIntensity: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.atmosphereLightIntensity;\n    },\n  }),\n  /**\n   * An automatic uniform representing the Rayleigh scattering coefficient used when computing the atmosphere scattering\n   *\n   * @example\n   * uniform vec3 czm_atmosphereRayleighCoefficient;\n   */\n  czm_atmosphereRayleighCoefficient: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.atmosphereRayleighCoefficient;\n    },\n  }),\n  /**\n   * An automatic uniform representing the Rayleigh scale height in meters used for computing atmosphere scattering.\n   *\n   * @example\n   * uniform vec3 czm_atmosphereRayleighScaleHeight;\n   */\n  czm_atmosphereRayleighScaleHeight: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.atmosphereRayleighScaleHeight;\n    },\n  }),\n  /**\n   * An automatic uniform representing the Mie scattering coefficient used when computing atmosphere scattering.\n   *\n   * @example\n   * uniform vec3 czm_atmosphereMieCoefficient;\n   */\n  czm_atmosphereMieCoefficient: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.atmosphereMieCoefficient;\n    },\n  }),\n  /**\n   * An automatic uniform storign the Mie scale height used when computing atmosphere scattering.\n   *\n   * @example\n   * uniform float czm_atmosphereMieScaleHeight;\n   */\n  czm_atmosphereMieScaleHeight: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.atmosphereMieScaleHeight;\n    },\n  }),\n  /**\n   * An automatic uniform representing the anisotropy of the medium to consider for Mie scattering.\n   *\n   * @example\n   * uniform float czm_atmosphereAnisotropy;\n   */\n  czm_atmosphereMieAnisotropy: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.atmosphereMieAnisotropy;\n    },\n  }),\n\n  /**\n   * An automatic uniform representing which light source to use for dynamic lighting\n   *\n   * @example\n   * uniform float czm_atmosphereDynamicLighting\n   */\n  czm_atmosphereDynamicLighting: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.atmosphereDynamicLighting;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the splitter position to use when rendering with a splitter.\n   * This will be in pixel coordinates relative to the canvas.\n   *\n   * @example\n   * // GLSL declaration\n   * uniform float czm_splitPosition;\n   */\n  czm_splitPosition: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.splitPosition;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform scalar representing the geometric tolerance per meter\n   */\n  czm_geometricToleranceOverMeter: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.geometricToleranceOverMeter;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform representing the distance from the camera at which to disable the depth test of billboards, labels and points\n   * to, for example, prevent clipping against terrain. When set to zero, the depth test should always be applied. When less than zero,\n   * the depth test should never be applied.\n   */\n  czm_minimumDisableDepthTestDistance: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.minimumDisableDepthTestDistance;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform that will be the highlight color of unclassified 3D Tiles.\n   */\n  czm_invertClassificationColor: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC4,\n    getValue: function (uniformState) {\n      return uniformState.invertClassificationColor;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform that is used for gamma correction.\n   */\n  czm_gamma: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT,\n    getValue: function (uniformState) {\n      return uniformState.gamma;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform that stores the ellipsoid radii.\n   */\n  czm_ellipsoidRadii: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.ellipsoid.radii;\n    },\n  }),\n\n  /**\n   * An automatic GLSL uniform that stores the ellipsoid inverse radii.\n   */\n  czm_ellipsoidInverseRadii: new AutomaticUniform({\n    size: 1,\n    datatype: WebGLConstants.FLOAT_VEC3,\n    getValue: function (uniformState) {\n      return uniformState.ellipsoid.oneOverRadii;\n    },\n  }),\n};\nexport default AutomaticUniforms;\n"],"names":["viewerPositionWCScratch","AutomaticUniform","options","_size","size","_datatype","datatype","getValue","datatypeToGlsl","FLOAT","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","INT","INT_VEC2","INT_VEC3","INT_VEC4","BOOL","BOOL_VEC2","BOOL_VEC3","BOOL_VEC4","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","SAMPLER_2D","SAMPLER_CUBE","prototype","getDeclaration","name","declaration","toString","AutomaticUniforms","czm_viewport","uniformState","viewportCartesian4","czm_viewportOrthographic","viewportOrthographic","czm_viewportTransformation","viewportTransformation","czm_globeDepthTexture","globeDepthTexture","czm_edgeIdTexture","edgeIdTexture","czm_edgeColorTexture","edgeColorTexture","czm_edgeDepthTexture","edgeDepthTexture","czm_model","model","czm_inverseModel","inverseModel","czm_view","view","czm_view3D","view3D","czm_viewRotation","viewRotation","czm_viewRotation3D","viewRotation3D","czm_inverseView","inverseView","czm_inverseView3D","inverseView3D","czm_inverseViewRotation","inverseViewRotation","czm_inverseViewRotation3D","inverseViewRotation3D","czm_projection","projection","czm_inverseProjection","inverseProjection","czm_infiniteProjection","infiniteProjection","czm_modelView","modelView","czm_modelView3D","modelView3D","czm_modelViewRelativeToEye","modelViewRelativeToEye","czm_inverseModelView","inverseModelView","czm_inverseModelView3D","inverseModelView3D","czm_viewProjection","viewProjection","czm_inverseViewProjection","inverseViewProjection","czm_modelViewProjection","modelViewProjection","czm_inverseModelViewProjection","inverseModelViewProjection","czm_modelViewProjectionRelativeToEye","modelViewProjectionRelativeToEye","czm_modelViewInfiniteProjection","modelViewInfiniteProjection","czm_orthographicIn3D","orthographicIn3D","czm_normal","normal","czm_normal3D","normal3D","czm_inverseNormal","inverseNormal","czm_inverseNormal3D","inverseNormal3D","czm_eyeHeight","eyeHeight","czm_eyeHeight2D","eyeHeight2D","czm_eyeEllipsoidNormalEC","eyeEllipsoidNormalEC","czm_eyeEllipsoidCurvature","eyeEllipsoidCurvature","czm_modelToEnu","modelToEnu","czm_enuToModel","enuToModel","czm_entireFrustum","entireFrustum","czm_currentFrustum","currentFrustum","czm_frustumPlanes","frustumPlanes","czm_farDepthFromNearPlusOne","farDepthFromNearPlusOne","czm_log2FarDepthFromNearPlusOne","log2FarDepthFromNearPlusOne","czm_oneOverLog2FarDepthFromNearPlusOne","oneOverLog2FarDepthFromNearPlusOne","czm_sunPositionWC","sunPositionWC","czm_sunPositionColumbusView","sunPositionColumbusView","czm_sunDirectionEC","sunDirectionEC","czm_sunDirectionWC","sunDirectionWC","czm_moonDirectionEC","moonDirectionEC","czm_lightDirectionEC","lightDirectionEC","czm_lightDirectionWC","lightDirectionWC","czm_lightColor","lightColor","czm_lightColorHdr","lightColorHdr","czm_encodedCameraPositionMCHigh","encodedCameraPositionMCHigh","czm_encodedCameraPositionMCLow","encodedCameraPositionMCLow","czm_viewerPositionWC","getTranslation","czm_frameNumber","frameState","frameNumber","czm_morphTime","morphTime","czm_sceneMode","mode","czm_pass","pass","czm_backgroundColor","backgroundColor","czm_brdfLut","brdfLut","czm_environmentMap","environmentMap","czm_specularEnvironmentMaps","specularEnvironmentMaps","czm_specularEnvironmentMapsMaximumLOD","specularEnvironmentMapsMaximumLOD","czm_sphericalHarmonicCoefficients","sphericalHarmonicCoefficients","czm_temeToPseudoFixed","temeToPseudoFixedMatrix","czm_pixelRatio","pixelRatio","czm_fogDensity","fogDensity","czm_fogVisualDensityScalar","fogVisualDensityScalar","czm_fogMinimumBrightness","fogMinimumBrightness","czm_atmosphereHsbShift","atmosphereHsbShift","czm_atmosphereLightIntensity","atmosphereLightIntensity","czm_atmosphereRayleighCoefficient","atmosphereRayleighCoefficient","czm_atmosphereRayleighScaleHeight","atmosphereRayleighScaleHeight","czm_atmosphereMieCoefficient","atmosphereMieCoefficient","czm_atmosphereMieScaleHeight","atmosphereMieScaleHeight","czm_atmosphereMieAnisotropy","atmosphereMieAnisotropy","czm_atmosphereDynamicLighting","atmosphereDynamicLighting","czm_splitPosition","splitPosition","czm_geometricToleranceOverMeter","geometricToleranceOverMeter","czm_minimumDisableDepthTestDistance","minimumDisableDepthTestDistance","czm_invertClassificationColor","invertClassificationColor","czm_gamma","gamma","czm_ellipsoidRadii","ellipsoid","radii","czm_ellipsoidInverseRadii","oneOverRadii"],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,MAAMA,0BAA0B,IAAI,gLAAU;AAE9C,SAASC,iBAAiBC,OAAO;IAC/B,IAAI,CAACC,KAAK,GAAGD,QAAQE,IAAI;IACzB,IAAI,CAACC,SAAS,GAAGH,QAAQI,QAAQ;IACjC,IAAI,CAACC,QAAQ,GAAGL,QAAQK,QAAQ;AAClC;AAEA,MAAMC,iBAAiB,CAAC;AACxBA,cAAc,CAAC,oLAAc,CAACC,KAAK,CAAC,GAAG;AACvCD,cAAc,CAAC,oLAAc,CAACE,UAAU,CAAC,GAAG;AAC5CF,cAAc,CAAC,oLAAc,CAACG,UAAU,CAAC,GAAG;AAC5CH,cAAc,CAAC,oLAAc,CAACI,UAAU,CAAC,GAAG;AAC5CJ,cAAc,CAAC,oLAAc,CAACK,GAAG,CAAC,GAAG;AACrCL,cAAc,CAAC,oLAAc,CAACM,QAAQ,CAAC,GAAG;AAC1CN,cAAc,CAAC,oLAAc,CAACO,QAAQ,CAAC,GAAG;AAC1CP,cAAc,CAAC,oLAAc,CAACQ,QAAQ,CAAC,GAAG;AAC1CR,cAAc,CAAC,oLAAc,CAACS,IAAI,CAAC,GAAG;AACtCT,cAAc,CAAC,oLAAc,CAACU,SAAS,CAAC,GAAG;AAC3CV,cAAc,CAAC,oLAAc,CAACW,SAAS,CAAC,GAAG;AAC3CX,cAAc,CAAC,oLAAc,CAACY,SAAS,CAAC,GAAG;AAC3CZ,cAAc,CAAC,oLAAc,CAACa,UAAU,CAAC,GAAG;AAC5Cb,cAAc,CAAC,oLAAc,CAACc,UAAU,CAAC,GAAG;AAC5Cd,cAAc,CAAC,oLAAc,CAACe,UAAU,CAAC,GAAG;AAC5Cf,cAAc,CAAC,oLAAc,CAACgB,UAAU,CAAC,GAAG;AAC5ChB,cAAc,CAAC,oLAAc,CAACiB,YAAY,CAAC,GAAG;AAE9CxB,iBAAiByB,SAAS,CAACC,cAAc,GAAG,SAAUC,IAAI;IACxD,IAAIC,cAAc,CAAC,QAAQ,EAAErB,cAAc,CAAC,IAAI,CAACH,SAAS,CAAC,CAAC,CAAC,EAAEuB,MAAM;IAErE,MAAMxB,OAAO,IAAI,CAACD,KAAK;IACvB,IAAIC,SAAS,GAAG;QACdyB,eAAe;IACjB,OAAO;QACLA,eAAe,CAAC,CAAC,EAAEzB,KAAK0B,QAAQ,GAAG,EAAE,CAAC;IACxC;IAEA,OAAOD;AACT;AAEA;;CAEC,GACD,MAAME,oBAAoB;IACxB;;;;;;;;;;;;;;GAcC,GACDC,cAAc,IAAI/B,iBAAiB;QACjCG,MAAM;QACNE,UAAU,oLAAc,CAACM,UAAU;QACnCL,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaC,kBAAkB;QACxC;IACF;IAEA;;;;;;;;;;;;;;;;;;;;;;;GAuBC,GACDC,0BAA0B,IAAIlC,iBAAiB;QAC7CG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaG,oBAAoB;QAC1C;IACF;IAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA8BC,GACDC,4BAA4B,IAAIpC,iBAAiB;QAC/CG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaK,sBAAsB;QAC5C;IACF;IAEA;;;;;;;;;;;;GAYC,GACDC,uBAAuB,IAAItC,iBAAiB;QAC1CG,MAAM;QACNE,UAAU,oLAAc,CAACkB,UAAU;QACnCjB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaO,iBAAiB;QACvC;IACF;IAEA;;;;;;;;;;;;GAYC,GACDC,mBAAmB,IAAIxC,iBAAiB;QACtCG,MAAM;QACNE,UAAU,oLAAc,CAACkB,UAAU;QACnCjB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaS,aAAa;QACnC;IACF;IAEA;;;;;;;;;;;GAWC,GACDC,sBAAsB,IAAI1C,iBAAiB;QACzCG,MAAM;QACNE,UAAU,oLAAc,CAACkB,UAAU;QACnCjB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaW,gBAAgB;QACtC;IACF;IAEA;;;;;;;;;;;GAWC,GACDC,sBAAsB,IAAI5C,iBAAiB;QACzCG,MAAM;QACNE,UAAU,oLAAc,CAACkB,UAAU;QACnCjB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaa,gBAAgB;QACtC;IACF;IAEA;;;;;;;;;;;;;;;GAeC,GACDC,WAAW,IAAI9C,iBAAiB;QAC9BG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAae,KAAK;QAC3B;IACF;IAEA;;;;;;;;;;;;;;GAcC,GACDC,kBAAkB,IAAIhD,iBAAiB;QACrCG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaiB,YAAY;QAClC;IACF;IAEA;;;;;;;;;;;;;;;;;GAiBC,GACDC,UAAU,IAAIlD,iBAAiB;QAC7BG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAamB,IAAI;QAC1B;IACF;IAEA;;;;;;;;;;;;;;;;GAgBC,GACDC,YAAY,IAAIpD,iBAAiB;QAC/BG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaqB,MAAM;QAC5B;IACF;IAEA;;;;;;;;;;;;;;;GAeC,GACDC,kBAAkB,IAAItD,iBAAiB;QACrCG,MAAM;QACNE,UAAU,oLAAc,CAACgB,UAAU;QACnCf,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAauB,YAAY;QAClC;IACF;IAEA;;;;;;;;;;;;;;;;GAgBC,GACDC,oBAAoB,IAAIxD,iBAAiB;QACvCG,MAAM;QACNE,UAAU,oLAAc,CAACgB,UAAU;QACnCf,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAayB,cAAc;QACpC;IACF;IAEA;;;;;;;;;;;;;;GAcC,GACDC,iBAAiB,IAAI1D,iBAAiB;QACpCG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa2B,WAAW;QACjC;IACF;IAEA;;;;;;;;;;;;;;;;GAgBC,GACDC,mBAAmB,IAAI5D,iBAAiB;QACtCG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa6B,aAAa;QACnC;IACF;IAEA;;;;;;;;;;;;;;;GAeC,GACDC,yBAAyB,IAAI9D,iBAAiB;QAC5CG,MAAM;QACNE,UAAU,oLAAc,CAACgB,UAAU;QACnCf,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa+B,mBAAmB;QACzC;IACF;IAEA;;;;;;;;;;;;;;;;GAgBC,GACDC,2BAA2B,IAAIhE,iBAAiB;QAC9CG,MAAM;QACNE,UAAU,oLAAc,CAACgB,UAAU;QACnCf,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaiC,qBAAqB;QAC3C;IACF;IAEA;;;;;;;;;;;;;;;;GAgBC,GACDC,gBAAgB,IAAIlE,iBAAiB;QACnCG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAamC,UAAU;QAChC;IACF;IAEA;;;;;;;;;;;;;;GAcC,GACDC,uBAAuB,IAAIpE,iBAAiB;QAC1CG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaqC,iBAAiB;QACvC;IACF;IAEA;;;;;;;;;;;;;;;;;GAiBC,GACDC,wBAAwB,IAAItE,iBAAiB;QAC3CG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAauC,kBAAkB;QACxC;IACF;IAEA;;;;;;;;;;;;;;;;;;;;;;GAsBC,GACDC,eAAe,IAAIxE,iBAAiB;QAClCG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAayC,SAAS;QAC/B;IACF;IAEA;;;;;;;;;;;;;;;;;;;;;;GAsBC,GACDC,iBAAiB,IAAI1E,iBAAiB;QACpCG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa2C,WAAW;QACjC;IACF;IAEA;;;;;;;;;;;;;;;;;;;;;;GAsBC,GACDC,4BAA4B,IAAI5E,iBAAiB;QAC/CG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa6C,sBAAsB;QAC5C;IACF;IAEA;;;;;;;;;;;;;GAaC,GACDC,sBAAsB,IAAI9E,iBAAiB;QACzCG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa+C,gBAAgB;QACtC;IACF;IAEA;;;;;;;;;;;;;;;;;GAiBC,GACDC,wBAAwB,IAAIhF,iBAAiB;QAC3CG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaiD,kBAAkB;QACxC;IACF;IAEA;;;;;;;;;;;;;;;;;;;;GAoBC,GACDC,oBAAoB,IAAIlF,iBAAiB;QACvCG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAamD,cAAc;QACpC;IACF;IAEA;;;;;;;;;;;;;;GAcC,GACDC,2BAA2B,IAAIpF,iBAAiB;QAC9CG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaqD,qBAAqB;QAC3C;IACF;IAEA;;;;;;;;;;;;;;;;;;;;;;;GAuBC,GACDC,yBAAyB,IAAItF,iBAAiB;QAC5CG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAauD,mBAAmB;QACzC;IACF;IAEA;;;;;;;;;;;;;;GAcC,GACDC,gCAAgC,IAAIxF,iBAAiB;QACnDG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAayD,0BAA0B;QAChD;IACF;IAEA;;;;;;;;;;;;;;;;;;;;;;;GAuBC,GACDC,sCAAsC,IAAI1F,iBAAiB;QACzDG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa2D,gCAAgC;QACtD;IACF;IAEA;;;;;;;;;;;;;;;;;;;;;;GAsBC,GACDC,iCAAiC,IAAI5F,iBAAiB;QACpDG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa6D,2BAA2B;QACjD;IACF;IAEA;;;;GAIC,GACDC,sBAAsB,IAAI9F,iBAAiB;QACzCG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa+D,gBAAgB,GAAG,IAAI;QAC7C;IACF;IAEA;;;;;;;;;;;;;;;;;GAiBC,GACDC,YAAY,IAAIhG,iBAAiB;QAC/BG,MAAM;QACNE,UAAU,oLAAc,CAACgB,UAAU;QACnCf,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaiE,MAAM;QAC5B;IACF;IAEA;;;;;;;;;;;;;;;;;;;;GAoBC,GACDC,cAAc,IAAIlG,iBAAiB;QACjCG,MAAM;QACNE,UAAU,oLAAc,CAACgB,UAAU;QACnCf,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAamE,QAAQ;QAC9B;IACF;IAEA;;;;;;;;;;;;;;;;GAgBC,GACDC,mBAAmB,IAAIpG,iBAAiB;QACtCG,MAAM;QACNE,UAAU,oLAAc,CAACgB,UAAU;QACnCf,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaqE,aAAa;QACnC;IACF;IAEA;;;;;;;;;;;;;;;;;;GAkBC,GACDC,qBAAqB,IAAItG,iBAAiB;QACxCG,MAAM;QACNE,UAAU,oLAAc,CAACgB,UAAU;QACnCf,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAauE,eAAe;QACrC;IACF;IAEA;;;;;GAKC,GACDC,eAAe,IAAIxG,iBAAiB;QAClCG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAayE,SAAS;QAC/B;IACF;IAEA;;;;;;GAMC,GACDC,iBAAiB,IAAI1G,iBAAiB;QACpCG,MAAM;QACNE,UAAU,oLAAc,CAACI,UAAU;QACnCH,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa2E,WAAW;QACjC;IACF;IAEA;;;;GAIC,GACDC,0BAA0B,IAAI5G,iBAAiB;QAC7CG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa6E,oBAAoB;QAC1C;IACF;IAEA;;;;;GAKC,GACDC,2BAA2B,IAAI9G,iBAAiB;QAC9CG,MAAM;QACNE,UAAU,oLAAc,CAACI,UAAU;QACnCH,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa+E,qBAAqB;QAC3C;IACF;IAEA;;;;;GAKC,GACDC,gBAAgB,IAAIhH,iBAAiB;QACnCG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaiF,UAAU;QAChC;IACF;IAEA;;;;GAIC,GACDC,gBAAgB,IAAIlH,iBAAiB;QACnCG,MAAM;QACNE,UAAU,oLAAc,CAACiB,UAAU;QACnChB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAamF,UAAU;QAChC;IACF;IAEA;;;;;;;;;;;;;;GAcC,GACDC,mBAAmB,IAAIpH,iBAAiB;QACtCG,MAAM;QACNE,UAAU,oLAAc,CAACI,UAAU;QACnCH,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaqF,aAAa;QACnC;IACF;IAEA;;;;;;;;;;;;;;GAcC,GACDC,oBAAoB,IAAItH,iBAAiB;QACvCG,MAAM;QACNE,UAAU,oLAAc,CAACI,UAAU;QACnCH,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAauF,cAAc;QACpC;IACF;IAEA;;;GAGC,GACDC,mBAAmB,IAAIxH,iBAAiB;QACtCG,MAAM;QACNE,UAAU,oLAAc,CAACM,UAAU;QACnCL,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAayF,aAAa;QACnC;IACF;IAEA;;GAEC,GACDC,6BAA6B,IAAI1H,iBAAiB;QAChDG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa2F,uBAAuB;QAC7C;IACF;IAEA;;GAEC,GACDC,iCAAiC,IAAI5H,iBAAiB;QACpDG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa6F,2BAA2B;QACjD;IACF;IAEA;;GAEC,GACDC,wCAAwC,IAAI9H,iBAAiB;QAC3DG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa+F,kCAAkC;QACxD;IACF;IAEA;;;;;;;;;;GAUC,GACDC,mBAAmB,IAAIhI,iBAAiB;QACtCG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaiG,aAAa;QACnC;IACF;IAEA;;;;;;;;;GASC,GACDC,6BAA6B,IAAIlI,iBAAiB;QAChDG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAamG,uBAAuB;QAC7C;IACF;IAEA;;;;;;;;;;;;;GAaC,GACDC,oBAAoB,IAAIpI,iBAAiB;QACvCG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaqG,cAAc;QACpC;IACF;IAEA;;;;;;;;;;;;;GAaC,GACDC,oBAAoB,IAAItI,iBAAiB;QACvCG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAauG,cAAc;QACpC;IACF;IAEA;;;;;;;;;;;;GAYC,GACDC,qBAAqB,IAAIxI,iBAAiB;QACxCG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAayG,eAAe;QACrC;IACF;IAEA;;;;;;;;;;;;;GAaC,GACDC,sBAAsB,IAAI1I,iBAAiB;QACzCG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa2G,gBAAgB;QACtC;IACF;IAEA;;;;;;;;;;;;;GAaC,GACDC,sBAAsB,IAAI5I,iBAAiB;QACzCG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa6G,gBAAgB;QACtC;IACF;IAEA;;;;;;;;;;;;;;GAcC,GACDC,gBAAgB,IAAI9I,iBAAiB;QACnCG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa+G,UAAU;QAChC;IACF;IAEA;;;;;;;;;;;;;GAaC,GACDC,mBAAmB,IAAIhJ,iBAAiB;QACtCG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaiH,aAAa;QACnC;IACF;IAEA;;;;;;;;;;;;GAYC,GACDC,iCAAiC,IAAIlJ,iBAAiB;QACpDG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAamH,2BAA2B;QACjD;IACF;IAEA;;;;;;;;;;;;GAYC,GACDC,gCAAgC,IAAIpJ,iBAAiB;QACnDG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaqH,0BAA0B;QAChD;IACF;IAEA;;;;;;GAMC,GACDC,sBAAsB,IAAItJ,iBAAiB;QACzCG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAO,6KAAO,CAACuH,cAAc,CAC3BvH,aAAa2B,WAAW,EACxB5D;QAEJ;IACF;IAEA;;;;;;;GAOC,GACDyJ,iBAAiB,IAAIxJ,iBAAiB;QACpCG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAayH,UAAU,CAACC,WAAW;QAC5C;IACF;IAEA;;;;;;;;;;GAUC,GACDC,eAAe,IAAI3J,iBAAiB;QAClCG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAayH,UAAU,CAACG,SAAS;QAC1C;IACF;IAEA;;;;;;;;;;;;;;;;;;GAkBC,GACDC,eAAe,IAAI7J,iBAAiB;QAClCG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAayH,UAAU,CAACK,IAAI;QACrC;IACF;IAEA;;;;;;;;;;;;GAYC,GACDC,UAAU,IAAI/J,iBAAiB;QAC7BG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAagI,IAAI;QAC1B;IACF;IAEA;;;;;;;;;;;;;;;;;GAiBC,GACDC,qBAAqB,IAAIjK,iBAAiB;QACxCG,MAAM;QACNE,UAAU,oLAAc,CAACM,UAAU;QACnCL,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAakI,eAAe;QACrC;IACF;IAEA;;;;;;;;;;;GAWC,GACDC,aAAa,IAAInK,iBAAiB;QAChCG,MAAM;QACNE,UAAU,oLAAc,CAACkB,UAAU;QACnCjB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaoI,OAAO;QAC7B;IACF;IAEA;;;;;;;;;;GAUC,GACDC,oBAAoB,IAAIrK,iBAAiB;QACvCG,MAAM;QACNE,UAAU,oLAAc,CAACmB,YAAY;QACrClB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAasI,cAAc;QACpC;IACF;IAEA;;;;;;GAMC,GACDC,6BAA6B,IAAIvK,iBAAiB;QAChDG,MAAM;QACNE,UAAU,oLAAc,CAACmB,YAAY;QACrClB,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAawI,uBAAuB;QAC7C;IACF;IAEA;;;;;;GAMC,GACDC,uCAAuC,IAAIzK,iBAAiB;QAC1DG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa0I,iCAAiC;QACvD;IACF;IAEA;;;;;;GAMC,GACDC,mCAAmC,IAAI3K,iBAAiB;QACtDG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa4I,6BAA6B;QACnD;IACF;IAEA;;;;;;;;;;;;;GAaC,GACDC,uBAAuB,IAAI7K,iBAAiB;QAC1CG,MAAM;QACNE,UAAU,oLAAc,CAACgB,UAAU;QACnCf,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa8I,uBAAuB;QAC7C;IACF;IAEA;;;;;GAKC,GACDC,gBAAgB,IAAI/K,iBAAiB;QACnCG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAagJ,UAAU;QAChC;IACF;IAEA;;;;GAIC,GACDC,gBAAgB,IAAIjL,iBAAiB;QACnCG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAakJ,UAAU;QAChC;IACF;IAEA;;;;GAIC,GACDC,4BAA4B,IAAInL,iBAAiB;QAC/CG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaoJ,sBAAsB;QAC5C;IACF;IAEA;;;;GAIC,GACDC,0BAA0B,IAAIrL,iBAAiB;QAC7CG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAasJ,oBAAoB;QAC1C;IACF;IAEA;;;;;GAKC,GACDC,wBAAwB,IAAIvL,iBAAiB;QAC3CG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAawJ,kBAAkB;QACxC;IACF;IACA;;;;;GAKC,GACDC,8BAA8B,IAAIzL,iBAAiB;QACjDG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa0J,wBAAwB;QAC9C;IACF;IACA;;;;;GAKC,GACDC,mCAAmC,IAAI3L,iBAAiB;QACtDG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa4J,6BAA6B;QACnD;IACF;IACA;;;;;GAKC,GACDC,mCAAmC,IAAI7L,iBAAiB;QACtDG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa8J,6BAA6B;QACnD;IACF;IACA;;;;;GAKC,GACDC,8BAA8B,IAAI/L,iBAAiB;QACjDG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAagK,wBAAwB;QAC9C;IACF;IACA;;;;;GAKC,GACDC,8BAA8B,IAAIjM,iBAAiB;QACjDG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAakK,wBAAwB;QAC9C;IACF;IACA;;;;;GAKC,GACDC,6BAA6B,IAAInM,iBAAiB;QAChDG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAaoK,uBAAuB;QAC7C;IACF;IAEA;;;;;GAKC,GACDC,+BAA+B,IAAIrM,iBAAiB;QAClDG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAasK,yBAAyB;QAC/C;IACF;IAEA;;;;;;;GAOC,GACDC,mBAAmB,IAAIvM,iBAAiB;QACtCG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAawK,aAAa;QACnC;IACF;IAEA;;GAEC,GACDC,iCAAiC,IAAIzM,iBAAiB;QACpDG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa0K,2BAA2B;QACjD;IACF;IAEA;;;;GAIC,GACDC,qCAAqC,IAAI3M,iBAAiB;QACxDG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa4K,+BAA+B;QACrD;IACF;IAEA;;GAEC,GACDC,+BAA+B,IAAI7M,iBAAiB;QAClDG,MAAM;QACNE,UAAU,oLAAc,CAACM,UAAU;QACnCL,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAa8K,yBAAyB;QAC/C;IACF;IAEA;;GAEC,GACDC,WAAW,IAAI/M,iBAAiB;QAC9BG,MAAM;QACNE,UAAU,oLAAc,CAACG,KAAK;QAC9BF,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAagL,KAAK;QAC3B;IACF;IAEA;;GAEC,GACDC,oBAAoB,IAAIjN,iBAAiB;QACvCG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAakL,SAAS,CAACC,KAAK;QACrC;IACF;IAEA;;GAEC,GACDC,2BAA2B,IAAIpN,iBAAiB;QAC9CG,MAAM;QACNE,UAAU,oLAAc,CAACK,UAAU;QACnCJ,UAAU,SAAU0B,YAAY;YAC9B,OAAOA,aAAakL,SAAS,CAACG,YAAY;QAC5C;IACF;AACF;uCACevL","ignoreList":[0]}},
    {"offset": {"line": 3292, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/createUniform.js"],"sourcesContent":["import Cartesian2 from \"../Core/Cartesian2.js\";\nimport Cartesian3 from \"../Core/Cartesian3.js\";\nimport Cartesian4 from \"../Core/Cartesian4.js\";\nimport Color from \"../Core/Color.js\";\nimport defined from \"../Core/defined.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport Matrix2 from \"../Core/Matrix2.js\";\nimport Matrix3 from \"../Core/Matrix3.js\";\nimport Matrix4 from \"../Core/Matrix4.js\";\nimport RuntimeError from \"../Core/RuntimeError.js\";\n\n/**\n * @private\n * @constructor\n */\nfunction createUniform(gl, activeUniform, uniformName, location) {\n  switch (activeUniform.type) {\n    case gl.FLOAT:\n      return new UniformFloat(gl, activeUniform, uniformName, location);\n    case gl.FLOAT_VEC2:\n      return new UniformFloatVec2(gl, activeUniform, uniformName, location);\n    case gl.FLOAT_VEC3:\n      return new UniformFloatVec3(gl, activeUniform, uniformName, location);\n    case gl.FLOAT_VEC4:\n      return new UniformFloatVec4(gl, activeUniform, uniformName, location);\n    case gl.SAMPLER_2D:\n    case gl.SAMPLER_3D:\n    case gl.SAMPLER_CUBE:\n      return new UniformSampler(gl, activeUniform, uniformName, location);\n    case gl.UNSIGNED_INT_SAMPLER_2D:\n      return new UniformSampler(gl, activeUniform, uniformName, location);\n    case gl.INT:\n    case gl.BOOL:\n      return new UniformInt(gl, activeUniform, uniformName, location);\n    case gl.INT_VEC2:\n    case gl.BOOL_VEC2:\n      return new UniformIntVec2(gl, activeUniform, uniformName, location);\n    case gl.INT_VEC3:\n    case gl.BOOL_VEC3:\n      return new UniformIntVec3(gl, activeUniform, uniformName, location);\n    case gl.INT_VEC4:\n    case gl.BOOL_VEC4:\n      return new UniformIntVec4(gl, activeUniform, uniformName, location);\n    case gl.FLOAT_MAT2:\n      return new UniformMat2(gl, activeUniform, uniformName, location);\n    case gl.FLOAT_MAT3:\n      return new UniformMat3(gl, activeUniform, uniformName, location);\n    case gl.FLOAT_MAT4:\n      return new UniformMat4(gl, activeUniform, uniformName, location);\n    default:\n      throw new RuntimeError(\n        `Unrecognized uniform type: ${activeUniform.type} for uniform \"${uniformName}\".`,\n      );\n  }\n}\n\n/**\n * @private\n * @constructor\n */\nfunction UniformFloat(gl, activeUniform, uniformName, location) {\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = undefined;\n  this._value = 0.0;\n\n  this._gl = gl;\n  this._location = location;\n}\n\nUniformFloat.prototype.set = function () {\n  if (this.value !== this._value) {\n    this._value = this.value;\n    this._gl.uniform1f(this._location, this.value);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n * @constructor\n */\nfunction UniformFloatVec2(gl, activeUniform, uniformName, location) {\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = undefined;\n  this._value = new Cartesian2();\n\n  this._gl = gl;\n  this._location = location;\n}\n\nUniformFloatVec2.prototype.set = function () {\n  const v = this.value;\n  if (!Cartesian2.equals(v, this._value)) {\n    Cartesian2.clone(v, this._value);\n    this._gl.uniform2f(this._location, v.x, v.y);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n * @constructor\n */\nfunction UniformFloatVec3(gl, activeUniform, uniformName, location) {\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = undefined;\n  this._value = undefined;\n\n  this._gl = gl;\n  this._location = location;\n}\n\nUniformFloatVec3.prototype.set = function () {\n  const v = this.value;\n\n  if (defined(v.red)) {\n    if (!Color.equals(v, this._value)) {\n      this._value = Color.clone(v, this._value);\n      this._gl.uniform3f(this._location, v.red, v.green, v.blue);\n    }\n  } else if (defined(v.x)) {\n    if (!Cartesian3.equals(v, this._value)) {\n      this._value = Cartesian3.clone(v, this._value);\n      this._gl.uniform3f(this._location, v.x, v.y, v.z);\n    }\n  } else {\n    //>>includeStart('debug', pragmas.debug);\n    throw new DeveloperError(`Invalid vec3 value for uniform \"${this.name}\".`);\n    //>>includeEnd('debug');\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n * @constructor\n */\nfunction UniformFloatVec4(gl, activeUniform, uniformName, location) {\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = undefined;\n  this._value = undefined;\n\n  this._gl = gl;\n  this._location = location;\n}\n\nUniformFloatVec4.prototype.set = function () {\n  const v = this.value;\n\n  if (defined(v.red)) {\n    if (!Color.equals(v, this._value)) {\n      this._value = Color.clone(v, this._value);\n      this._gl.uniform4f(this._location, v.red, v.green, v.blue, v.alpha);\n    }\n  } else if (defined(v.x)) {\n    if (!Cartesian4.equals(v, this._value)) {\n      this._value = Cartesian4.clone(v, this._value);\n      this._gl.uniform4f(this._location, v.x, v.y, v.z, v.w);\n    }\n  } else {\n    //>>includeStart('debug', pragmas.debug);\n    throw new DeveloperError(`Invalid vec4 value for uniform \"${this.name}\".`);\n    //>>includeEnd('debug');\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n * @constructor\n */\nfunction UniformSampler(gl, activeUniform, uniformName, location) {\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = undefined;\n\n  this._gl = gl;\n  this._location = location;\n\n  this.textureUnitIndex = undefined;\n}\n\nUniformSampler.prototype.set = function () {\n  const gl = this._gl;\n  gl.activeTexture(gl.TEXTURE0 + this.textureUnitIndex);\n\n  const v = this.value;\n  gl.bindTexture(v._target, v._texture);\n};\n\nUniformSampler.prototype._setSampler = function (textureUnitIndex) {\n  this.textureUnitIndex = textureUnitIndex;\n  this._gl.uniform1i(this._location, textureUnitIndex);\n  return textureUnitIndex + 1;\n};\n\n///////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n * @constructor\n */\nfunction UniformInt(gl, activeUniform, uniformName, location) {\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = undefined;\n  this._value = 0.0;\n\n  this._gl = gl;\n  this._location = location;\n}\n\nUniformInt.prototype.set = function () {\n  if (this.value !== this._value) {\n    this._value = this.value;\n    this._gl.uniform1i(this._location, this.value);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n/**\n * @private\n * @constructor\n */\nfunction UniformIntVec2(gl, activeUniform, uniformName, location) {\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = undefined;\n  this._value = new Cartesian2();\n\n  this._gl = gl;\n  this._location = location;\n}\n\nUniformIntVec2.prototype.set = function () {\n  const v = this.value;\n  if (!Cartesian2.equals(v, this._value)) {\n    Cartesian2.clone(v, this._value);\n    this._gl.uniform2i(this._location, v.x, v.y);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n/**\n * @private\n * @constructor\n */\nfunction UniformIntVec3(gl, activeUniform, uniformName, location) {\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = undefined;\n  this._value = new Cartesian3();\n\n  this._gl = gl;\n  this._location = location;\n}\n\nUniformIntVec3.prototype.set = function () {\n  const v = this.value;\n  if (!Cartesian3.equals(v, this._value)) {\n    Cartesian3.clone(v, this._value);\n    this._gl.uniform3i(this._location, v.x, v.y, v.z);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n/**\n * @private\n * @constructor\n */\nfunction UniformIntVec4(gl, activeUniform, uniformName, location) {\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = undefined;\n  this._value = new Cartesian4();\n\n  this._gl = gl;\n  this._location = location;\n}\n\nUniformIntVec4.prototype.set = function () {\n  const v = this.value;\n  if (!Cartesian4.equals(v, this._value)) {\n    Cartesian4.clone(v, this._value);\n    this._gl.uniform4i(this._location, v.x, v.y, v.z, v.w);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n\nconst scratchUniformArray = new Float32Array(4);\n/**\n * @private\n * @constructor\n */\nfunction UniformMat2(gl, activeUniform, uniformName, location) {\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = undefined;\n  this._value = new Matrix2();\n\n  this._gl = gl;\n  this._location = location;\n}\n\nUniformMat2.prototype.set = function () {\n  if (!Matrix2.equalsArray(this.value, this._value, 0)) {\n    Matrix2.clone(this.value, this._value);\n\n    const array = Matrix2.toArray(this.value, scratchUniformArray);\n    this._gl.uniformMatrix2fv(this._location, false, array);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n\nconst scratchMat3Array = new Float32Array(9);\n/**\n * @private\n * @constructor\n */\nfunction UniformMat3(gl, activeUniform, uniformName, location) {\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = undefined;\n  this._value = new Matrix3();\n\n  this._gl = gl;\n  this._location = location;\n}\n\nUniformMat3.prototype.set = function () {\n  if (!Matrix3.equalsArray(this.value, this._value, 0)) {\n    Matrix3.clone(this.value, this._value);\n\n    const array = Matrix3.toArray(this.value, scratchMat3Array);\n    this._gl.uniformMatrix3fv(this._location, false, array);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n\nconst scratchMat4Array = new Float32Array(16);\n/**\n * @private\n * @constructor\n */\nfunction UniformMat4(gl, activeUniform, uniformName, location) {\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = undefined;\n  this._value = new Matrix4();\n\n  this._gl = gl;\n  this._location = location;\n}\n\nUniformMat4.prototype.set = function () {\n  if (!Matrix4.equalsArray(this.value, this._value, 0)) {\n    Matrix4.clone(this.value, this._value);\n\n    const array = Matrix4.toArray(this.value, scratchMat4Array);\n    this._gl.uniformMatrix4fv(this._location, false, array);\n  }\n};\nexport default createUniform;\n"],"names":["createUniform","gl","activeUniform","uniformName","location","type","FLOAT","UniformFloat","FLOAT_VEC2","UniformFloatVec2","FLOAT_VEC3","UniformFloatVec3","FLOAT_VEC4","UniformFloatVec4","SAMPLER_2D","SAMPLER_3D","SAMPLER_CUBE","UniformSampler","UNSIGNED_INT_SAMPLER_2D","INT","BOOL","UniformInt","INT_VEC2","BOOL_VEC2","UniformIntVec2","INT_VEC3","BOOL_VEC3","UniformIntVec3","INT_VEC4","BOOL_VEC4","UniformIntVec4","FLOAT_MAT2","UniformMat2","FLOAT_MAT3","UniformMat3","FLOAT_MAT4","UniformMat4","name","value","undefined","_value","_gl","_location","prototype","set","uniform1f","v","equals","clone","uniform2f","x","y","red","uniform3f","green","blue","z","uniform4f","alpha","w","textureUnitIndex","activeTexture","TEXTURE0","bindTexture","_target","_texture","_setSampler","uniform1i","uniform2i","uniform3i","uniform4i","scratchUniformArray","Float32Array","equalsArray","array","toArray","uniformMatrix2fv","scratchMat3Array","uniformMatrix3fv","scratchMat4Array","uniformMatrix4fv"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3640, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/createUniformArray.js"],"sourcesContent":["import Cartesian2 from \"../Core/Cartesian2.js\";\nimport Cartesian3 from \"../Core/Cartesian3.js\";\nimport Cartesian4 from \"../Core/Cartesian4.js\";\nimport Color from \"../Core/Color.js\";\nimport defined from \"../Core/defined.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport Matrix2 from \"../Core/Matrix2.js\";\nimport Matrix3 from \"../Core/Matrix3.js\";\nimport Matrix4 from \"../Core/Matrix4.js\";\nimport RuntimeError from \"../Core/RuntimeError.js\";\n\n/**\n * @private\n * @constructor\n */\nfunction createUniformArray(gl, activeUniform, uniformName, locations) {\n  switch (activeUniform.type) {\n    case gl.FLOAT:\n      return new UniformArrayFloat(gl, activeUniform, uniformName, locations);\n    case gl.FLOAT_VEC2:\n      return new UniformArrayFloatVec2(\n        gl,\n        activeUniform,\n        uniformName,\n        locations,\n      );\n    case gl.FLOAT_VEC3:\n      return new UniformArrayFloatVec3(\n        gl,\n        activeUniform,\n        uniformName,\n        locations,\n      );\n    case gl.FLOAT_VEC4:\n      return new UniformArrayFloatVec4(\n        gl,\n        activeUniform,\n        uniformName,\n        locations,\n      );\n    case gl.SAMPLER_2D:\n    case gl.SAMPLER_3D:\n    case gl.SAMPLER_CUBE:\n      return new UniformArraySampler(gl, activeUniform, uniformName, locations);\n    case gl.INT:\n    case gl.BOOL:\n      return new UniformArrayInt(gl, activeUniform, uniformName, locations);\n    case gl.INT_VEC2:\n    case gl.BOOL_VEC2:\n      return new UniformArrayIntVec2(gl, activeUniform, uniformName, locations);\n    case gl.INT_VEC3:\n    case gl.BOOL_VEC3:\n      return new UniformArrayIntVec3(gl, activeUniform, uniformName, locations);\n    case gl.INT_VEC4:\n    case gl.BOOL_VEC4:\n      return new UniformArrayIntVec4(gl, activeUniform, uniformName, locations);\n    case gl.FLOAT_MAT2:\n      return new UniformArrayMat2(gl, activeUniform, uniformName, locations);\n    case gl.FLOAT_MAT3:\n      return new UniformArrayMat3(gl, activeUniform, uniformName, locations);\n    case gl.FLOAT_MAT4:\n      return new UniformArrayMat4(gl, activeUniform, uniformName, locations);\n    default:\n      throw new RuntimeError(\n        `Unrecognized uniform type: ${activeUniform.type} for uniform \"${uniformName}\".`,\n      );\n  }\n}\n\n/**\n * @private\n * @constructor\n */\nfunction UniformArrayFloat(gl, activeUniform, uniformName, locations) {\n  const length = locations.length;\n\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = new Array(length);\n  this._value = new Float32Array(length);\n\n  this._gl = gl;\n  this._location = locations[0];\n}\n\nUniformArrayFloat.prototype.set = function () {\n  const value = this.value;\n  const length = value.length;\n  const arraybuffer = this._value;\n  let changed = false;\n\n  for (let i = 0; i < length; ++i) {\n    const v = value[i];\n\n    if (v !== arraybuffer[i]) {\n      arraybuffer[i] = v;\n      changed = true;\n    }\n  }\n\n  if (changed) {\n    this._gl.uniform1fv(this._location, arraybuffer);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n * @constructor\n */\nfunction UniformArrayFloatVec2(gl, activeUniform, uniformName, locations) {\n  const length = locations.length;\n\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = new Array(length);\n  this._value = new Float32Array(length * 2);\n\n  this._gl = gl;\n  this._location = locations[0];\n}\n\nUniformArrayFloatVec2.prototype.set = function () {\n  const value = this.value;\n  const length = value.length;\n  const arraybuffer = this._value;\n  let changed = false;\n  let j = 0;\n\n  for (let i = 0; i < length; ++i) {\n    const v = value[i];\n\n    if (!Cartesian2.equalsArray(v, arraybuffer, j)) {\n      Cartesian2.pack(v, arraybuffer, j);\n      changed = true;\n    }\n    j += 2;\n  }\n\n  if (changed) {\n    this._gl.uniform2fv(this._location, arraybuffer);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n * @constructor\n */\nfunction UniformArrayFloatVec3(gl, activeUniform, uniformName, locations) {\n  const length = locations.length;\n\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = new Array(length);\n  this._value = new Float32Array(length * 3);\n\n  this._gl = gl;\n  this._location = locations[0];\n}\n\nUniformArrayFloatVec3.prototype.set = function () {\n  const value = this.value;\n  const length = value.length;\n  const arraybuffer = this._value;\n  let changed = false;\n  let j = 0;\n\n  for (let i = 0; i < length; ++i) {\n    const v = value[i];\n\n    if (defined(v.red)) {\n      if (\n        v.red !== arraybuffer[j] ||\n        v.green !== arraybuffer[j + 1] ||\n        v.blue !== arraybuffer[j + 2]\n      ) {\n        arraybuffer[j] = v.red;\n        arraybuffer[j + 1] = v.green;\n        arraybuffer[j + 2] = v.blue;\n        changed = true;\n      }\n    } else if (defined(v.x)) {\n      if (!Cartesian3.equalsArray(v, arraybuffer, j)) {\n        Cartesian3.pack(v, arraybuffer, j);\n        changed = true;\n      }\n    } else {\n      //>>includeStart('debug', pragmas.debug);\n      throw new DeveloperError(\"Invalid vec3 value.\");\n      //>>includeEnd('debug');\n    }\n\n    j += 3;\n  }\n\n  if (changed) {\n    this._gl.uniform3fv(this._location, arraybuffer);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n * @constructor\n */\nfunction UniformArrayFloatVec4(gl, activeUniform, uniformName, locations) {\n  const length = locations.length;\n\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = new Array(length);\n  this._value = new Float32Array(length * 4);\n\n  this._gl = gl;\n  this._location = locations[0];\n}\n\nUniformArrayFloatVec4.prototype.set = function () {\n  // PERFORMANCE_IDEA: if it is a common case that only a few elements\n  // in a uniform array change, we could use heuristics to determine\n  // when it is better to call uniform4f for each element that changed\n  // vs. call uniform4fv once to set the entire array.  This applies\n  // to all uniform array types, not just vec4.  We might not care\n  // once we have uniform buffers since that will be the fast path.\n\n  // PERFORMANCE_IDEA: Micro-optimization (I bet it works though):\n  // As soon as changed is true, break into a separate loop that\n  // does the copy without the equals check.\n\n  const value = this.value;\n  const length = value.length;\n  const arraybuffer = this._value;\n  let changed = false;\n  let j = 0;\n\n  for (let i = 0; i < length; ++i) {\n    const v = value[i];\n\n    if (defined(v.red)) {\n      if (!Color.equalsArray(v, arraybuffer, j)) {\n        Color.pack(v, arraybuffer, j);\n        changed = true;\n      }\n    } else if (defined(v.x)) {\n      if (!Cartesian4.equalsArray(v, arraybuffer, j)) {\n        Cartesian4.pack(v, arraybuffer, j);\n        changed = true;\n      }\n    } else {\n      //>>includeStart('debug', pragmas.debug);\n      throw new DeveloperError(\"Invalid vec4 value.\");\n      //>>includeEnd('debug');\n    }\n\n    j += 4;\n  }\n\n  if (changed) {\n    this._gl.uniform4fv(this._location, arraybuffer);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n * @constructor\n */\nfunction UniformArraySampler(gl, activeUniform, uniformName, locations) {\n  const length = locations.length;\n\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = new Array(length);\n  this._value = new Float32Array(length);\n\n  this._gl = gl;\n  this._locations = locations;\n\n  this.textureUnitIndex = undefined;\n}\n\nUniformArraySampler.prototype.set = function () {\n  const gl = this._gl;\n  const textureUnitIndex = gl.TEXTURE0 + this.textureUnitIndex;\n\n  const value = this.value;\n  const length = value.length;\n  for (let i = 0; i < length; ++i) {\n    const v = value[i];\n    gl.activeTexture(textureUnitIndex + i);\n    gl.bindTexture(v._target, v._texture);\n  }\n};\n\nUniformArraySampler.prototype._setSampler = function (textureUnitIndex) {\n  this.textureUnitIndex = textureUnitIndex;\n\n  const locations = this._locations;\n  const length = locations.length;\n  for (let i = 0; i < length; ++i) {\n    const index = textureUnitIndex + i;\n    this._gl.uniform1i(locations[i], index);\n  }\n\n  return textureUnitIndex + length;\n};\n\n///////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n * @constructor\n */\nfunction UniformArrayInt(gl, activeUniform, uniformName, locations) {\n  const length = locations.length;\n\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = new Array(length);\n  this._value = new Int32Array(length);\n\n  this._gl = gl;\n  this._location = locations[0];\n}\n\nUniformArrayInt.prototype.set = function () {\n  const value = this.value;\n  const length = value.length;\n  const arraybuffer = this._value;\n  let changed = false;\n\n  for (let i = 0; i < length; ++i) {\n    const v = value[i];\n\n    if (v !== arraybuffer[i]) {\n      arraybuffer[i] = v;\n      changed = true;\n    }\n  }\n\n  if (changed) {\n    this._gl.uniform1iv(this._location, arraybuffer);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n * @constructor\n */\nfunction UniformArrayIntVec2(gl, activeUniform, uniformName, locations) {\n  const length = locations.length;\n\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = new Array(length);\n  this._value = new Int32Array(length * 2);\n\n  this._gl = gl;\n  this._location = locations[0];\n}\n\nUniformArrayIntVec2.prototype.set = function () {\n  const value = this.value;\n  const length = value.length;\n  const arraybuffer = this._value;\n  let changed = false;\n  let j = 0;\n\n  for (let i = 0; i < length; ++i) {\n    const v = value[i];\n\n    if (!Cartesian2.equalsArray(v, arraybuffer, j)) {\n      Cartesian2.pack(v, arraybuffer, j);\n      changed = true;\n    }\n    j += 2;\n  }\n\n  if (changed) {\n    this._gl.uniform2iv(this._location, arraybuffer);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n * @constructor\n */\nfunction UniformArrayIntVec3(gl, activeUniform, uniformName, locations) {\n  const length = locations.length;\n\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = new Array(length);\n  this._value = new Int32Array(length * 3);\n\n  this._gl = gl;\n  this._location = locations[0];\n}\n\nUniformArrayIntVec3.prototype.set = function () {\n  const value = this.value;\n  const length = value.length;\n  const arraybuffer = this._value;\n  let changed = false;\n  let j = 0;\n\n  for (let i = 0; i < length; ++i) {\n    const v = value[i];\n\n    if (!Cartesian3.equalsArray(v, arraybuffer, j)) {\n      Cartesian3.pack(v, arraybuffer, j);\n      changed = true;\n    }\n    j += 3;\n  }\n\n  if (changed) {\n    this._gl.uniform3iv(this._location, arraybuffer);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n * @constructor\n */\nfunction UniformArrayIntVec4(gl, activeUniform, uniformName, locations) {\n  const length = locations.length;\n\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = new Array(length);\n  this._value = new Int32Array(length * 4);\n\n  this._gl = gl;\n  this._location = locations[0];\n}\n\nUniformArrayIntVec4.prototype.set = function () {\n  const value = this.value;\n  const length = value.length;\n  const arraybuffer = this._value;\n  let changed = false;\n  let j = 0;\n\n  for (let i = 0; i < length; ++i) {\n    const v = value[i];\n\n    if (!Cartesian4.equalsArray(v, arraybuffer, j)) {\n      Cartesian4.pack(v, arraybuffer, j);\n      changed = true;\n    }\n    j += 4;\n  }\n\n  if (changed) {\n    this._gl.uniform4iv(this._location, arraybuffer);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n * @constructor\n */\nfunction UniformArrayMat2(gl, activeUniform, uniformName, locations) {\n  const length = locations.length;\n\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = new Array(length);\n  this._value = new Float32Array(length * 4);\n\n  this._gl = gl;\n  this._location = locations[0];\n}\n\nUniformArrayMat2.prototype.set = function () {\n  const value = this.value;\n  const length = value.length;\n  const arraybuffer = this._value;\n  let changed = false;\n  let j = 0;\n\n  for (let i = 0; i < length; ++i) {\n    const v = value[i];\n\n    if (!Matrix2.equalsArray(v, arraybuffer, j)) {\n      Matrix2.pack(v, arraybuffer, j);\n      changed = true;\n    }\n    j += 4;\n  }\n\n  if (changed) {\n    this._gl.uniformMatrix2fv(this._location, false, arraybuffer);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n * @constructor\n */\nfunction UniformArrayMat3(gl, activeUniform, uniformName, locations) {\n  const length = locations.length;\n\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = new Array(length);\n  this._value = new Float32Array(length * 9);\n\n  this._gl = gl;\n  this._location = locations[0];\n}\n\nUniformArrayMat3.prototype.set = function () {\n  const value = this.value;\n  const length = value.length;\n  const arraybuffer = this._value;\n  let changed = false;\n  let j = 0;\n\n  for (let i = 0; i < length; ++i) {\n    const v = value[i];\n\n    if (!Matrix3.equalsArray(v, arraybuffer, j)) {\n      Matrix3.pack(v, arraybuffer, j);\n      changed = true;\n    }\n    j += 9;\n  }\n\n  if (changed) {\n    this._gl.uniformMatrix3fv(this._location, false, arraybuffer);\n  }\n};\n\n///////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n * @constructor\n */\nfunction UniformArrayMat4(gl, activeUniform, uniformName, locations) {\n  const length = locations.length;\n\n  /**\n   * @type {string}\n   * @readonly\n   */\n  this.name = uniformName;\n\n  this.value = new Array(length);\n  this._value = new Float32Array(length * 16);\n\n  this._gl = gl;\n  this._location = locations[0];\n}\n\nUniformArrayMat4.prototype.set = function () {\n  const value = this.value;\n  const length = value.length;\n  const arraybuffer = this._value;\n  let changed = false;\n  let j = 0;\n\n  for (let i = 0; i < length; ++i) {\n    const v = value[i];\n\n    if (!Matrix4.equalsArray(v, arraybuffer, j)) {\n      Matrix4.pack(v, arraybuffer, j);\n      changed = true;\n    }\n    j += 16;\n  }\n\n  if (changed) {\n    this._gl.uniformMatrix4fv(this._location, false, arraybuffer);\n  }\n};\nexport default createUniformArray;\n"],"names":["createUniformArray","gl","activeUniform","uniformName","locations","type","FLOAT","UniformArrayFloat","FLOAT_VEC2","UniformArrayFloatVec2","FLOAT_VEC3","UniformArrayFloatVec3","FLOAT_VEC4","UniformArrayFloatVec4","SAMPLER_2D","SAMPLER_3D","SAMPLER_CUBE","UniformArraySampler","INT","BOOL","UniformArrayInt","INT_VEC2","BOOL_VEC2","UniformArrayIntVec2","INT_VEC3","BOOL_VEC3","UniformArrayIntVec3","INT_VEC4","BOOL_VEC4","UniformArrayIntVec4","FLOAT_MAT2","UniformArrayMat2","FLOAT_MAT3","UniformArrayMat3","FLOAT_MAT4","UniformArrayMat4","length","name","value","Array","_value","Float32Array","_gl","_location","prototype","set","arraybuffer","changed","i","v","uniform1fv","j","equalsArray","pack","uniform2fv","red","green","blue","x","uniform3fv","uniform4fv","_locations","textureUnitIndex","undefined","TEXTURE0","activeTexture","bindTexture","_target","_texture","_setSampler","index","uniform1i","Int32Array","uniform1iv","uniform2iv","uniform3iv","uniform4iv","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4136, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/ShaderProgram.js"],"sourcesContent":["import Check from \"../Core/Check.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport RuntimeError from \"../Core/RuntimeError.js\";\nimport AutomaticUniforms from \"./AutomaticUniforms.js\";\nimport ContextLimits from \"./ContextLimits.js\";\nimport createUniform from \"./createUniform.js\";\nimport createUniformArray from \"./createUniformArray.js\";\n\nlet nextShaderProgramId = 0;\n\n/**\n * @private\n */\nfunction ShaderProgram(options) {\n  let vertexShaderText = options.vertexShaderText;\n  let fragmentShaderText = options.fragmentShaderText;\n\n  if (typeof spector !== \"undefined\") {\n    // The #line statements common in Cesium shaders interfere with the ability of the\n    // SpectorJS to show errors on the correct line. So remove them when SpectorJS\n    // is active.\n    vertexShaderText = vertexShaderText.replace(/^#line/gm, \"//#line\");\n    fragmentShaderText = fragmentShaderText.replace(/^#line/gm, \"//#line\");\n  }\n\n  const modifiedFS = handleUniformPrecisionMismatches(\n    vertexShaderText,\n    fragmentShaderText,\n  );\n\n  this._gl = options.gl;\n  this._logShaderCompilation = options.logShaderCompilation;\n  this._debugShaders = options.debugShaders;\n  this._attributeLocations = options.attributeLocations;\n\n  this._program = undefined;\n  this._numberOfVertexAttributes = undefined;\n  this._vertexAttributes = undefined;\n  this._uniformsByName = undefined;\n  this._uniforms = undefined;\n  this._automaticUniforms = undefined;\n  this._manualUniforms = undefined;\n  this._duplicateUniformNames = modifiedFS.duplicateUniformNames;\n  this._cachedShader = undefined; // Used by ShaderCache\n\n  /**\n   * @private\n   */\n  this.maximumTextureUnitIndex = undefined;\n\n  this._vertexShaderSource = options.vertexShaderSource;\n  this._vertexShaderText = options.vertexShaderText;\n  this._fragmentShaderSource = options.fragmentShaderSource;\n  this._fragmentShaderText = modifiedFS.fragmentShaderText;\n\n  /**\n   * @private\n   */\n  this.id = nextShaderProgramId++;\n}\n\nShaderProgram.fromCache = function (options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options.context\", options.context);\n  //>>includeEnd('debug');\n\n  return options.context.shaderCache.getShaderProgram(options);\n};\n\nShaderProgram.replaceCache = function (options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options.context\", options.context);\n  //>>includeEnd('debug');\n\n  return options.context.shaderCache.replaceShaderProgram(options);\n};\n\nObject.defineProperties(ShaderProgram.prototype, {\n  /**\n   * GLSL source for the shader program's vertex shader.\n   * @memberof ShaderProgram.prototype\n   *\n   * @type {ShaderSource}\n   * @readonly\n   */\n  vertexShaderSource: {\n    get: function () {\n      return this._vertexShaderSource;\n    },\n  },\n  /**\n   * GLSL source for the shader program's fragment shader.\n   * @memberof ShaderProgram.prototype\n   *\n   * @type {ShaderSource}\n   * @readonly\n   */\n  fragmentShaderSource: {\n    get: function () {\n      return this._fragmentShaderSource;\n    },\n  },\n  vertexAttributes: {\n    get: function () {\n      initialize(this);\n      return this._vertexAttributes;\n    },\n  },\n  numberOfVertexAttributes: {\n    get: function () {\n      initialize(this);\n      return this._numberOfVertexAttributes;\n    },\n  },\n  allUniforms: {\n    get: function () {\n      initialize(this);\n      return this._uniformsByName;\n    },\n  },\n});\n\nfunction extractUniforms(shaderText) {\n  const uniformNames = [];\n  const uniformLines = shaderText.match(/uniform.*?(?![^{]*})(?=[=\\[;])/g);\n  if (defined(uniformLines)) {\n    const len = uniformLines.length;\n    for (let i = 0; i < len; i++) {\n      const line = uniformLines[i].trim();\n      const name = line.slice(line.lastIndexOf(\" \") + 1);\n      uniformNames.push(name);\n    }\n  }\n  return uniformNames;\n}\n\nfunction handleUniformPrecisionMismatches(\n  vertexShaderText,\n  fragmentShaderText,\n) {\n  // If a uniform exists in both the vertex and fragment shader but with different precision qualifiers,\n  // give the fragment shader uniform a different name. This fixes shader compilation errors on devices\n  // that only support mediump in the fragment shader.\n  const duplicateUniformNames = {};\n\n  if (!ContextLimits.highpFloatSupported || !ContextLimits.highpIntSupported) {\n    let i, j;\n    let uniformName;\n    let duplicateName;\n    const vertexShaderUniforms = extractUniforms(vertexShaderText);\n    const fragmentShaderUniforms = extractUniforms(fragmentShaderText);\n    const vertexUniformsCount = vertexShaderUniforms.length;\n    const fragmentUniformsCount = fragmentShaderUniforms.length;\n\n    for (i = 0; i < vertexUniformsCount; i++) {\n      for (j = 0; j < fragmentUniformsCount; j++) {\n        if (vertexShaderUniforms[i] === fragmentShaderUniforms[j]) {\n          uniformName = vertexShaderUniforms[i];\n          duplicateName = `czm_mediump_${uniformName}`;\n          // Update fragmentShaderText with renamed uniforms\n          const re = new RegExp(`${uniformName}\\\\b`, \"g\");\n          fragmentShaderText = fragmentShaderText.replace(re, duplicateName);\n          duplicateUniformNames[duplicateName] = uniformName;\n        }\n      }\n    }\n  }\n\n  return {\n    fragmentShaderText: fragmentShaderText,\n    duplicateUniformNames: duplicateUniformNames,\n  };\n}\n\nconst consolePrefix = \"[Cesium WebGL] \";\n\nfunction createAndLinkProgram(gl, shader) {\n  const vsSource = shader._vertexShaderText;\n  const fsSource = shader._fragmentShaderText;\n\n  const vertexShader = gl.createShader(gl.VERTEX_SHADER);\n  gl.shaderSource(vertexShader, vsSource);\n  gl.compileShader(vertexShader);\n\n  const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n  gl.shaderSource(fragmentShader, fsSource);\n  gl.compileShader(fragmentShader);\n\n  const program = gl.createProgram();\n  gl.attachShader(program, vertexShader);\n  gl.attachShader(program, fragmentShader);\n\n  const attributeLocations = shader._attributeLocations;\n  if (defined(attributeLocations)) {\n    for (const attribute in attributeLocations) {\n      if (attributeLocations.hasOwnProperty(attribute)) {\n        gl.bindAttribLocation(\n          program,\n          attributeLocations[attribute],\n          attribute,\n        );\n      }\n    }\n  }\n\n  gl.linkProgram(program);\n  let log;\n\n  // For performance: if linker succeeds, return without checking compile status\n  if (gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    if (shader._logShaderCompilation) {\n      log = gl.getShaderInfoLog(vertexShader);\n      if (defined(log) && log.length > 0) {\n        console.log(`${consolePrefix}Vertex shader compile log: ${log}`);\n      }\n\n      log = gl.getShaderInfoLog(fragmentShader);\n      if (defined(log) && log.length > 0) {\n        console.log(`${consolePrefix}Fragment shader compile log: ${log}`);\n      }\n\n      log = gl.getProgramInfoLog(program);\n      if (defined(log) && log.length > 0) {\n        console.log(`${consolePrefix}Shader program link log: ${log}`);\n      }\n    }\n\n    gl.deleteShader(vertexShader);\n    gl.deleteShader(fragmentShader);\n\n    return program;\n  }\n\n  // Program failed to link. Try to find and report the reason\n  let errorMessage;\n  const debugShaders = shader._debugShaders;\n\n  if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\n    log = gl.getShaderInfoLog(fragmentShader);\n    console.error(`${consolePrefix}Fragment shader compile log: ${log}`);\n    console.error(`${consolePrefix} Fragment shader source:\\n${fsSource}`);\n    errorMessage = `Fragment shader failed to compile.  Compile log: ${log}`;\n  } else if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {\n    log = gl.getShaderInfoLog(vertexShader);\n    console.error(`${consolePrefix}Vertex shader compile log: ${log}`);\n    console.error(`${consolePrefix} Vertex shader source:\\n${vsSource}`);\n    errorMessage = `Vertex shader failed to compile.  Compile log: ${log}`;\n  } else {\n    log = gl.getProgramInfoLog(program);\n    console.error(`${consolePrefix}Shader program link log: ${log}`);\n    logTranslatedSource(vertexShader, \"vertex\");\n    logTranslatedSource(fragmentShader, \"fragment\");\n    errorMessage = `Program failed to link.  Link log: ${log}`;\n  }\n\n  gl.deleteShader(vertexShader);\n  gl.deleteShader(fragmentShader);\n  gl.deleteProgram(program);\n  throw new RuntimeError(errorMessage);\n\n  function logTranslatedSource(compiledShader, name) {\n    if (!defined(debugShaders)) {\n      return;\n    }\n    const translation = debugShaders.getTranslatedShaderSource(compiledShader);\n    if (translation === \"\") {\n      console.error(`${consolePrefix}${name} shader translation failed.`);\n      return;\n    }\n    console.error(\n      `${consolePrefix}Translated ${name} shaderSource:\\n${translation}`,\n    );\n  }\n}\n\nfunction findVertexAttributes(gl, program, numberOfAttributes) {\n  const attributes = {};\n  for (let i = 0; i < numberOfAttributes; ++i) {\n    const attr = gl.getActiveAttrib(program, i);\n    const location = gl.getAttribLocation(program, attr.name);\n\n    attributes[attr.name] = {\n      name: attr.name,\n      type: attr.type,\n      index: location,\n    };\n  }\n\n  return attributes;\n}\n\nfunction findUniforms(gl, program) {\n  const uniformsByName = {};\n  const uniforms = [];\n  const samplerUniforms = [];\n\n  const numberOfUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n\n  for (let i = 0; i < numberOfUniforms; ++i) {\n    const activeUniform = gl.getActiveUniform(program, i);\n    const suffix = \"[0]\";\n    const uniformName =\n      activeUniform.name.indexOf(\n        suffix,\n        activeUniform.name.length - suffix.length,\n      ) !== -1\n        ? activeUniform.name.slice(0, activeUniform.name.length - 3)\n        : activeUniform.name;\n\n    // Ignore GLSL built-in uniforms returned in Firefox.\n    if (uniformName.indexOf(\"gl_\") !== 0) {\n      if (activeUniform.name.indexOf(\"[\") < 0) {\n        // Single uniform\n        const location = gl.getUniformLocation(program, uniformName);\n\n        // IE 11.0.9 needs this check since getUniformLocation can return null\n        // if the uniform is not active (e.g., it is optimized out).  Looks like\n        // getActiveUniform() above returns uniforms that are not actually active.\n        if (location !== null) {\n          const uniform = createUniform(\n            gl,\n            activeUniform,\n            uniformName,\n            location,\n          );\n\n          uniformsByName[uniformName] = uniform;\n          uniforms.push(uniform);\n\n          if (uniform._setSampler) {\n            samplerUniforms.push(uniform);\n          }\n        }\n      } else {\n        // Uniform array\n\n        let uniformArray;\n        let locations;\n        let value;\n        let loc;\n\n        // On some platforms - Nexus 4 in Firefox for one - an array of sampler2D ends up being represented\n        // as separate uniforms, one for each array element.  Check for and handle that case.\n        const indexOfBracket = uniformName.indexOf(\"[\");\n        if (indexOfBracket >= 0) {\n          // We're assuming the array elements show up in numerical order - it seems to be true.\n          uniformArray = uniformsByName[uniformName.slice(0, indexOfBracket)];\n\n          // Nexus 4 with Android 4.3 needs this check, because it reports a uniform\n          // with the strange name webgl_3467e0265d05c3c1[1] in our globe surface shader.\n          if (!defined(uniformArray)) {\n            continue;\n          }\n\n          locations = uniformArray._locations;\n\n          // On the Nexus 4 in Chrome, we get one uniform per sampler, just like in Firefox,\n          // but the size is not 1 like it is in Firefox.  So if we push locations here,\n          // we'll end up adding too many locations.\n          if (locations.length <= 1) {\n            value = uniformArray.value;\n            loc = gl.getUniformLocation(program, uniformName);\n\n            // Workaround for IE 11.0.9.  See above.\n            if (loc !== null) {\n              locations.push(loc);\n              value.push(gl.getUniform(program, loc));\n            }\n          }\n        } else {\n          locations = [];\n          for (let j = 0; j < activeUniform.size; ++j) {\n            loc = gl.getUniformLocation(program, `${uniformName}[${j}]`);\n\n            // Workaround for IE 11.0.9.  See above.\n            if (loc !== null) {\n              locations.push(loc);\n            }\n          }\n          uniformArray = createUniformArray(\n            gl,\n            activeUniform,\n            uniformName,\n            locations,\n          );\n\n          uniformsByName[uniformName] = uniformArray;\n          uniforms.push(uniformArray);\n\n          if (uniformArray._setSampler) {\n            samplerUniforms.push(uniformArray);\n          }\n        }\n      }\n    }\n  }\n\n  return {\n    uniformsByName: uniformsByName,\n    uniforms: uniforms,\n    samplerUniforms: samplerUniforms,\n  };\n}\n\nfunction partitionUniforms(shader, uniforms) {\n  const automaticUniforms = [];\n  const manualUniforms = [];\n\n  for (const uniform in uniforms) {\n    if (uniforms.hasOwnProperty(uniform)) {\n      const uniformObject = uniforms[uniform];\n      let uniformName = uniform;\n      // if it's a duplicate uniform, use its original name so it is updated correctly\n      const duplicateUniform = shader._duplicateUniformNames[uniformName];\n      if (defined(duplicateUniform)) {\n        uniformObject.name = duplicateUniform;\n        uniformName = duplicateUniform;\n      }\n      const automaticUniform = AutomaticUniforms[uniformName];\n      if (defined(automaticUniform)) {\n        automaticUniforms.push({\n          uniform: uniformObject,\n          automaticUniform: automaticUniform,\n        });\n      } else {\n        manualUniforms.push(uniformObject);\n      }\n    }\n  }\n\n  return {\n    automaticUniforms: automaticUniforms,\n    manualUniforms: manualUniforms,\n  };\n}\n\nfunction setSamplerUniforms(gl, program, samplerUniforms) {\n  gl.useProgram(program);\n\n  let textureUnitIndex = 0;\n  const length = samplerUniforms.length;\n  for (let i = 0; i < length; ++i) {\n    textureUnitIndex = samplerUniforms[i]._setSampler(textureUnitIndex);\n  }\n\n  gl.useProgram(null);\n\n  return textureUnitIndex;\n}\n\nfunction initialize(shader) {\n  if (defined(shader._program)) {\n    return;\n  }\n\n  reinitialize(shader);\n}\n\nfunction reinitialize(shader) {\n  const oldProgram = shader._program;\n\n  const gl = shader._gl;\n  const program = createAndLinkProgram(gl, shader, shader._debugShaders);\n  const numberOfVertexAttributes = gl.getProgramParameter(\n    program,\n    gl.ACTIVE_ATTRIBUTES,\n  );\n  const uniforms = findUniforms(gl, program);\n  const partitionedUniforms = partitionUniforms(\n    shader,\n    uniforms.uniformsByName,\n  );\n\n  shader._program = program;\n  shader._numberOfVertexAttributes = numberOfVertexAttributes;\n  shader._vertexAttributes = findVertexAttributes(\n    gl,\n    program,\n    numberOfVertexAttributes,\n  );\n  shader._uniformsByName = uniforms.uniformsByName;\n  shader._uniforms = uniforms.uniforms;\n  shader._automaticUniforms = partitionedUniforms.automaticUniforms;\n  shader._manualUniforms = partitionedUniforms.manualUniforms;\n\n  shader.maximumTextureUnitIndex = setSamplerUniforms(\n    gl,\n    program,\n    uniforms.samplerUniforms,\n  );\n\n  if (oldProgram) {\n    shader._gl.deleteProgram(oldProgram);\n  }\n\n  // If SpectorJS is active, add the hook to make the shader editor work.\n  // https://github.com/BabylonJS/Spector.js/blob/master/documentation/extension.md#shader-editor\n  if (typeof spector !== \"undefined\") {\n    shader._program.__SPECTOR_rebuildProgram = function (\n      vertexSourceCode, // The new vertex shader source\n      fragmentSourceCode, // The new fragment shader source\n      onCompiled, // Callback triggered by your engine when the compilation is successful. It needs to send back the new linked program.\n      onError, // Callback triggered by your engine in case of error. It needs to send the WebGL error to allow the editor to display the error in the gutter.\n    ) {\n      const originalVS = shader._vertexShaderText;\n      const originalFS = shader._fragmentShaderText;\n\n      // SpectorJS likes to replace `!=` with `! =` for unknown reasons,\n      // and that causes glsl compile failures. So fix that up.\n      const regex = / ! = /g;\n      shader._vertexShaderText = vertexSourceCode.replace(regex, \" != \");\n      shader._fragmentShaderText = fragmentSourceCode.replace(regex, \" != \");\n\n      try {\n        reinitialize(shader);\n        onCompiled(shader._program);\n      } catch (e) {\n        shader._vertexShaderText = originalVS;\n        shader._fragmentShaderText = originalFS;\n\n        // Only pass on the WebGL error:\n        const errorMatcher = /(?:Compile|Link) error: ([^]*)/;\n        const match = errorMatcher.exec(e.message);\n        if (match) {\n          onError(match[1]);\n        } else {\n          onError(e.message);\n        }\n      }\n    };\n  }\n}\n\nShaderProgram.prototype._bind = function () {\n  initialize(this);\n  this._gl.useProgram(this._program);\n};\n\nShaderProgram.prototype._setUniforms = function (\n  uniformMap,\n  uniformState,\n  validate,\n) {\n  let len;\n  let i;\n\n  if (defined(uniformMap)) {\n    const manualUniforms = this._manualUniforms;\n    len = manualUniforms.length;\n    for (i = 0; i < len; ++i) {\n      const mu = manualUniforms[i];\n\n      //>>includeStart('debug', pragmas.debug);\n      if (!defined(uniformMap[mu.name])) {\n        throw new DeveloperError(`Unknown uniform: ${mu.name}`);\n      }\n      //>>includeEnd('debug');\n\n      mu.value = uniformMap[mu.name]();\n    }\n  }\n\n  const automaticUniforms = this._automaticUniforms;\n  len = automaticUniforms.length;\n  for (i = 0; i < len; ++i) {\n    const au = automaticUniforms[i];\n    au.uniform.value = au.automaticUniform.getValue(uniformState);\n  }\n\n  ///////////////////////////////////////////////////////////////////\n\n  // It appears that assigning the uniform values above and then setting them here\n  // (which makes the GL calls) is faster than removing this loop and making\n  // the GL calls above.  I suspect this is because each GL call pollutes the\n  // L2 cache making our JavaScript and the browser/driver ping-pong cache lines.\n  const uniforms = this._uniforms;\n  len = uniforms.length;\n  for (i = 0; i < len; ++i) {\n    uniforms[i].set();\n  }\n\n  if (validate) {\n    const gl = this._gl;\n    const program = this._program;\n\n    gl.validateProgram(program);\n    //>>includeStart('debug', pragmas.debug);\n    if (!gl.getProgramParameter(program, gl.VALIDATE_STATUS)) {\n      throw new DeveloperError(\n        `Program validation failed.  Program info log: ${gl.getProgramInfoLog(\n          program,\n        )}`,\n      );\n    }\n    //>>includeEnd('debug');\n  }\n};\n\nShaderProgram.prototype.isDestroyed = function () {\n  return false;\n};\n\nShaderProgram.prototype.destroy = function () {\n  this._cachedShader.cache.releaseShaderProgram(this);\n  return undefined;\n};\n\nShaderProgram.prototype.finalDestroy = function () {\n  this._gl.deleteProgram(this._program);\n  return destroyObject(this);\n};\nexport default ShaderProgram;\n"],"names":["nextShaderProgramId","ShaderProgram","options","vertexShaderText","fragmentShaderText","spector","replace","modifiedFS","handleUniformPrecisionMismatches","_gl","gl","_logShaderCompilation","logShaderCompilation","_debugShaders","debugShaders","_attributeLocations","attributeLocations","_program","undefined","_numberOfVertexAttributes","_vertexAttributes","_uniformsByName","_uniforms","_automaticUniforms","_manualUniforms","_duplicateUniformNames","duplicateUniformNames","_cachedShader","maximumTextureUnitIndex","_vertexShaderSource","vertexShaderSource","_vertexShaderText","_fragmentShaderSource","fragmentShaderSource","_fragmentShaderText","id","fromCache","EMPTY_OBJECT","defined","context","shaderCache","getShaderProgram","replaceCache","replaceShaderProgram","Object","defineProperties","prototype","get","vertexAttributes","initialize","numberOfVertexAttributes","allUniforms","extractUniforms","shaderText","uniformNames","uniformLines","match","len","length","i","line","trim","name","slice","lastIndexOf","push","highpFloatSupported","highpIntSupported","j","uniformName","duplicateName","vertexShaderUniforms","fragmentShaderUniforms","vertexUniformsCount","fragmentUniformsCount","re","RegExp","consolePrefix","createAndLinkProgram","shader","vsSource","fsSource","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","fragmentShader","FRAGMENT_SHADER","program","createProgram","attachShader","attribute","hasOwnProperty","bindAttribLocation","linkProgram","log","getProgramParameter","LINK_STATUS","getShaderInfoLog","console","getProgramInfoLog","deleteShader","errorMessage","getShaderParameter","COMPILE_STATUS","error","logTranslatedSource","deleteProgram","compiledShader","translation","getTranslatedShaderSource","findVertexAttributes","numberOfAttributes","attributes","attr","getActiveAttrib","location","getAttribLocation","type","index","findUniforms","uniformsByName","uniforms","samplerUniforms","numberOfUniforms","ACTIVE_UNIFORMS","activeUniform","getActiveUniform","suffix","indexOf","getUniformLocation","uniform","_setSampler","uniformArray","locations","value","loc","indexOfBracket","_locations","getUniform","size","partitionUniforms","automaticUniforms","manualUniforms","uniformObject","duplicateUniform","automaticUniform","setSamplerUniforms","useProgram","textureUnitIndex","reinitialize","oldProgram","ACTIVE_ATTRIBUTES","partitionedUniforms","__SPECTOR_rebuildProgram","vertexSourceCode","fragmentSourceCode","onCompiled","onError","originalVS","originalFS","regex","e","errorMatcher","exec","message","_bind","_setUniforms","uniformMap","uniformState","validate","mu","au","getValue","set","validateProgram","VALIDATE_STATUS","isDestroyed","destroy","cache","releaseShaderProgram","finalDestroy"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4625, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/demodernizeShader.js"],"sourcesContent":["/**\n * Transpiles a [GLSL 3.00]{@link https://registry.khronos.org/OpenGL/specs/es/3.0/GLSL_ES_Specification_3.00.pdf}\n * shader to a [GLSL 1.00]{@link https://registry.khronos.org/OpenGL/specs/es/2.0/GLSL_ES_Specification_1.00.pdf} shader.\n *\n * This function does not aim to provide a comprehensive transpilation from GLSL 3.00 to GLSL 1.00; only the functionality\n * used within the CesiumJS shaders is supported.\n *\n * @private\n *\n * @param {string} input The GLSL 3.00 shader.\n * @param {boolean} isFragmentShader True if the shader is a fragment shader.\n *\n * @return {string}\n */\nfunction demodernizeShader(input, isFragmentShader) {\n  let output = input;\n\n  // Remove version string got GLSL 3.00.\n  output = output.replaceAll(`version 300 es`, ``);\n\n  // Replace all texture calls with texture2D\n  output = output.replaceAll(\n    /(texture\\()/g,\n    `texture2D(`, // Trailing ')' is included in the match group.\n  );\n\n  if (isFragmentShader) {\n    // Replace the in with varying.\n    output = output.replaceAll(\n      /\\n\\s*(in)\\s+(vec\\d|mat\\d|float)/g,\n      `\\nvarying $2`,\n    );\n\n    if (/out_FragData_(\\d+)/.test(output)) {\n      output = `#extension GL_EXT_draw_buffers : enable\\n${output}`;\n\n      // Remove all layout declarations for out_FragData.\n      output = output.replaceAll(\n        /layout\\s+\\(location\\s*=\\s*\\d+\\)\\s*out\\s+vec4\\s+out_FragData_\\d+;/g,\n        ``,\n      );\n\n      // Replace out_FragData with gl_FragData.\n      output = output.replaceAll(/out_FragData_(\\d+)/g, `gl_FragData[$1]`);\n    }\n\n    // Remove all layout declarations for out_FragColor.\n    output = output.replaceAll(\n      /layout\\s+\\(location\\s*=\\s*0\\)\\s*out\\s+vec4\\s+out_FragColor;/g,\n      ``,\n    );\n\n    // Replace out_FragColor with gl_FragColor.\n    output = output.replaceAll(/out_FragColor/g, `gl_FragColor`);\n    output = output.replaceAll(/out_FragColor\\[(\\d+)\\]/g, `gl_FragColor[$1]`);\n\n    if (/gl_FragDepth/.test(output)) {\n      output = `#extension GL_EXT_frag_depth : enable\\n${output}`;\n      // Replace gl_FragDepth with gl_FragDepthEXT.\n      output = output.replaceAll(/gl_FragDepth/g, `gl_FragDepthEXT`);\n    }\n\n    // Enable the EXT_shader_texture_lod extension\n    output = `#ifdef GL_EXT_shader_texture_lod\\n#extension GL_EXT_shader_texture_lod : enable\\n#endif\\n${output}`;\n    // Enable the OES_standard_derivatives extension\n    output = `#ifdef GL_OES_standard_derivatives\\n#extension GL_OES_standard_derivatives : enable\\n#endif\\n${output}`;\n  } else {\n    // Replace the in with attribute.\n    output = output.replaceAll(/(in)\\s+(vec\\d|mat\\d|float)/g, `attribute $2`);\n\n    // Replace the out with varying.\n    output = output.replaceAll(\n      /(out)\\s+(vec\\d|mat\\d|float)\\s+([\\w]+);/g,\n      `varying $2 $3;`,\n    );\n  }\n\n  // Add version string for GLSL 1.00.\n  output = `#version 100\\n${output}`;\n\n  return output;\n}\n\nexport default demodernizeShader;\n"],"names":["demodernizeShader","input","isFragmentShader","output","replaceAll","test"],"mappings":";;;;AAAA;;;;;;;;;;;;;CAaC,GACD,SAASA,kBAAkBC,KAAK,EAAEC,gBAAgB;IAChD,IAAIC,SAASF;IAEb,uCAAuC;IACvCE,SAASA,OAAOC,UAAU,CAAC,CAAC,cAAc,CAAC,EAAE,EAAE;IAE/C,2CAA2C;IAC3CD,SAASA,OAAOC,UAAU,CACxB,gBACA,CAAC,UAAU,CAAC;IAGd,IAAIF,kBAAkB;QACpB,+BAA+B;QAC/BC,SAASA,OAAOC,UAAU,CACxB,oCACA,CAAC,YAAY,CAAC;QAGhB,IAAI,qBAAqBC,IAAI,CAACF,SAAS;YACrCA,SAAS,CAAC,yCAAyC,EAAEA,QAAQ;YAE7D,mDAAmD;YACnDA,SAASA,OAAOC,UAAU,CACxB,qEACA,EAAE;YAGJ,yCAAyC;YACzCD,SAASA,OAAOC,UAAU,CAAC,uBAAuB,CAAC,eAAe,CAAC;QACrE;QAEA,oDAAoD;QACpDD,SAASA,OAAOC,UAAU,CACxB,gEACA,EAAE;QAGJ,2CAA2C;QAC3CD,SAASA,OAAOC,UAAU,CAAC,kBAAkB,CAAC,YAAY,CAAC;QAC3DD,SAASA,OAAOC,UAAU,CAAC,2BAA2B,CAAC,gBAAgB,CAAC;QAExE,IAAI,eAAeC,IAAI,CAACF,SAAS;YAC/BA,SAAS,CAAC,uCAAuC,EAAEA,QAAQ;YAC3D,6CAA6C;YAC7CA,SAASA,OAAOC,UAAU,CAAC,iBAAiB,CAAC,eAAe,CAAC;QAC/D;QAEA,8CAA8C;QAC9CD,SAAS,CAAC,yFAAyF,EAAEA,QAAQ;QAC7G,gDAAgD;QAChDA,SAAS,CAAC,6FAA6F,EAAEA,QAAQ;IACnH,OAAO;QACL,iCAAiC;QACjCA,SAASA,OAAOC,UAAU,CAAC,+BAA+B,CAAC,YAAY,CAAC;QAExE,gCAAgC;QAChCD,SAASA,OAAOC,UAAU,CACxB,2CACA,CAAC,cAAc,CAAC;IAEpB;IAEA,oCAAoC;IACpCD,SAAS,CAAC,cAAc,EAAEA,QAAQ;IAElC,OAAOA;AACT;uCAEeH","ignoreList":[0]}},
    {"offset": {"line": 4687, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/ShaderSource.js"],"sourcesContent":["import Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport CzmBuiltins from \"../Shaders/Builtin/CzmBuiltins.js\";\nimport AutomaticUniforms from \"./AutomaticUniforms.js\";\nimport demodernizeShader from \"./demodernizeShader.js\";\n\nfunction removeComments(source) {\n  // remove inline comments\n  source = source.replace(/\\/\\/.*/g, \"\");\n  // remove multiline comment block\n  return source.replace(/\\/\\*\\*[\\s\\S]*?\\*\\//gm, function (match) {\n    // preserve the number of lines in the comment block so the line numbers will be correct when debugging shaders\n    const numberOfLines = match.match(/\\n/gm).length;\n    let replacement = \"\";\n    for (let lineNumber = 0; lineNumber < numberOfLines; ++lineNumber) {\n      replacement += \"\\n\";\n    }\n    return replacement;\n  });\n}\n\nfunction getDependencyNode(name, glslSource, nodes) {\n  let dependencyNode;\n\n  // check if already loaded\n  for (let i = 0; i < nodes.length; ++i) {\n    if (nodes[i].name === name) {\n      dependencyNode = nodes[i];\n    }\n  }\n\n  if (!defined(dependencyNode)) {\n    // strip doc comments so we don't accidentally try to determine a dependency for something found\n    // in a comment\n    glslSource = removeComments(glslSource);\n\n    // create new node\n    dependencyNode = {\n      name: name,\n      glslSource: glslSource,\n      dependsOn: [],\n      requiredBy: [],\n      evaluated: false,\n    };\n    nodes.push(dependencyNode);\n  }\n\n  return dependencyNode;\n}\n\nfunction generateDependencies(currentNode, dependencyNodes) {\n  if (currentNode.evaluated) {\n    return;\n  }\n\n  currentNode.evaluated = true;\n\n  // identify all dependencies that are referenced from this glsl source code\n  let czmMatches = currentNode.glslSource.match(/\\bczm_[a-zA-Z0-9_]*/g);\n  if (defined(czmMatches) && czmMatches !== null) {\n    // remove duplicates\n    czmMatches = czmMatches.filter(function (elem, pos) {\n      return czmMatches.indexOf(elem) === pos;\n    });\n\n    czmMatches.forEach(function (element) {\n      if (\n        element !== currentNode.name &&\n        ShaderSource._czmBuiltinsAndUniforms.hasOwnProperty(element)\n      ) {\n        const referencedNode = getDependencyNode(\n          element,\n          ShaderSource._czmBuiltinsAndUniforms[element],\n          dependencyNodes,\n        );\n        currentNode.dependsOn.push(referencedNode);\n        referencedNode.requiredBy.push(currentNode);\n\n        // recursive call to find any dependencies of the new node\n        generateDependencies(referencedNode, dependencyNodes);\n      }\n    });\n  }\n}\n\nfunction sortDependencies(dependencyNodes) {\n  const nodesWithoutIncomingEdges = [];\n  const allNodes = [];\n\n  while (dependencyNodes.length > 0) {\n    const node = dependencyNodes.pop();\n    allNodes.push(node);\n\n    if (node.requiredBy.length === 0) {\n      nodesWithoutIncomingEdges.push(node);\n    }\n  }\n\n  while (nodesWithoutIncomingEdges.length > 0) {\n    const currentNode = nodesWithoutIncomingEdges.shift();\n\n    dependencyNodes.push(currentNode);\n\n    for (let i = 0; i < currentNode.dependsOn.length; ++i) {\n      // remove the edge from the graph\n      const referencedNode = currentNode.dependsOn[i];\n      const index = referencedNode.requiredBy.indexOf(currentNode);\n      referencedNode.requiredBy.splice(index, 1);\n\n      // if referenced node has no more incoming edges, add to list\n      if (referencedNode.requiredBy.length === 0) {\n        nodesWithoutIncomingEdges.push(referencedNode);\n      }\n    }\n  }\n\n  // if there are any nodes left with incoming edges, then there was a circular dependency somewhere in the graph\n  const badNodes = [];\n  for (let j = 0; j < allNodes.length; ++j) {\n    if (allNodes[j].requiredBy.length !== 0) {\n      badNodes.push(allNodes[j]);\n    }\n  }\n\n  //>>includeStart('debug', pragmas.debug);\n  if (badNodes.length !== 0) {\n    let message =\n      \"A circular dependency was found in the following built-in functions/structs/constants: \\n\";\n    for (let k = 0; k < badNodes.length; ++k) {\n      message = `${message + badNodes[k].name}\\n`;\n    }\n    throw new DeveloperError(message);\n  }\n  //>>includeEnd('debug');\n}\n\nfunction getBuiltinsAndAutomaticUniforms(shaderSource) {\n  // generate a dependency graph for builtin functions\n  const dependencyNodes = [];\n  const root = getDependencyNode(\"main\", shaderSource, dependencyNodes);\n  generateDependencies(root, dependencyNodes);\n  sortDependencies(dependencyNodes);\n\n  // Concatenate the source code for the function dependencies.\n  // Iterate in reverse so that dependent items are declared before they are used.\n  let builtinsSource = \"\";\n  for (let i = dependencyNodes.length - 1; i >= 0; --i) {\n    builtinsSource = `${builtinsSource + dependencyNodes[i].glslSource}\\n`;\n  }\n\n  return builtinsSource.replace(root.glslSource, \"\");\n}\n\nfunction combineShader(shaderSource, isFragmentShader, context) {\n  let i;\n  let length;\n\n  // Combine shader sources, generally for pseudo-polymorphism, e.g., czm_getMaterial.\n  let combinedSources = \"\";\n  const sources = shaderSource.sources;\n  if (defined(sources)) {\n    for (i = 0, length = sources.length; i < length; ++i) {\n      // #line needs to be on its own line.\n      combinedSources += `\\n#line 0\\n${sources[i]}`;\n    }\n  }\n\n  combinedSources = removeComments(combinedSources);\n\n  // Extract existing shader version from sources\n  let version;\n  combinedSources = combinedSources.replace(\n    /#version\\s+(.*?)\\n/gm,\n    function (match, group1) {\n      //>>includeStart('debug', pragmas.debug);\n      if (defined(version) && version !== group1) {\n        throw new DeveloperError(\n          `inconsistent versions found: ${version} and ${group1}`,\n        );\n      }\n      //>>includeEnd('debug');\n\n      // Extract #version to put at the top\n      version = group1;\n\n      // Replace original #version directive with a new line so the line numbers\n      // are not off by one.  There can be only one #version directive\n      // and it must appear at the top of the source, only preceded by\n      // whitespace and comments.\n      return \"\\n\";\n    },\n  );\n\n  // Extract shader extensions from sources\n  const extensions = [];\n  combinedSources = combinedSources.replace(\n    /#extension.*\\n/gm,\n    function (match) {\n      // Extract extension to put at the top\n      extensions.push(match);\n\n      // Replace original #extension directive with a new line so the line numbers\n      // are not off by one.\n      return \"\\n\";\n    },\n  );\n\n  // Remove precision qualifier\n  combinedSources = combinedSources.replace(\n    /precision\\s(lowp|mediump|highp)\\s(float|int);/,\n    \"\",\n  );\n\n  // Replace main() for picked if desired.\n  const pickColorQualifier = shaderSource.pickColorQualifier;\n  if (defined(pickColorQualifier)) {\n    combinedSources = ShaderSource.createPickFragmentShaderSource(\n      combinedSources,\n      pickColorQualifier,\n    );\n  }\n\n  // combine into single string\n  let result = \"\";\n\n  const extensionsLength = extensions.length;\n  for (i = 0; i < extensionsLength; i++) {\n    result += extensions[i];\n  }\n\n  if (isFragmentShader) {\n    // If high precision isn't support replace occurrences of highp with mediump\n    // The highp keyword is not always available on older mobile devices\n    // See https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#In_WebGL_1_highp_float_support_is_optional_in_fragment_shaders\n    result +=\n      \"\\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\n\\\n    precision highp float;\\n\\\n    precision highp int;\\n\\\n#else\\n\\\n    precision mediump float;\\n\\\n    precision mediump int;\\n\\\n    #define highp mediump\\n\\\n#endif\\n\\n\";\n  }\n\n  // Prepend #defines for uber-shaders\n  const defines = shaderSource.defines;\n  if (defined(defines)) {\n    for (i = 0, length = defines.length; i < length; ++i) {\n      const define = defines[i];\n      if (define.length !== 0) {\n        result += `#define ${define}\\n`;\n      }\n    }\n  }\n\n  // Define a constant for the OES_texture_float_linear extension since WebGL does not.\n  if (context.textureFloatLinear) {\n    result += \"#define OES_texture_float_linear\\n\\n\";\n  }\n\n  // Define a constant for the OES_texture_float extension since WebGL does not.\n  if (context.floatingPointTexture) {\n    result += \"#define OES_texture_float\\n\\n\";\n  }\n\n  // append built-ins\n  let builtinSources = \"\";\n  if (shaderSource.includeBuiltIns) {\n    builtinSources = getBuiltinsAndAutomaticUniforms(combinedSources);\n  }\n\n  // reset line number\n  result += \"\\n#line 0\\n\";\n\n  // append actual source\n  const combinedShader = builtinSources + combinedSources;\n  if (\n    context.webgl2 &&\n    isFragmentShader &&\n    !/layout\\s*\\(location\\s*=\\s*0\\)\\s*out\\s+vec4\\s+out_FragColor;/g.test(\n      combinedShader,\n    ) &&\n    !/czm_out_FragColor/g.test(combinedShader) &&\n    /out_FragColor/g.test(combinedShader)\n  ) {\n    result += \"layout(location = 0) out vec4 out_FragColor;\\n\\n\";\n  }\n\n  result += builtinSources;\n  result += combinedSources;\n\n  // modernize the source\n  if (!context.webgl2) {\n    result = demodernizeShader(result, isFragmentShader);\n  } else {\n    result = `#version 300 es\\n${result}`;\n  }\n\n  return result;\n}\n\n/**\n * An object containing various inputs that will be combined to form a final GLSL shader string.\n *\n * @param {object} [options] Object with the following properties:\n * @param {string[]} [options.sources] An array of strings to combine containing GLSL code for the shader.\n * @param {string[]} [options.defines] An array of strings containing GLSL identifiers to <code>#define</code>.\n * @param {string} [options.pickColorQualifier] The GLSL qualifier, <code>uniform</code> or <code>in</code>, for the input <code>czm_pickColor</code>.  When defined, a pick fragment shader is generated.\n * @param {boolean} [options.includeBuiltIns=true] If true, referenced built-in functions will be included with the combined shader.  Set to false if this shader will become a source in another shader, to avoid duplicating functions.\n *\n * @exception {DeveloperError} options.pickColorQualifier must be 'uniform' or 'in'.\n *\n * @example\n * // 1. Prepend #defines to a shader\n * const source = new Cesium.ShaderSource({\n *   defines : ['WHITE'],\n *   sources : ['void main() { \\n#ifdef WHITE\\n out_FragColor = vec4(1.0); \\n#else\\n out_FragColor = vec4(0.0); \\n#endif\\n }']\n * });\n *\n * // 2. Modify a fragment shader for picking\n * const source2 = new Cesium.ShaderSource({\n *   sources : ['void main() { out_FragColor = vec4(1.0); }'],\n *   pickColorQualifier : 'uniform'\n * });\n *\n * @private\n */\nfunction ShaderSource(options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n  const pickColorQualifier = options.pickColorQualifier;\n\n  //>>includeStart('debug', pragmas.debug);\n  if (\n    defined(pickColorQualifier) &&\n    pickColorQualifier !== \"uniform\" &&\n    pickColorQualifier !== \"in\"\n  ) {\n    throw new DeveloperError(\n      \"options.pickColorQualifier must be 'uniform' or 'in'.\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  this.defines = defined(options.defines) ? options.defines.slice(0) : [];\n  this.sources = defined(options.sources) ? options.sources.slice(0) : [];\n  this.pickColorQualifier = pickColorQualifier;\n  this.includeBuiltIns = options.includeBuiltIns ?? true;\n}\n\nShaderSource.prototype.clone = function () {\n  return new ShaderSource({\n    sources: this.sources,\n    defines: this.defines,\n    pickColorQualifier: this.pickColorQualifier,\n    includeBuiltIns: this.includeBuiltIns,\n  });\n};\n\nShaderSource.replaceMain = function (source, renamedMain) {\n  renamedMain = `void ${renamedMain}()`;\n  return source.replace(/void\\s+main\\s*\\(\\s*(?:void)?\\s*\\)/g, renamedMain);\n};\n\n/**\n * Since {@link ShaderSource#createCombinedVertexShader} and\n * {@link ShaderSource#createCombinedFragmentShader} are both expensive to\n * compute, create a simpler string key for lookups in the {@link ShaderCache}.\n *\n * @returns {string} A key for identifying this shader\n *\n * @private\n */\nShaderSource.prototype.getCacheKey = function () {\n  // Sort defines to make the key comparison deterministic\n  const sortedDefines = this.defines.slice().sort();\n  const definesKey = sortedDefines.join(\",\");\n  const pickKey = this.pickColorQualifier;\n  const builtinsKey = this.includeBuiltIns;\n  const sourcesKey = this.sources.join(\"\\n\");\n\n  return `${definesKey}:${pickKey}:${builtinsKey}:${sourcesKey}`;\n};\n\n/**\n * Create a single string containing the full, combined vertex shader with all dependencies and defines.\n *\n * @param {Context} context The current rendering context\n *\n * @returns {string} The combined shader string.\n */\nShaderSource.prototype.createCombinedVertexShader = function (context) {\n  return combineShader(this, false, context);\n};\n\n/**\n * Create a single string containing the full, combined fragment shader with all dependencies and defines.\n *\n * @param {Context} context The current rendering context\n *\n * @returns {string} The combined shader string.\n */\nShaderSource.prototype.createCombinedFragmentShader = function (context) {\n  return combineShader(this, true, context);\n};\n\n/**\n * For ShaderProgram testing\n * @private\n */\nShaderSource._czmBuiltinsAndUniforms = {};\n\n// combine automatic uniforms and Cesium built-ins\nfor (const builtinName in CzmBuiltins) {\n  if (CzmBuiltins.hasOwnProperty(builtinName)) {\n    ShaderSource._czmBuiltinsAndUniforms[builtinName] =\n      CzmBuiltins[builtinName];\n  }\n}\nfor (const uniformName in AutomaticUniforms) {\n  if (AutomaticUniforms.hasOwnProperty(uniformName)) {\n    const uniform = AutomaticUniforms[uniformName];\n    if (typeof uniform.getDeclaration === \"function\") {\n      ShaderSource._czmBuiltinsAndUniforms[uniformName] =\n        uniform.getDeclaration(uniformName);\n    }\n  }\n}\n\nShaderSource.createPickVertexShaderSource = function (vertexShaderSource) {\n  const renamedVS = ShaderSource.replaceMain(\n    vertexShaderSource,\n    \"czm_old_main\",\n  );\n  const pickMain =\n    \"in vec4 pickColor; \\n\" +\n    \"out vec4 czm_pickColor; \\n\" +\n    \"void main() \\n\" +\n    \"{ \\n\" +\n    \"    czm_old_main(); \\n\" +\n    \"    czm_pickColor = pickColor; \\n\" +\n    \"}\";\n\n  return `${renamedVS}\\n${pickMain}`;\n};\n\nShaderSource.createPickFragmentShaderSource = function (\n  fragmentShaderSource,\n  pickColorQualifier,\n) {\n  const renamedFS = ShaderSource.replaceMain(\n    fragmentShaderSource,\n    \"czm_old_main\",\n  );\n  const pickMain =\n    `${pickColorQualifier} vec4 czm_pickColor; \\n` +\n    `void main() \\n` +\n    `{ \\n` +\n    `    czm_old_main(); \\n` +\n    `    if (out_FragColor.a == 0.0) { \\n` +\n    `       discard; \\n` +\n    `    } \\n` +\n    `    out_FragColor = czm_pickColor; \\n` +\n    `}`;\n\n  return `${renamedFS}\\n${pickMain}`;\n};\n\nfunction containsDefine(shaderSource, define) {\n  const defines = shaderSource.defines;\n  const definesLength = defines.length;\n  for (let i = 0; i < definesLength; ++i) {\n    if (defines[i] === define) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction containsString(shaderSource, string) {\n  const sources = shaderSource.sources;\n  const sourcesLength = sources.length;\n  for (let i = 0; i < sourcesLength; ++i) {\n    if (sources[i].indexOf(string) !== -1) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction findFirstString(shaderSource, strings) {\n  const stringsLength = strings.length;\n  for (let i = 0; i < stringsLength; ++i) {\n    const string = strings[i];\n    if (containsString(shaderSource, string)) {\n      return string;\n    }\n  }\n  return undefined;\n}\n\nconst normalVaryingNames = [\"v_normalEC\", \"v_normal\"];\n\nShaderSource.findNormalVarying = function (shaderSource) {\n  // Fix for Model: the shader text always has the word v_normalEC\n  // wrapped in an #ifdef so instead of looking for v_normalEC look for the define\n  if (containsString(shaderSource, \"#ifdef HAS_NORMALS\")) {\n    if (containsDefine(shaderSource, \"HAS_NORMALS\")) {\n      return \"v_normalEC\";\n    }\n    return undefined;\n  }\n\n  return findFirstString(shaderSource, normalVaryingNames);\n};\n\nconst positionVaryingNames = [\"v_positionEC\"];\n\nShaderSource.findPositionVarying = function (shaderSource) {\n  return findFirstString(shaderSource, positionVaryingNames);\n};\nexport default ShaderSource;\n"],"names":["removeComments","source","replace","match","numberOfLines","length","replacement","lineNumber","getDependencyNode","name","glslSource","nodes","dependencyNode","i","dependsOn","requiredBy","evaluated","push","generateDependencies","currentNode","dependencyNodes","czmMatches","filter","elem","pos","indexOf","forEach","element","ShaderSource","_czmBuiltinsAndUniforms","hasOwnProperty","referencedNode","sortDependencies","nodesWithoutIncomingEdges","allNodes","node","pop","shift","index","splice","badNodes","j","message","k","getBuiltinsAndAutomaticUniforms","shaderSource","root","builtinsSource","combineShader","isFragmentShader","context","combinedSources","sources","version","group1","extensions","pickColorQualifier","createPickFragmentShaderSource","result","extensionsLength","defines","define","textureFloatLinear","floatingPointTexture","builtinSources","includeBuiltIns","combinedShader","webgl2","test","options","EMPTY_OBJECT","slice","prototype","clone","replaceMain","renamedMain","getCacheKey","sortedDefines","sort","definesKey","join","pickKey","builtinsKey","sourcesKey","createCombinedVertexShader","createCombinedFragmentShader","builtinName","uniformName","uniform","getDeclaration","createPickVertexShaderSource","vertexShaderSource","renamedVS","pickMain","fragmentShaderSource","renamedFS","containsDefine","definesLength","containsString","string","sourcesLength","findFirstString","strings","stringsLength","undefined","normalVaryingNames","findNormalVarying","positionVaryingNames","findPositionVarying"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5093, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/PixelDatatype.js"],"sourcesContent":["import WebGLConstants from \"../Core/WebGLConstants.js\";\n\n/**\n * The data type of a pixel.\n *\n * @enum {number}\n * @see PostProcessStage\n */\nconst PixelDatatype = {\n  UNSIGNED_BYTE: WebGLConstants.UNSIGNED_BYTE,\n  UNSIGNED_SHORT: WebGLConstants.UNSIGNED_SHORT,\n  UNSIGNED_INT: WebGLConstants.UNSIGNED_INT,\n  FLOAT: WebGLConstants.FLOAT,\n  HALF_FLOAT: WebGLConstants.HALF_FLOAT_OES,\n  UNSIGNED_INT_24_8: WebGLConstants.UNSIGNED_INT_24_8,\n  UNSIGNED_SHORT_4_4_4_4: WebGLConstants.UNSIGNED_SHORT_4_4_4_4,\n  UNSIGNED_SHORT_5_5_5_1: WebGLConstants.UNSIGNED_SHORT_5_5_5_1,\n  UNSIGNED_SHORT_5_6_5: WebGLConstants.UNSIGNED_SHORT_5_6_5,\n};\n\n/**\n  @private\n*/\nPixelDatatype.toWebGLConstant = function (pixelDatatype, context) {\n  switch (pixelDatatype) {\n    case PixelDatatype.UNSIGNED_BYTE:\n      return WebGLConstants.UNSIGNED_BYTE;\n    case PixelDatatype.UNSIGNED_SHORT:\n      return WebGLConstants.UNSIGNED_SHORT;\n    case PixelDatatype.UNSIGNED_INT:\n      return WebGLConstants.UNSIGNED_INT;\n    case PixelDatatype.FLOAT:\n      return WebGLConstants.FLOAT;\n    case PixelDatatype.HALF_FLOAT:\n      return context.webgl2\n        ? WebGLConstants.HALF_FLOAT\n        : WebGLConstants.HALF_FLOAT_OES;\n    case PixelDatatype.UNSIGNED_INT_24_8:\n      return WebGLConstants.UNSIGNED_INT_24_8;\n    case PixelDatatype.UNSIGNED_SHORT_4_4_4_4:\n      return WebGLConstants.UNSIGNED_SHORT_4_4_4_4;\n    case PixelDatatype.UNSIGNED_SHORT_5_5_5_1:\n      return WebGLConstants.UNSIGNED_SHORT_5_5_5_1;\n    case PixelDatatype.UNSIGNED_SHORT_5_6_5:\n      return PixelDatatype.UNSIGNED_SHORT_5_6_5;\n  }\n};\n\n/**\n  @private\n*/\nPixelDatatype.isPacked = function (pixelDatatype) {\n  return (\n    pixelDatatype === PixelDatatype.UNSIGNED_INT_24_8 ||\n    pixelDatatype === PixelDatatype.UNSIGNED_SHORT_4_4_4_4 ||\n    pixelDatatype === PixelDatatype.UNSIGNED_SHORT_5_5_5_1 ||\n    pixelDatatype === PixelDatatype.UNSIGNED_SHORT_5_6_5\n  );\n};\n\n/**\n  @private\n*/\nPixelDatatype.sizeInBytes = function (pixelDatatype) {\n  switch (pixelDatatype) {\n    case PixelDatatype.UNSIGNED_BYTE:\n      return 1;\n    case PixelDatatype.UNSIGNED_SHORT:\n    case PixelDatatype.UNSIGNED_SHORT_4_4_4_4:\n    case PixelDatatype.UNSIGNED_SHORT_5_5_5_1:\n    case PixelDatatype.UNSIGNED_SHORT_5_6_5:\n    case PixelDatatype.HALF_FLOAT:\n      return 2;\n    case PixelDatatype.UNSIGNED_INT:\n    case PixelDatatype.FLOAT:\n    case PixelDatatype.UNSIGNED_INT_24_8:\n      return 4;\n  }\n};\n\n/**\n  @private\n*/\nPixelDatatype.validate = function (pixelDatatype) {\n  return (\n    pixelDatatype === PixelDatatype.UNSIGNED_BYTE ||\n    pixelDatatype === PixelDatatype.UNSIGNED_SHORT ||\n    pixelDatatype === PixelDatatype.UNSIGNED_INT ||\n    pixelDatatype === PixelDatatype.FLOAT ||\n    pixelDatatype === PixelDatatype.HALF_FLOAT ||\n    pixelDatatype === PixelDatatype.UNSIGNED_INT_24_8 ||\n    pixelDatatype === PixelDatatype.UNSIGNED_SHORT_4_4_4_4 ||\n    pixelDatatype === PixelDatatype.UNSIGNED_SHORT_5_5_5_1 ||\n    pixelDatatype === PixelDatatype.UNSIGNED_SHORT_5_6_5\n  );\n};\n\n/**\n * Determine which TypedArray class should be used for a given PixelDatatype.\n *\n * @param {PixelDatatype} pixelDatatype The pixel datatype.\n * @returns {function} The constructor for the appropriate TypedArray class.\n *\n * @private\n */\nPixelDatatype.getTypedArrayConstructor = function (pixelDatatype) {\n  const sizeInBytes = PixelDatatype.sizeInBytes(pixelDatatype);\n  if (sizeInBytes === Uint8Array.BYTES_PER_ELEMENT) {\n    return Uint8Array;\n  } else if (sizeInBytes === Uint16Array.BYTES_PER_ELEMENT) {\n    return Uint16Array;\n  } else if (\n    sizeInBytes === Float32Array.BYTES_PER_ELEMENT &&\n    pixelDatatype === PixelDatatype.FLOAT\n  ) {\n    return Float32Array;\n  }\n  return Uint32Array;\n};\n\nexport default Object.freeze(PixelDatatype);\n"],"names":["PixelDatatype","UNSIGNED_BYTE","UNSIGNED_SHORT","UNSIGNED_INT","FLOAT","HALF_FLOAT","HALF_FLOAT_OES","UNSIGNED_INT_24_8","UNSIGNED_SHORT_4_4_4_4","UNSIGNED_SHORT_5_5_5_1","UNSIGNED_SHORT_5_6_5","toWebGLConstant","pixelDatatype","context","webgl2","isPacked","sizeInBytes","validate","getTypedArrayConstructor","Uint8Array","BYTES_PER_ELEMENT","Uint16Array","Float32Array","Uint32Array","Object","freeze"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5190, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/BufferUsage.js"],"sourcesContent":["import WebGLConstants from \"../Core/WebGLConstants.js\";\n\n/**\n * @private\n */\nconst BufferUsage = {\n  STREAM_DRAW: WebGLConstants.STREAM_DRAW,\n  STATIC_DRAW: WebGLConstants.STATIC_DRAW,\n  DYNAMIC_DRAW: WebGLConstants.DYNAMIC_DRAW,\n  DYNAMIC_READ: WebGLConstants.DYNAMIC_READ,\n\n  validate: function (bufferUsage) {\n    return (\n      bufferUsage === BufferUsage.STREAM_DRAW ||\n      bufferUsage === BufferUsage.STATIC_DRAW ||\n      bufferUsage === BufferUsage.DYNAMIC_DRAW ||\n      bufferUsage === BufferUsage.DYNAMIC_READ\n    );\n  },\n};\nexport default Object.freeze(BufferUsage);\n"],"names":["BufferUsage","STREAM_DRAW","STATIC_DRAW","DYNAMIC_DRAW","DYNAMIC_READ","validate","bufferUsage","Object","freeze"],"mappings":";;;;AAAA;;AAEA;;CAEC,GACD,MAAMA,cAAc;IAClBC,aAAa,oLAAc,CAACA,WAAW;IACvCC,aAAa,oLAAc,CAACA,WAAW;IACvCC,cAAc,oLAAc,CAACA,YAAY;IACzCC,cAAc,oLAAc,CAACA,YAAY;IAEzCC,UAAU,SAAUC,WAAW;QAC7B,OACEA,gBAAgBN,YAAYC,WAAW,IACvCK,gBAAgBN,YAAYE,WAAW,IACvCI,gBAAgBN,YAAYG,YAAY,IACxCG,gBAAgBN,YAAYI,YAAY;IAE5C;AACF;uCACeG,OAAOC,MAAM,CAACR","ignoreList":[0]}},
    {"offset": {"line": 5212, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/CubeMapFace.js"],"sourcesContent":["import Check from \"../Core/Check.js\";\nimport defined from \"../Core/defined.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport PixelFormat from \"../Core/PixelFormat.js\";\nimport PixelDatatype from \"./PixelDatatype.js\";\n\n/**\n * @private\n */\nfunction CubeMapFace(\n  context,\n  texture,\n  textureTarget,\n  targetFace,\n  internalFormat,\n  pixelFormat,\n  pixelDatatype,\n  size,\n  preMultiplyAlpha,\n  flipY,\n  initialized,\n) {\n  this._context = context;\n  this._texture = texture;\n  this._textureTarget = textureTarget;\n  this._targetFace = targetFace;\n  this._pixelDatatype = pixelDatatype;\n  this._internalFormat = internalFormat;\n  this._pixelFormat = pixelFormat;\n  this._size = size;\n  this._preMultiplyAlpha = preMultiplyAlpha;\n  this._flipY = flipY;\n  this._initialized = initialized;\n}\n\nObject.defineProperties(CubeMapFace.prototype, {\n  pixelFormat: {\n    get: function () {\n      return this._pixelFormat;\n    },\n  },\n  pixelDatatype: {\n    get: function () {\n      return this._pixelDatatype;\n    },\n  },\n  _target: {\n    get: function () {\n      return this._targetFace;\n    },\n  },\n});\n\n/**\n * Copies texels from the source to the cubemap's face.\n * @param {object} options Object with the following properties:\n * @param {object} options.source The source {@link ImageData}, {@link HTMLImageElement}, {@link HTMLCanvasElement}, {@link HTMLVideoElement},\n *                              or an object with a width, height, and arrayBufferView properties.\n * @param {number} [options.xOffset=0] An offset in the x direction in the cubemap where copying begins.\n * @param {number} [options.yOffset=0] An offset in the y direction in the cubemap where copying begins.\n * @param {boolean} [options.skipColorSpaceConversion=false] If true, any custom gamma or color profiles in the texture will be ignored.\n * @exception {DeveloperError} xOffset must be greater than or equal to zero.\n * @exception {DeveloperError} yOffset must be greater than or equal to zero.\n * @exception {DeveloperError} xOffset + source.width must be less than or equal to width.\n * @exception {DeveloperError} yOffset + source.height must be less than or equal to height.\n * @exception {DeveloperError} This CubeMap was destroyed, i.e., destroy() was called.\n *\n * @example\n * // Create a cubemap with 1x1 faces, and make the +x face red.\n * const cubeMap = new CubeMap({\n *   context : context\n *   width : 1,\n *   height : 1\n * });\n * cubeMap.positiveX.copyFrom({\n *   source: {\n *     width : 1,\n *     height : 1,\n *     arrayBufferView : new Uint8Array([255, 0, 0, 255])\n *   }\n * });\n */\nCubeMapFace.prototype.copyFrom = function (options) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options\", options);\n  //>>includeEnd('debug');\n\n  const {\n    xOffset = 0,\n    yOffset = 0,\n    source,\n    skipColorSpaceConversion = false,\n  } = options;\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options.source\", source);\n  Check.typeOf.number.greaterThanOrEquals(\"xOffset\", xOffset, 0);\n  Check.typeOf.number.greaterThanOrEquals(\"yOffset\", yOffset, 0);\n  if (xOffset + source.width > this._size) {\n    throw new DeveloperError(\n      \"xOffset + options.source.width must be less than or equal to width.\",\n    );\n  }\n  if (yOffset + source.height > this._size) {\n    throw new DeveloperError(\n      \"yOffset + options.source.height must be less than or equal to height.\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  const { width, height } = source;\n\n  const gl = this._context._gl;\n  const target = this._textureTarget;\n  const targetFace = this._targetFace;\n\n  gl.activeTexture(gl.TEXTURE0);\n  gl.bindTexture(target, this._texture);\n\n  let arrayBufferView = source.arrayBufferView;\n\n  const size = this._size;\n  const pixelFormat = this._pixelFormat;\n  const internalFormat = this._internalFormat;\n  const pixelDatatype = this._pixelDatatype;\n\n  const preMultiplyAlpha = this._preMultiplyAlpha;\n  const flipY = this._flipY;\n\n  let unpackAlignment = 4;\n  if (defined(arrayBufferView)) {\n    unpackAlignment = PixelFormat.alignmentInBytes(\n      pixelFormat,\n      pixelDatatype,\n      width,\n    );\n  }\n  gl.pixelStorei(gl.UNPACK_ALIGNMENT, unpackAlignment);\n\n  if (skipColorSpaceConversion) {\n    gl.pixelStorei(gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, gl.NONE);\n  } else {\n    gl.pixelStorei(\n      gl.UNPACK_COLORSPACE_CONVERSION_WEBGL,\n      gl.BROWSER_DEFAULT_WEBGL,\n    );\n  }\n\n  let uploaded = false;\n  if (!this._initialized) {\n    let pixels;\n    if (xOffset === 0 && yOffset === 0 && width === size && height === size) {\n      // initialize the entire texture\n      if (defined(arrayBufferView)) {\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n        if (flipY) {\n          arrayBufferView = PixelFormat.flipY(\n            arrayBufferView,\n            pixelFormat,\n            pixelDatatype,\n            size,\n            size,\n          );\n        }\n        pixels = arrayBufferView;\n      } else {\n        // Only valid for DOM-Element uploads\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, preMultiplyAlpha);\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flipY);\n        pixels = source;\n      }\n      uploaded = true;\n    } else {\n      // initialize the entire texture to zero\n      gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n      pixels = PixelFormat.createTypedArray(\n        pixelFormat,\n        pixelDatatype,\n        size,\n        size,\n      );\n    }\n    gl.texImage2D(\n      targetFace,\n      0,\n      internalFormat,\n      size,\n      size,\n      0,\n      pixelFormat,\n      PixelDatatype.toWebGLConstant(pixelDatatype, this._context),\n      pixels,\n    );\n    this._initialized = true;\n  }\n\n  if (!uploaded) {\n    if (defined(arrayBufferView)) {\n      gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n\n      if (flipY) {\n        arrayBufferView = PixelFormat.flipY(\n          arrayBufferView,\n          pixelFormat,\n          pixelDatatype,\n          width,\n          height,\n        );\n      }\n      gl.texSubImage2D(\n        targetFace,\n        0,\n        xOffset,\n        yOffset,\n        width,\n        height,\n        pixelFormat,\n        PixelDatatype.toWebGLConstant(pixelDatatype, this._context),\n        arrayBufferView,\n      );\n    } else {\n      // Only valid for DOM-Element uploads\n      gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, preMultiplyAlpha);\n      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flipY);\n\n      // Source: ImageData, HTMLImageElement, HTMLCanvasElement, or HTMLVideoElement\n      gl.texSubImage2D(\n        targetFace,\n        0,\n        xOffset,\n        yOffset,\n        pixelFormat,\n        PixelDatatype.toWebGLConstant(pixelDatatype, this._context),\n        source,\n      );\n    }\n  }\n\n  gl.bindTexture(target, null);\n};\n\n/**\n * Copies texels from the framebuffer to the cubemap's face.\n * @param {number} [xOffset=0] An offset in the x direction in the cubemap where copying begins.\n * @param {number} [yOffset=0] An offset in the y direction in the cubemap where copying begins.\n * @param {number} [framebufferXOffset=0] An offset in the x direction in the framebuffer where copying begins from.\n * @param {number} [framebufferYOffset=0] An offset in the y direction in the framebuffer where copying begins from.\n * @param {number} [width=CubeMap's width] The width of the subimage to copy.\n * @param {number} [height=CubeMap's height] The height of the subimage to copy.\n * @throws {DeveloperError} Cannot call copyFromFramebuffer when the texture pixel data type is FLOAT.\n * @throws {DeveloperError} Cannot call copyFromFramebuffer when the texture pixel data type is HALF_FLOAT.\n * @throws {DeveloperError} This CubeMap was destroyed, i.e., destroy() was called.\n * @throws {DeveloperError} xOffset must be greater than or equal to zero.\n * @throws {DeveloperError} yOffset must be greater than or equal to zero.\n * @throws {DeveloperError} framebufferXOffset must be greater than or equal to zero.\n * @throws {DeveloperError} framebufferYOffset must be greater than or equal to zero.\n * @throws {DeveloperError} xOffset + source.width must be less than or equal to width.\n * @throws {DeveloperError} yOffset + source.height must be less than or equal to height.\n * @throws {DeveloperError} This CubeMap was destroyed, i.e., destroy() was called.\n * @example\n * // Copy the framebuffer contents to the +x cube map face.\n * cubeMap.positiveX.copyFromFramebuffer();\n */\nCubeMapFace.prototype.copyFromFramebuffer = function (\n  xOffset,\n  yOffset,\n  framebufferXOffset,\n  framebufferYOffset,\n  width,\n  height,\n) {\n  xOffset = xOffset ?? 0;\n  yOffset = yOffset ?? 0;\n  framebufferXOffset = framebufferXOffset ?? 0;\n  framebufferYOffset = framebufferYOffset ?? 0;\n  width = width ?? this._size;\n  height = height ?? this._size;\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.number.greaterThanOrEquals(\"xOffset\", xOffset, 0);\n  Check.typeOf.number.greaterThanOrEquals(\"yOffset\", yOffset, 0);\n  Check.typeOf.number.greaterThanOrEquals(\n    \"framebufferXOffset\",\n    framebufferXOffset,\n    0,\n  );\n  Check.typeOf.number.greaterThanOrEquals(\n    \"framebufferYOffset\",\n    framebufferYOffset,\n    0,\n  );\n  if (xOffset + width > this._size) {\n    throw new DeveloperError(\n      \"xOffset + source.width must be less than or equal to width.\",\n    );\n  }\n  if (yOffset + height > this._size) {\n    throw new DeveloperError(\n      \"yOffset + source.height must be less than or equal to height.\",\n    );\n  }\n  if (this._pixelDatatype === PixelDatatype.FLOAT) {\n    throw new DeveloperError(\n      \"Cannot call copyFromFramebuffer when the texture pixel data type is FLOAT.\",\n    );\n  }\n  if (this._pixelDatatype === PixelDatatype.HALF_FLOAT) {\n    throw new DeveloperError(\n      \"Cannot call copyFromFramebuffer when the texture pixel data type is HALF_FLOAT.\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  const gl = this._context._gl;\n  const target = this._textureTarget;\n\n  gl.activeTexture(gl.TEXTURE0);\n  gl.bindTexture(target, this._texture);\n  gl.copyTexSubImage2D(\n    this._targetFace,\n    0,\n    xOffset,\n    yOffset,\n    framebufferXOffset,\n    framebufferYOffset,\n    width,\n    height,\n  );\n  gl.bindTexture(target, null);\n  this._initialized = true;\n};\n\n/**\n * Copies texels from the framebuffer to the cubemap's face mipmap.\n * @param {number} [xOffset=0] An offset in the x direction in the framebuffer where copying begins from.\n * @param {number} [yOffset=0] An offset in the y direction in the framebuffer where copying begins from.\n * @param {number} [width=CubeMap's width] The width of the subimage to copy.\n * @param {number} [height=CubeMap's height] The height of the subimage to copy.\n * @param {number} [level=0] The level of detail. Level 0 is the base image level and level n is the n-th mipmap reduction level.\n * @throws {DeveloperError} Cannot call copyFromFramebuffer when the texture pixel data type is FLOAT.\n * @throws {DeveloperError} Cannot call copyFromFramebuffer when the texture pixel data type is HALF_FLOAT.\n * @throws {DeveloperError} This CubeMap was destroyed, i.e., destroy() was called.\n * @throws {DeveloperError} xOffset must be greater than or equal to zero.\n * @throws {DeveloperError} yOffset must be greater than or equal to zero.\n * @throws {DeveloperError} framebufferXOffset must be greater than or equal to zero.\n * @throws {DeveloperError} framebufferYOffset must be greater than or equal to zero.\n * @throws {DeveloperError} xOffset + source.width must be less than or equal to width.\n * @throws {DeveloperError} yOffset + source.height must be less than or equal to height.\n * @throws {DeveloperError} This CubeMap was destroyed, i.e., destroy() was called.\n *\n * @example\n * // Copy the framebuffer contents to the +x cube map face.\n * cubeMap.positiveX.copyFromFramebuffer();\n */\nCubeMapFace.prototype.copyMipmapFromFramebuffer = function (\n  xOffset,\n  yOffset,\n  width,\n  height,\n  level,\n) {\n  xOffset = xOffset ?? 0;\n  yOffset = yOffset ?? 0;\n  width = width ?? this._size;\n  height = height ?? this._size;\n  level = level ?? 0;\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.number.greaterThanOrEquals(\"xOffset\", xOffset, 0);\n  Check.typeOf.number.greaterThanOrEquals(\"yOffset\", yOffset, 0);\n\n  if (xOffset + width > this._size) {\n    throw new DeveloperError(\n      \"xOffset + source.width must be less than or equal to width.\",\n    );\n  }\n  if (yOffset + height > this._size) {\n    throw new DeveloperError(\n      \"yOffset + source.height must be less than or equal to height.\",\n    );\n  }\n  if (this._pixelDatatype === PixelDatatype.FLOAT) {\n    throw new DeveloperError(\n      \"Cannot call copyFromFramebuffer when the texture pixel data type is FLOAT.\",\n    );\n  }\n  if (this._pixelDatatype === PixelDatatype.HALF_FLOAT) {\n    throw new DeveloperError(\n      \"Cannot call copyFromFramebuffer when the texture pixel data type is HALF_FLOAT.\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  const gl = this._context._gl;\n  const target = this._textureTarget;\n\n  gl.activeTexture(gl.TEXTURE0);\n  gl.bindTexture(target, this._texture);\n  gl.copyTexImage2D(\n    this._targetFace,\n    level,\n    this._internalFormat,\n    xOffset,\n    yOffset,\n    width,\n    height,\n    0,\n  );\n  gl.bindTexture(target, null);\n  this._initialized = true;\n};\nexport default CubeMapFace;\n"],"names":["CubeMapFace","context","texture","textureTarget","targetFace","internalFormat","pixelFormat","pixelDatatype","size","preMultiplyAlpha","flipY","initialized","_context","_texture","_textureTarget","_targetFace","_pixelDatatype","_internalFormat","_pixelFormat","_size","_preMultiplyAlpha","_flipY","_initialized","Object","defineProperties","prototype","get","_target","copyFrom","options","defined","xOffset","yOffset","source","skipColorSpaceConversion","typeOf","number","greaterThanOrEquals","width","height","gl","_gl","target","activeTexture","TEXTURE0","bindTexture","arrayBufferView","unpackAlignment","alignmentInBytes","pixelStorei","UNPACK_ALIGNMENT","UNPACK_COLORSPACE_CONVERSION_WEBGL","NONE","BROWSER_DEFAULT_WEBGL","uploaded","pixels","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_FLIP_Y_WEBGL","createTypedArray","texImage2D","toWebGLConstant","texSubImage2D","copyFromFramebuffer","framebufferXOffset","framebufferYOffset","FLOAT","HALF_FLOAT","copyTexSubImage2D","copyMipmapFromFramebuffer","level","copyTexImage2D"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5481, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/Framebuffer.js"],"sourcesContent":["import Check from \"../Core/Check.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport PixelFormat from \"../Core/PixelFormat.js\";\nimport ContextLimits from \"./ContextLimits.js\";\nimport PixelDatatype from \"./PixelDatatype.js\";\n\nfunction attachTexture(framebuffer, attachment, texture) {\n  const gl = framebuffer._gl;\n  gl.framebufferTexture2D(\n    gl.FRAMEBUFFER,\n    attachment,\n    texture._target,\n    texture._texture,\n    0,\n  );\n}\n\nfunction attachRenderbuffer(framebuffer, attachment, renderbuffer) {\n  const gl = framebuffer._gl;\n  gl.framebufferRenderbuffer(\n    gl.FRAMEBUFFER,\n    attachment,\n    gl.RENDERBUFFER,\n    renderbuffer._getRenderbuffer(),\n  );\n}\n\n/**\n * Creates a framebuffer with optional initial color, depth, and stencil attachments.\n * Framebuffers are used for render-to-texture effects; they allow us to render to\n * textures in one pass, and read from it in a later pass.\n *\n * @param {object} options Object with the following properties:\n * @param {Context} options.context\n * @param {Texture[]} [options.colorTextures]\n * @param {Renderbuffer[]} [options.colorRenderbuffers]\n * @param {Texture} [options.depthTexture]\n * @param {Renderbuffer} [options.depthRenderbuffer]\n * @param {Renderbuffer} [options.stencilRenderbuffer]\n * @param {Texture} [options.depthStencilTexture]\n * @param {Renderbuffer} [options.depthStencilRenderbuffer]\n * @param {boolean} [options.destroyAttachments=true] When true, the framebuffer owns its attachments so they will be destroyed when {@link Framebuffer#destroy} is called or when a new attachment is assigned to an attachment point.\n *\n * @exception {DeveloperError} Cannot have both color texture and color renderbuffer attachments.\n * @exception {DeveloperError} Cannot have both a depth texture and depth renderbuffer attachment.\n * @exception {DeveloperError} Cannot have both a depth-stencil texture and depth-stencil renderbuffer attachment.\n * @exception {DeveloperError} Cannot have both a depth and depth-stencil renderbuffer.\n * @exception {DeveloperError} Cannot have both a stencil and depth-stencil renderbuffer.\n * @exception {DeveloperError} Cannot have both a depth and stencil renderbuffer.\n * @exception {DeveloperError} The color-texture pixel-format must be a color format.\n * @exception {DeveloperError} The depth-texture pixel-format must be DEPTH_COMPONENT.\n * @exception {DeveloperError} The depth-stencil-texture pixel-format must be DEPTH_STENCIL.\n * @exception {DeveloperError} The number of color attachments exceeds the number supported.\n * @exception {DeveloperError} The color-texture pixel datatype is HALF_FLOAT and the WebGL implementation does not support the EXT_color_buffer_half_float extension.\n * @exception {DeveloperError} The color-texture pixel datatype is FLOAT and the WebGL implementation does not support the EXT_color_buffer_float or WEBGL_color_buffer_float extensions.\n *\n * @example\n * // Create a framebuffer with color and depth texture attachments.\n * const width = context.canvas.clientWidth;\n * const height = context.canvas.clientHeight;\n * const framebuffer = new Framebuffer({\n *   context : context,\n *   colorTextures : [new Texture({\n *     context : context,\n *     width : width,\n *     height : height,\n *     pixelFormat : PixelFormat.RGBA\n *   })],\n *   depthTexture : new Texture({\n *     context : context,\n *     width : width,\n *     height : height,\n *     pixelFormat : PixelFormat.DEPTH_COMPONENT,\n *     pixelDatatype : PixelDatatype.UNSIGNED_SHORT\n *   })\n * });\n *\n * @private\n * @constructor\n */\nfunction Framebuffer(options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  const context = options.context;\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options.context\", context);\n  //>>includeEnd('debug');\n\n  const gl = context._gl;\n  const maximumColorAttachments = ContextLimits.maximumColorAttachments;\n\n  this._gl = gl;\n  this._framebuffer = gl.createFramebuffer();\n\n  this._colorTextures = [];\n  this._colorRenderbuffers = [];\n  this._activeColorAttachments = [];\n\n  this._depthTexture = undefined;\n  this._depthRenderbuffer = undefined;\n  this._stencilRenderbuffer = undefined;\n  this._depthStencilTexture = undefined;\n  this._depthStencilRenderbuffer = undefined;\n\n  /**\n   * When true, the framebuffer owns its attachments so they will be destroyed when\n   * {@link Framebuffer#destroy} is called or when a new attachment is assigned\n   * to an attachment point.\n   *\n   * @type {boolean}\n   * @default true\n   *\n   * @see Framebuffer#destroy\n   */\n  this.destroyAttachments = options.destroyAttachments ?? true;\n\n  // Throw if a texture and renderbuffer are attached to the same point.  This won't\n  // cause a WebGL error (because only one will be attached), but is likely a developer error.\n\n  //>>includeStart('debug', pragmas.debug);\n  if (defined(options.colorTextures) && defined(options.colorRenderbuffers)) {\n    throw new DeveloperError(\n      \"Cannot have both color texture and color renderbuffer attachments.\",\n    );\n  }\n  if (defined(options.depthTexture) && defined(options.depthRenderbuffer)) {\n    throw new DeveloperError(\n      \"Cannot have both a depth texture and depth renderbuffer attachment.\",\n    );\n  }\n  if (\n    defined(options.depthStencilTexture) &&\n    defined(options.depthStencilRenderbuffer)\n  ) {\n    throw new DeveloperError(\n      \"Cannot have both a depth-stencil texture and depth-stencil renderbuffer attachment.\",\n    );\n  }\n\n  // Avoid errors defined in Section 6.5 of the WebGL spec\n  const depthAttachment =\n    defined(options.depthTexture) || defined(options.depthRenderbuffer);\n  const depthStencilAttachment =\n    defined(options.depthStencilTexture) ||\n    defined(options.depthStencilRenderbuffer);\n  if (depthAttachment && depthStencilAttachment) {\n    throw new DeveloperError(\n      \"Cannot have both a depth and depth-stencil attachment.\",\n    );\n  }\n  if (defined(options.stencilRenderbuffer) && depthStencilAttachment) {\n    throw new DeveloperError(\n      \"Cannot have both a stencil and depth-stencil attachment.\",\n    );\n  }\n  if (depthAttachment && defined(options.stencilRenderbuffer)) {\n    throw new DeveloperError(\n      \"Cannot have both a depth and stencil attachment.\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  this._bind();\n\n  if (defined(options.colorTextures)) {\n    const textures = options.colorTextures;\n    const length =\n      (this._colorTextures.length =\n      this._activeColorAttachments.length =\n        textures.length);\n\n    //>>includeStart('debug', pragmas.debug);\n    if (length > maximumColorAttachments) {\n      throw new DeveloperError(\n        \"The number of color attachments exceeds the number supported.\",\n      );\n    }\n    //>>includeEnd('debug');\n\n    for (let i = 0; i < length; ++i) {\n      const texture = textures[i];\n\n      //>>includeStart('debug', pragmas.debug);\n      if (!PixelFormat.isColorFormat(texture.pixelFormat)) {\n        throw new DeveloperError(\n          \"The color-texture pixel-format must be a color format.\",\n        );\n      }\n      if (\n        texture.pixelDatatype === PixelDatatype.FLOAT &&\n        !context.colorBufferFloat\n      ) {\n        throw new DeveloperError(\n          \"The color texture pixel datatype is FLOAT and the WebGL implementation does not support the EXT_color_buffer_float or WEBGL_color_buffer_float extensions. See Context.colorBufferFloat.\",\n        );\n      }\n      if (\n        texture.pixelDatatype === PixelDatatype.HALF_FLOAT &&\n        !context.colorBufferHalfFloat\n      ) {\n        throw new DeveloperError(\n          \"The color texture pixel datatype is HALF_FLOAT and the WebGL implementation does not support the EXT_color_buffer_half_float extension. See Context.colorBufferHalfFloat.\",\n        );\n      }\n      //>>includeEnd('debug');\n\n      const attachmentEnum = this._gl.COLOR_ATTACHMENT0 + i;\n      attachTexture(this, attachmentEnum, texture);\n      this._activeColorAttachments[i] = attachmentEnum;\n      this._colorTextures[i] = texture;\n    }\n  }\n\n  if (defined(options.colorRenderbuffers)) {\n    const renderbuffers = options.colorRenderbuffers;\n    const length =\n      (this._colorRenderbuffers.length =\n      this._activeColorAttachments.length =\n        renderbuffers.length);\n\n    //>>includeStart('debug', pragmas.debug);\n    if (length > maximumColorAttachments) {\n      throw new DeveloperError(\n        \"The number of color attachments exceeds the number supported.\",\n      );\n    }\n    //>>includeEnd('debug');\n\n    for (let i = 0; i < length; ++i) {\n      const renderbuffer = renderbuffers[i];\n      const attachmentEnum = this._gl.COLOR_ATTACHMENT0 + i;\n      attachRenderbuffer(this, attachmentEnum, renderbuffer);\n      this._activeColorAttachments[i] = attachmentEnum;\n      this._colorRenderbuffers[i] = renderbuffer;\n    }\n  }\n\n  if (defined(options.depthTexture)) {\n    const texture = options.depthTexture;\n\n    //>>includeStart('debug', pragmas.debug);\n    if (texture.pixelFormat !== PixelFormat.DEPTH_COMPONENT) {\n      throw new DeveloperError(\n        \"The depth-texture pixel-format must be DEPTH_COMPONENT.\",\n      );\n    }\n    //>>includeEnd('debug');\n\n    attachTexture(this, this._gl.DEPTH_ATTACHMENT, texture);\n    this._depthTexture = texture;\n  }\n\n  if (defined(options.depthRenderbuffer)) {\n    const renderbuffer = options.depthRenderbuffer;\n    attachRenderbuffer(this, this._gl.DEPTH_ATTACHMENT, renderbuffer);\n    this._depthRenderbuffer = renderbuffer;\n  }\n\n  if (defined(options.stencilRenderbuffer)) {\n    const renderbuffer = options.stencilRenderbuffer;\n    attachRenderbuffer(this, this._gl.STENCIL_ATTACHMENT, renderbuffer);\n    this._stencilRenderbuffer = renderbuffer;\n  }\n\n  if (defined(options.depthStencilTexture)) {\n    const texture = options.depthStencilTexture;\n\n    //>>includeStart('debug', pragmas.debug);\n    if (texture.pixelFormat !== PixelFormat.DEPTH_STENCIL) {\n      throw new DeveloperError(\n        \"The depth-stencil pixel-format must be DEPTH_STENCIL.\",\n      );\n    }\n    //>>includeEnd('debug');\n\n    attachTexture(this, this._gl.DEPTH_STENCIL_ATTACHMENT, texture);\n    this._depthStencilTexture = texture;\n  }\n\n  if (defined(options.depthStencilRenderbuffer)) {\n    const renderbuffer = options.depthStencilRenderbuffer;\n    attachRenderbuffer(this, this._gl.DEPTH_STENCIL_ATTACHMENT, renderbuffer);\n    this._depthStencilRenderbuffer = renderbuffer;\n  }\n\n  this._unBind();\n}\n\nObject.defineProperties(Framebuffer.prototype, {\n  /**\n   * The status of the framebuffer. If the status is not WebGLConstants.FRAMEBUFFER_COMPLETE,\n   * a {@link DeveloperError} will be thrown when attempting to render to the framebuffer.\n   * @memberof Framebuffer.prototype\n   * @type {number}\n   */\n  status: {\n    get: function () {\n      this._bind();\n      const status = this._gl.checkFramebufferStatus(this._gl.FRAMEBUFFER);\n      this._unBind();\n      return status;\n    },\n  },\n  numberOfColorAttachments: {\n    get: function () {\n      return this._activeColorAttachments.length;\n    },\n  },\n  depthTexture: {\n    get: function () {\n      return this._depthTexture;\n    },\n  },\n  depthRenderbuffer: {\n    get: function () {\n      return this._depthRenderbuffer;\n    },\n  },\n  stencilRenderbuffer: {\n    get: function () {\n      return this._stencilRenderbuffer;\n    },\n  },\n  depthStencilTexture: {\n    get: function () {\n      return this._depthStencilTexture;\n    },\n  },\n  depthStencilRenderbuffer: {\n    get: function () {\n      return this._depthStencilRenderbuffer;\n    },\n  },\n\n  /**\n   * True if the framebuffer has a depth attachment.  Depth attachments include\n   * depth and depth-stencil textures, and depth and depth-stencil renderbuffers.  When\n   * rendering to a framebuffer, a depth attachment is required for the depth test to have effect.\n   * @memberof Framebuffer.prototype\n   * @type {boolean}\n   */\n  hasDepthAttachment: {\n    get: function () {\n      return !!(\n        this.depthTexture ||\n        this.depthRenderbuffer ||\n        this.depthStencilTexture ||\n        this.depthStencilRenderbuffer\n      );\n    },\n  },\n});\n\nFramebuffer.prototype._bind = function () {\n  const gl = this._gl;\n  gl.bindFramebuffer(gl.FRAMEBUFFER, this._framebuffer);\n};\n\nFramebuffer.prototype._unBind = function () {\n  const gl = this._gl;\n  gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n};\n\nFramebuffer.prototype.bindDraw = function () {\n  const gl = this._gl;\n  gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, this._framebuffer);\n};\n\nFramebuffer.prototype.bindRead = function () {\n  const gl = this._gl;\n  gl.bindFramebuffer(gl.READ_FRAMEBUFFER, this._framebuffer);\n};\n\nFramebuffer.prototype._getActiveColorAttachments = function () {\n  return this._activeColorAttachments;\n};\n\nFramebuffer.prototype.getColorTexture = function (index) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(index) || index < 0 || index >= this._colorTextures.length) {\n    throw new DeveloperError(\n      \"index is required, must be greater than or equal to zero and must be less than the number of color attachments.\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  return this._colorTextures[index];\n};\n\nFramebuffer.prototype.getColorRenderbuffer = function (index) {\n  //>>includeStart('debug', pragmas.debug);\n  if (\n    !defined(index) ||\n    index < 0 ||\n    index >= this._colorRenderbuffers.length\n  ) {\n    throw new DeveloperError(\n      \"index is required, must be greater than or equal to zero and must be less than the number of color attachments.\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  return this._colorRenderbuffers[index];\n};\n\nFramebuffer.prototype.isDestroyed = function () {\n  return false;\n};\n\nFramebuffer.prototype.destroy = function () {\n  if (this.destroyAttachments) {\n    // If the color texture is a cube map face, it is owned by the cube map, and will not be destroyed.\n    const textures = this._colorTextures;\n    for (let i = 0; i < textures.length; ++i) {\n      const texture = textures[i];\n      if (defined(texture)) {\n        texture.destroy();\n      }\n    }\n\n    const renderbuffers = this._colorRenderbuffers;\n    for (let i = 0; i < renderbuffers.length; ++i) {\n      const renderbuffer = renderbuffers[i];\n      if (defined(renderbuffer)) {\n        renderbuffer.destroy();\n      }\n    }\n\n    this._depthTexture = this._depthTexture && this._depthTexture.destroy();\n    this._depthRenderbuffer =\n      this._depthRenderbuffer && this._depthRenderbuffer.destroy();\n    this._stencilRenderbuffer =\n      this._stencilRenderbuffer && this._stencilRenderbuffer.destroy();\n    this._depthStencilTexture =\n      this._depthStencilTexture && this._depthStencilTexture.destroy();\n    this._depthStencilRenderbuffer =\n      this._depthStencilRenderbuffer &&\n      this._depthStencilRenderbuffer.destroy();\n  }\n\n  this._gl.deleteFramebuffer(this._framebuffer);\n  return destroyObject(this);\n};\nexport default Framebuffer;\n"],"names":["attachTexture","framebuffer","attachment","texture","gl","_gl","framebufferTexture2D","FRAMEBUFFER","_target","_texture","attachRenderbuffer","renderbuffer","framebufferRenderbuffer","RENDERBUFFER","_getRenderbuffer","Framebuffer","options","EMPTY_OBJECT","context","defined","maximumColorAttachments","_framebuffer","createFramebuffer","_colorTextures","_colorRenderbuffers","_activeColorAttachments","_depthTexture","undefined","_depthRenderbuffer","_stencilRenderbuffer","_depthStencilTexture","_depthStencilRenderbuffer","destroyAttachments","colorTextures","colorRenderbuffers","depthTexture","depthRenderbuffer","depthStencilTexture","depthStencilRenderbuffer","depthAttachment","depthStencilAttachment","stencilRenderbuffer","_bind","textures","length","i","isColorFormat","pixelFormat","pixelDatatype","FLOAT","colorBufferFloat","HALF_FLOAT","colorBufferHalfFloat","attachmentEnum","COLOR_ATTACHMENT0","renderbuffers","DEPTH_COMPONENT","DEPTH_ATTACHMENT","STENCIL_ATTACHMENT","DEPTH_STENCIL","DEPTH_STENCIL_ATTACHMENT","_unBind","Object","defineProperties","prototype","status","get","checkFramebufferStatus","numberOfColorAttachments","hasDepthAttachment","bindFramebuffer","bindDraw","DRAW_FRAMEBUFFER","bindRead","READ_FRAMEBUFFER","_getActiveColorAttachments","getColorTexture","index","getColorRenderbuffer","isDestroyed","destroy","deleteFramebuffer"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5820, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/MipmapHint.js"],"sourcesContent":["import WebGLConstants from \"../Core/WebGLConstants.js\";\n\n/**\n * @private\n */\nconst MipmapHint = {\n  DONT_CARE: WebGLConstants.DONT_CARE,\n  FASTEST: WebGLConstants.FASTEST,\n  NICEST: WebGLConstants.NICEST,\n\n  validate: function (mipmapHint) {\n    return (\n      mipmapHint === MipmapHint.DONT_CARE ||\n      mipmapHint === MipmapHint.FASTEST ||\n      mipmapHint === MipmapHint.NICEST\n    );\n  },\n};\nexport default Object.freeze(MipmapHint);\n"],"names":["MipmapHint","DONT_CARE","FASTEST","NICEST","validate","mipmapHint","Object","freeze"],"mappings":";;;;AAAA;;AAEA;;CAEC,GACD,MAAMA,aAAa;IACjBC,WAAW,oLAAc,CAACA,SAAS;IACnCC,SAAS,oLAAc,CAACA,OAAO;IAC/BC,QAAQ,oLAAc,CAACA,MAAM;IAE7BC,UAAU,SAAUC,UAAU;QAC5B,OACEA,eAAeL,WAAWC,SAAS,IACnCI,eAAeL,WAAWE,OAAO,IACjCG,eAAeL,WAAWG,MAAM;IAEpC;AACF;uCACeG,OAAOC,MAAM,CAACP","ignoreList":[0]}},
    {"offset": {"line": 5841, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/TextureMagnificationFilter.js"],"sourcesContent":["import WebGLConstants from \"../Core/WebGLConstants.js\";\n\n/**\n * Enumerates all possible filters used when magnifying WebGL textures.\n *\n * @enum {number}\n *\n * @see TextureMinificationFilter\n */\nconst TextureMagnificationFilter = {\n  /**\n   * Samples the texture by returning the closest pixel.\n   *\n   * @type {number}\n   * @constant\n   */\n  NEAREST: WebGLConstants.NEAREST,\n  /**\n   * Samples the texture through bi-linear interpolation of the four nearest pixels. This produces smoother results than <code>NEAREST</code> filtering.\n   *\n   * @type {number}\n   * @constant\n   */\n  LINEAR: WebGLConstants.LINEAR,\n};\n\n/**\n * Validates the given <code>textureMinificationFilter</code> with respect to the possible enum values.\n * @param textureMagnificationFilter\n * @returns {boolean} <code>true</code> if <code>textureMagnificationFilter</code> is valid.\n *\n * @private\n */\nTextureMagnificationFilter.validate = function (textureMagnificationFilter) {\n  return (\n    textureMagnificationFilter === TextureMagnificationFilter.NEAREST ||\n    textureMagnificationFilter === TextureMagnificationFilter.LINEAR\n  );\n};\n\nexport default Object.freeze(TextureMagnificationFilter);\n"],"names":["TextureMagnificationFilter","NEAREST","LINEAR","validate","textureMagnificationFilter","Object","freeze"],"mappings":";;;;AAAA;;AAEA;;;;;;CAMC,GACD,MAAMA,6BAA6B;IACjC;;;;;GAKC,GACDC,SAAS,oLAAc,CAACA,OAAO;IAC/B;;;;;GAKC,GACDC,QAAQ,oLAAc,CAACA,MAAM;AAC/B;AAEA;;;;;;CAMC,GACDF,2BAA2BG,QAAQ,GAAG,SAAUC,0BAA0B;IACxE,OACEA,+BAA+BJ,2BAA2BC,OAAO,IACjEG,+BAA+BJ,2BAA2BE,MAAM;AAEpE;uCAEeG,OAAOC,MAAM,CAACN","ignoreList":[0]}},
    {"offset": {"line": 5881, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/TextureMinificationFilter.js"],"sourcesContent":["import WebGLConstants from \"../Core/WebGLConstants.js\";\n\n/**\n * Enumerates all possible filters used when minifying WebGL textures.\n *\n * @enum {number}\n *\n * @see TextureMagnificationFilter\n */\nconst TextureMinificationFilter = {\n  /**\n   * Samples the texture by returning the closest pixel.\n   *\n   * @type {number}\n   * @constant\n   */\n  NEAREST: WebGLConstants.NEAREST,\n  /**\n   * Samples the texture through bi-linear interpolation of the four nearest pixels. This produces smoother results than <code>NEAREST</code> filtering.\n   *\n   * @type {number}\n   * @constant\n   */\n  LINEAR: WebGLConstants.LINEAR,\n  /**\n   * Selects the nearest mip level and applies nearest sampling within that level.\n   * <p>\n   * Requires that the texture has a mipmap. The mip level is chosen by the view angle and screen-space size of the texture.\n   * </p>\n   *\n   * @type {number}\n   * @constant\n   */\n  NEAREST_MIPMAP_NEAREST: WebGLConstants.NEAREST_MIPMAP_NEAREST,\n  /**\n   * Selects the nearest mip level and applies linear sampling within that level.\n   * <p>\n   * Requires that the texture has a mipmap. The mip level is chosen by the view angle and screen-space size of the texture.\n   * </p>\n   *\n   * @type {number}\n   * @constant\n   */\n  LINEAR_MIPMAP_NEAREST: WebGLConstants.LINEAR_MIPMAP_NEAREST,\n  /**\n   * Read texture values with nearest sampling from two adjacent mip levels and linearly interpolate the results.\n   * <p>\n   * This option provides a good balance of visual quality and speed when sampling from a mipmapped texture.\n   * </p>\n   * <p>\n   * Requires that the texture has a mipmap. The mip level is chosen by the view angle and screen-space size of the texture.\n   * </p>\n   *\n   * @type {number}\n   * @constant\n   */\n  NEAREST_MIPMAP_LINEAR: WebGLConstants.NEAREST_MIPMAP_LINEAR,\n  /**\n   * Read texture values with linear sampling from two adjacent mip levels and linearly interpolate the results.\n   * <p>\n   * This option provides a good balance of visual quality and speed when sampling from a mipmapped texture.\n   * </p>\n   * <p>\n   * Requires that the texture has a mipmap. The mip level is chosen by the view angle and screen-space size of the texture.\n   * </p>\n   * @type {number}\n   * @constant\n   */\n  LINEAR_MIPMAP_LINEAR: WebGLConstants.LINEAR_MIPMAP_LINEAR,\n};\n\n/**\n * Validates the given <code>textureMinificationFilter</code> with respect to the possible enum values.\n *\n * @private\n *\n * @param textureMinificationFilter\n * @returns {boolean} <code>true</code> if <code>textureMinificationFilter</code> is valid.\n */\nTextureMinificationFilter.validate = function (textureMinificationFilter) {\n  return (\n    textureMinificationFilter === TextureMinificationFilter.NEAREST ||\n    textureMinificationFilter === TextureMinificationFilter.LINEAR ||\n    textureMinificationFilter ===\n      TextureMinificationFilter.NEAREST_MIPMAP_NEAREST ||\n    textureMinificationFilter ===\n      TextureMinificationFilter.LINEAR_MIPMAP_NEAREST ||\n    textureMinificationFilter ===\n      TextureMinificationFilter.NEAREST_MIPMAP_LINEAR ||\n    textureMinificationFilter === TextureMinificationFilter.LINEAR_MIPMAP_LINEAR\n  );\n};\n\nexport default Object.freeze(TextureMinificationFilter);\n"],"names":["TextureMinificationFilter","NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR","validate","textureMinificationFilter","Object","freeze"],"mappings":";;;;AAAA;;AAEA;;;;;;CAMC,GACD,MAAMA,4BAA4B;IAChC;;;;;GAKC,GACDC,SAAS,oLAAc,CAACA,OAAO;IAC/B;;;;;GAKC,GACDC,QAAQ,oLAAc,CAACA,MAAM;IAC7B;;;;;;;;GAQC,GACDC,wBAAwB,oLAAc,CAACA,sBAAsB;IAC7D;;;;;;;;GAQC,GACDC,uBAAuB,oLAAc,CAACA,qBAAqB;IAC3D;;;;;;;;;;;GAWC,GACDC,uBAAuB,oLAAc,CAACA,qBAAqB;IAC3D;;;;;;;;;;GAUC,GACDC,sBAAsB,oLAAc,CAACA,oBAAoB;AAC3D;AAEA;;;;;;;CAOC,GACDN,0BAA0BO,QAAQ,GAAG,SAAUC,yBAAyB;IACtE,OACEA,8BAA8BR,0BAA0BC,OAAO,IAC/DO,8BAA8BR,0BAA0BE,MAAM,IAC9DM,8BACER,0BAA0BG,sBAAsB,IAClDK,8BACER,0BAA0BI,qBAAqB,IACjDI,8BACER,0BAA0BK,qBAAqB,IACjDG,8BAA8BR,0BAA0BM,oBAAoB;AAEhF;uCAEeG,OAAOC,MAAM,CAACV","ignoreList":[0]}},
    {"offset": {"line": 5963, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/TextureWrap.js"],"sourcesContent":["import WebGLConstants from \"../Core/WebGLConstants.js\";\n\n/**\n * @private\n */\nconst TextureWrap = {\n  CLAMP_TO_EDGE: WebGLConstants.CLAMP_TO_EDGE,\n  REPEAT: WebGLConstants.REPEAT,\n  MIRRORED_REPEAT: WebGLConstants.MIRRORED_REPEAT,\n\n  validate: function (textureWrap) {\n    return (\n      textureWrap === TextureWrap.CLAMP_TO_EDGE ||\n      textureWrap === TextureWrap.REPEAT ||\n      textureWrap === TextureWrap.MIRRORED_REPEAT\n    );\n  },\n};\nexport default Object.freeze(TextureWrap);\n"],"names":["TextureWrap","CLAMP_TO_EDGE","REPEAT","MIRRORED_REPEAT","validate","textureWrap","Object","freeze"],"mappings":";;;;AAAA;;AAEA;;CAEC,GACD,MAAMA,cAAc;IAClBC,eAAe,oLAAc,CAACA,aAAa;IAC3CC,QAAQ,oLAAc,CAACA,MAAM;IAC7BC,iBAAiB,oLAAc,CAACA,eAAe;IAE/CC,UAAU,SAAUC,WAAW;QAC7B,OACEA,gBAAgBL,YAAYC,aAAa,IACzCI,gBAAgBL,YAAYE,MAAM,IAClCG,gBAAgBL,YAAYG,eAAe;IAE/C;AACF;uCACeG,OAAOC,MAAM,CAACP","ignoreList":[0]}},
    {"offset": {"line": 5984, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/Sampler.js"],"sourcesContent":["import Check from \"../Core/Check.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport TextureMagnificationFilter from \"./TextureMagnificationFilter.js\";\nimport TextureMinificationFilter from \"./TextureMinificationFilter.js\";\nimport TextureWrap from \"./TextureWrap.js\";\n\n/**\n * @private\n */\nfunction Sampler(options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  const {\n    wrapR = TextureWrap.CLAMP_TO_EDGE,\n    wrapS = TextureWrap.CLAMP_TO_EDGE,\n    wrapT = TextureWrap.CLAMP_TO_EDGE,\n    minificationFilter = TextureMinificationFilter.LINEAR,\n    magnificationFilter = TextureMagnificationFilter.LINEAR,\n    maximumAnisotropy = 1.0,\n  } = options;\n\n  //>>includeStart('debug', pragmas.debug);\n  if (!TextureWrap.validate(wrapR)) {\n    throw new DeveloperError(\"Invalid sampler.wrapR.\");\n  }\n\n  if (!TextureWrap.validate(wrapS)) {\n    throw new DeveloperError(\"Invalid sampler.wrapS.\");\n  }\n\n  if (!TextureWrap.validate(wrapT)) {\n    throw new DeveloperError(\"Invalid sampler.wrapT.\");\n  }\n\n  if (!TextureMinificationFilter.validate(minificationFilter)) {\n    throw new DeveloperError(\"Invalid sampler.minificationFilter.\");\n  }\n\n  if (!TextureMagnificationFilter.validate(magnificationFilter)) {\n    throw new DeveloperError(\"Invalid sampler.magnificationFilter.\");\n  }\n\n  Check.typeOf.number.greaterThanOrEquals(\n    \"maximumAnisotropy\",\n    maximumAnisotropy,\n    1.0,\n  );\n  //>>includeEnd('debug');\n\n  this._wrapR = wrapR;\n  this._wrapS = wrapS;\n  this._wrapT = wrapT;\n  this._minificationFilter = minificationFilter;\n  this._magnificationFilter = magnificationFilter;\n  this._maximumAnisotropy = maximumAnisotropy;\n}\n\nObject.defineProperties(Sampler.prototype, {\n  wrapR: {\n    get: function () {\n      return this._wrapR;\n    },\n  },\n  wrapS: {\n    get: function () {\n      return this._wrapS;\n    },\n  },\n  wrapT: {\n    get: function () {\n      return this._wrapT;\n    },\n  },\n  minificationFilter: {\n    get: function () {\n      return this._minificationFilter;\n    },\n  },\n  magnificationFilter: {\n    get: function () {\n      return this._magnificationFilter;\n    },\n  },\n  maximumAnisotropy: {\n    get: function () {\n      return this._maximumAnisotropy;\n    },\n  },\n});\n\nSampler.equals = function (left, right) {\n  return (\n    left === right ||\n    (defined(left) &&\n      defined(right) &&\n      left._wrapR === right._wrapR &&\n      left._wrapS === right._wrapS &&\n      left._wrapT === right._wrapT &&\n      left._minificationFilter === right._minificationFilter &&\n      left._magnificationFilter === right._magnificationFilter &&\n      left._maximumAnisotropy === right._maximumAnisotropy)\n  );\n};\n\nSampler.NEAREST = Object.freeze(\n  new Sampler({\n    wrapR: TextureWrap.CLAMP_TO_EDGE,\n    wrapS: TextureWrap.CLAMP_TO_EDGE,\n    wrapT: TextureWrap.CLAMP_TO_EDGE,\n    minificationFilter: TextureMinificationFilter.NEAREST,\n    magnificationFilter: TextureMagnificationFilter.NEAREST,\n  }),\n);\nexport default Sampler;\n"],"names":["Sampler","options","EMPTY_OBJECT","wrapR","CLAMP_TO_EDGE","wrapS","wrapT","minificationFilter","LINEAR","magnificationFilter","maximumAnisotropy","validate","typeOf","number","greaterThanOrEquals","_wrapR","_wrapS","_wrapT","_minificationFilter","_magnificationFilter","_maximumAnisotropy","Object","defineProperties","prototype","get","equals","left","right","NEAREST","freeze"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAEA;;CAEC,GACD,SAASA,QAAQC,OAAO;IACtBA,UAAUA,WAAW,4KAAM,CAACC,YAAY;IAExC,MAAM,EACJC,QAAQ,qLAAW,CAACC,aAAa,EACjCC,QAAQ,qLAAW,CAACD,aAAa,EACjCE,QAAQ,qLAAW,CAACF,aAAa,EACjCG,qBAAqB,mMAAyB,CAACC,MAAM,EACrDC,sBAAsB,oMAA0B,CAACD,MAAM,EACvDE,oBAAoB,GAAG,EACxB,GAAGT;IAEJ,yCAAyC;IACzC,IAAI,CAAC,qLAAW,CAACU,QAAQ,CAACR,QAAQ;QAChC,MAAM,IAAI,oLAAc,CAAC;IAC3B;IAEA,IAAI,CAAC,qLAAW,CAACQ,QAAQ,CAACN,QAAQ;QAChC,MAAM,IAAI,oLAAc,CAAC;IAC3B;IAEA,IAAI,CAAC,qLAAW,CAACM,QAAQ,CAACL,QAAQ;QAChC,MAAM,IAAI,oLAAc,CAAC;IAC3B;IAEA,IAAI,CAAC,mMAAyB,CAACK,QAAQ,CAACJ,qBAAqB;QAC3D,MAAM,IAAI,oLAAc,CAAC;IAC3B;IAEA,IAAI,CAAC,oMAA0B,CAACI,QAAQ,CAACF,sBAAsB;QAC7D,MAAM,IAAI,oLAAc,CAAC;IAC3B;IAEA,2KAAK,CAACG,MAAM,CAACC,MAAM,CAACC,mBAAmB,CACrC,qBACAJ,mBACA;IAEF,wBAAwB;IAExB,IAAI,CAACK,MAAM,GAAGZ;IACd,IAAI,CAACa,MAAM,GAAGX;IACd,IAAI,CAACY,MAAM,GAAGX;IACd,IAAI,CAACY,mBAAmB,GAAGX;IAC3B,IAAI,CAACY,oBAAoB,GAAGV;IAC5B,IAAI,CAACW,kBAAkB,GAAGV;AAC5B;AAEAW,OAAOC,gBAAgB,CAACtB,QAAQuB,SAAS,EAAE;IACzCpB,OAAO;QACLqB,KAAK;YACH,OAAO,IAAI,CAACT,MAAM;QACpB;IACF;IACAV,OAAO;QACLmB,KAAK;YACH,OAAO,IAAI,CAACR,MAAM;QACpB;IACF;IACAV,OAAO;QACLkB,KAAK;YACH,OAAO,IAAI,CAACP,MAAM;QACpB;IACF;IACAV,oBAAoB;QAClBiB,KAAK;YACH,OAAO,IAAI,CAACN,mBAAmB;QACjC;IACF;IACAT,qBAAqB;QACnBe,KAAK;YACH,OAAO,IAAI,CAACL,oBAAoB;QAClC;IACF;IACAT,mBAAmB;QACjBc,KAAK;YACH,OAAO,IAAI,CAACJ,kBAAkB;QAChC;IACF;AACF;AAEApB,QAAQyB,MAAM,GAAG,SAAUC,IAAI,EAAEC,KAAK;IACpC,OACED,SAASC,SACR,IAAA,6KAAO,EAACD,SACP,IAAA,6KAAO,EAACC,UACRD,KAAKX,MAAM,KAAKY,MAAMZ,MAAM,IAC5BW,KAAKV,MAAM,KAAKW,MAAMX,MAAM,IAC5BU,KAAKT,MAAM,KAAKU,MAAMV,MAAM,IAC5BS,KAAKR,mBAAmB,KAAKS,MAAMT,mBAAmB,IACtDQ,KAAKP,oBAAoB,KAAKQ,MAAMR,oBAAoB,IACxDO,KAAKN,kBAAkB,KAAKO,MAAMP,kBAAkB;AAE1D;AAEApB,QAAQ4B,OAAO,GAAGP,OAAOQ,MAAM,CAC7B,IAAI7B,QAAQ;IACVG,OAAO,qLAAW,CAACC,aAAa;IAChCC,OAAO,qLAAW,CAACD,aAAa;IAChCE,OAAO,qLAAW,CAACF,aAAa;IAChCG,oBAAoB,mMAAyB,CAACqB,OAAO;IACrDnB,qBAAqB,oMAA0B,CAACmB,OAAO;AACzD;uCAEa5B","ignoreList":[0]}},
    {"offset": {"line": 6079, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/Buffer.js"],"sourcesContent":["import Check from \"../Core/Check.js\";\nimport createGuid from \"../Core/createGuid.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport IndexDatatype from \"../Core/IndexDatatype.js\";\nimport WebGLConstants from \"../Core/WebGLConstants.js\";\nimport BufferUsage from \"./BufferUsage.js\";\n\n/**\n * @private\n */\nfunction Buffer(options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options.context\", options.context);\n\n  if (!defined(options.typedArray) && !defined(options.sizeInBytes)) {\n    throw new DeveloperError(\n      \"Either options.sizeInBytes or options.typedArray is required.\",\n    );\n  }\n\n  if (defined(options.typedArray) && defined(options.sizeInBytes)) {\n    throw new DeveloperError(\n      \"Cannot pass in both options.sizeInBytes and options.typedArray.\",\n    );\n  }\n\n  if (defined(options.typedArray)) {\n    Check.typeOf.object(\"options.typedArray\", options.typedArray);\n    Check.typeOf.number(\n      \"options.typedArray.byteLength\",\n      options.typedArray.byteLength,\n    );\n  }\n\n  if (!BufferUsage.validate(options.usage)) {\n    throw new DeveloperError(\"usage is invalid.\");\n  }\n  //>>includeEnd('debug');\n\n  const gl = options.context._gl;\n  const bufferTarget = options.bufferTarget;\n  const typedArray = options.typedArray;\n  let sizeInBytes = options.sizeInBytes;\n  const usage = options.usage;\n  const hasArray = defined(typedArray);\n\n  if (hasArray) {\n    sizeInBytes = typedArray.byteLength;\n  }\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.number.greaterThan(\"sizeInBytes\", sizeInBytes, 0);\n  //>>includeEnd('debug');\n\n  const buffer = gl.createBuffer();\n  gl.bindBuffer(bufferTarget, buffer);\n  gl.bufferData(bufferTarget, hasArray ? typedArray : sizeInBytes, usage);\n  gl.bindBuffer(bufferTarget, null);\n\n  this._id = createGuid();\n  this._gl = gl;\n  this._webgl2 = options.context._webgl2;\n  this._bufferTarget = bufferTarget;\n  this._sizeInBytes = sizeInBytes;\n  this._usage = usage;\n  this._buffer = buffer;\n  this.vertexArrayDestroyable = true;\n}\n\nBuffer.createPixelBuffer = function (options) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options.context\", options.context);\n  //>>includeEnd('debug');\n\n  if (!options.context._webgl2) {\n    throw new DeveloperError(\n      \"A WebGL 2 context is required to create PixelBuffers.\",\n    );\n  }\n\n  return new Buffer({\n    context: options.context,\n    bufferTarget: WebGLConstants.PIXEL_PACK_BUFFER,\n    typedArray: options.typedArray,\n    sizeInBytes: options.sizeInBytes,\n    usage: options.usage,\n  });\n};\n\n/**\n * Creates a vertex buffer, which contains untyped vertex data in GPU-controlled memory.\n * <br /><br />\n * A vertex array defines the actual makeup of a vertex, e.g., positions, normals, texture coordinates,\n * etc., by interpreting the raw data in one or more vertex buffers.\n *\n * @param {object} options An object containing the following properties:\n * @param {Context} options.context The context in which to create the buffer\n * @param {ArrayBufferView} [options.typedArray] A typed array containing the data to copy to the buffer.\n * @param {number} [options.sizeInBytes] A <code>Number</code> defining the size of the buffer in bytes. Required if options.typedArray is not given.\n * @param {BufferUsage} options.usage Specifies the expected usage pattern of the buffer. On some GL implementations, this can significantly affect performance. See {@link BufferUsage}.\n * @returns {VertexBuffer} The vertex buffer, ready to be attached to a vertex array.\n *\n * @exception {DeveloperError} Must specify either <options.typedArray> or <options.sizeInBytes>, but not both.\n * @exception {DeveloperError} The buffer size must be greater than zero.\n * @exception {DeveloperError} Invalid <code>usage</code>.\n *\n *\n * @example\n * // Example 1. Create a dynamic vertex buffer 16 bytes in size.\n * const buffer = Buffer.createVertexBuffer({\n *     context : context,\n *     sizeInBytes : 16,\n *     usage : BufferUsage.DYNAMIC_DRAW\n * });\n *\n * @example\n * // Example 2. Create a dynamic vertex buffer from three floating-point values.\n * // The data copied to the vertex buffer is considered raw bytes until it is\n * // interpreted as vertices using a vertex array.\n * const positionBuffer = buffer.createVertexBuffer({\n *     context : context,\n *     typedArray : new Float32Array([0, 0, 0]),\n *     usage : BufferUsage.STATIC_DRAW\n * });\n *\n * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGenBuffer.xml|glGenBuffer}\n * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glBindBuffer.xml|glBindBuffer} with <code>ARRAY_BUFFER</code>\n * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glBufferData.xml|glBufferData} with <code>ARRAY_BUFFER</code>\n */\nBuffer.createVertexBuffer = function (options) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options.context\", options.context);\n  //>>includeEnd('debug');\n\n  return new Buffer({\n    context: options.context,\n    bufferTarget: WebGLConstants.ARRAY_BUFFER,\n    typedArray: options.typedArray,\n    sizeInBytes: options.sizeInBytes,\n    usage: options.usage,\n  });\n};\n\n/**\n * Creates an index buffer, which contains typed indices in GPU-controlled memory.\n * <br /><br />\n * An index buffer can be attached to a vertex array to select vertices for rendering.\n * <code>Context.draw</code> can render using the entire index buffer or a subset\n * of the index buffer defined by an offset and count.\n *\n * @param {object} options An object containing the following properties:\n * @param {Context} options.context The context in which to create the buffer\n * @param {ArrayBufferView} [options.typedArray] A typed array containing the data to copy to the buffer.\n * @param {number} [options.sizeInBytes] A <code>Number</code> defining the size of the buffer in bytes. Required if options.typedArray is not given.\n * @param {BufferUsage} options.usage Specifies the expected usage pattern of the buffer. On some GL implementations, this can significantly affect performance. See {@link BufferUsage}.\n * @param {IndexDatatype} options.indexDatatype The datatype of indices in the buffer.\n * @returns {IndexBuffer} The index buffer, ready to be attached to a vertex array.\n *\n * @exception {DeveloperError} Must specify either <options.typedArray> or <options.sizeInBytes>, but not both.\n * @exception {DeveloperError} IndexDatatype.UNSIGNED_INT requires OES_element_index_uint, which is not supported on this system. Check context.elementIndexUint.\n * @exception {DeveloperError} The size in bytes must be greater than zero.\n * @exception {DeveloperError} Invalid <code>usage</code>.\n * @exception {DeveloperError} Invalid <code>indexDatatype</code>.\n *\n *\n * @example\n * // Example 1. Create a stream index buffer of unsigned shorts that is\n * // 16 bytes in size.\n * const buffer = Buffer.createIndexBuffer({\n *     context : context,\n *     sizeInBytes : 16,\n *     usage : BufferUsage.STREAM_DRAW,\n *     indexDatatype : IndexDatatype.UNSIGNED_SHORT\n * });\n *\n * @example\n * // Example 2. Create a static index buffer containing three unsigned shorts.\n * const buffer = Buffer.createIndexBuffer({\n *     context : context,\n *     typedArray : new Uint16Array([0, 1, 2]),\n *     usage : BufferUsage.STATIC_DRAW,\n *     indexDatatype : IndexDatatype.UNSIGNED_SHORT\n * });\n *\n * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGenBuffer.xml|glGenBuffer}\n * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glBindBuffer.xml|glBindBuffer} with <code>ELEMENT_ARRAY_BUFFER</code>\n * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glBufferData.xml|glBufferData} with <code>ELEMENT_ARRAY_BUFFER</code>\n */\nBuffer.createIndexBuffer = function (options) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options.context\", options.context);\n\n  if (!IndexDatatype.validate(options.indexDatatype)) {\n    throw new DeveloperError(\"Invalid indexDatatype.\");\n  }\n\n  if (\n    options.indexDatatype === IndexDatatype.UNSIGNED_INT &&\n    !options.context.elementIndexUint\n  ) {\n    throw new DeveloperError(\n      \"IndexDatatype.UNSIGNED_INT requires OES_element_index_uint, which is not supported on this system.  Check context.elementIndexUint.\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  const context = options.context;\n  const indexDatatype = options.indexDatatype;\n\n  const bytesPerIndex = IndexDatatype.getSizeInBytes(indexDatatype);\n  const buffer = new Buffer({\n    context: context,\n    bufferTarget: WebGLConstants.ELEMENT_ARRAY_BUFFER,\n    typedArray: options.typedArray,\n    sizeInBytes: options.sizeInBytes,\n    usage: options.usage,\n  });\n\n  const numberOfIndices = buffer.sizeInBytes / bytesPerIndex;\n\n  Object.defineProperties(buffer, {\n    indexDatatype: {\n      get: function () {\n        return indexDatatype;\n      },\n    },\n    bytesPerIndex: {\n      get: function () {\n        return bytesPerIndex;\n      },\n    },\n    numberOfIndices: {\n      get: function () {\n        return numberOfIndices;\n      },\n    },\n  });\n\n  return buffer;\n};\n\nObject.defineProperties(Buffer.prototype, {\n  sizeInBytes: {\n    get: function () {\n      return this._sizeInBytes;\n    },\n  },\n\n  usage: {\n    get: function () {\n      return this._usage;\n    },\n  },\n});\n\nBuffer.prototype._getBuffer = function () {\n  return this._buffer;\n};\n\nBuffer.prototype._bind = function () {\n  const gl = this._gl;\n  const target = this._bufferTarget;\n  gl.bindBuffer(target, this._buffer);\n};\n\nBuffer.prototype._unBind = function () {\n  const gl = this._gl;\n  const target = this._bufferTarget;\n  gl.bindBuffer(target, null);\n};\n\nBuffer.prototype.copyFromArrayView = function (arrayView, offsetInBytes) {\n  offsetInBytes = offsetInBytes ?? 0;\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"arrayView\", arrayView);\n  Check.typeOf.number.lessThanOrEquals(\n    \"offsetInBytes + arrayView.byteLength\",\n    offsetInBytes + arrayView.byteLength,\n    this._sizeInBytes,\n  );\n  //>>includeEnd('debug');\n\n  const gl = this._gl;\n  const target = this._bufferTarget;\n  gl.bindBuffer(target, this._buffer);\n  gl.bufferSubData(target, offsetInBytes, arrayView);\n  gl.bindBuffer(target, null);\n};\n\nBuffer.prototype.copyFromBuffer = function (\n  readBuffer,\n  readOffset,\n  writeOffset,\n  sizeInBytes,\n) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!this._webgl2) {\n    throw new DeveloperError(\"A WebGL 2 context is required.\");\n  }\n  if (!defined(readBuffer)) {\n    throw new DeveloperError(\"readBuffer must be defined.\");\n  }\n  if (!defined(sizeInBytes) || sizeInBytes <= 0) {\n    throw new DeveloperError(\n      \"sizeInBytes must be defined and be greater than zero.\",\n    );\n  }\n  if (\n    !defined(readOffset) ||\n    readOffset < 0 ||\n    readOffset + sizeInBytes > readBuffer._sizeInBytes\n  ) {\n    throw new DeveloperError(\n      \"readOffset must be greater than or equal to zero and readOffset + sizeInBytes must be less than of equal to readBuffer.sizeInBytes.\",\n    );\n  }\n  if (\n    !defined(writeOffset) ||\n    writeOffset < 0 ||\n    writeOffset + sizeInBytes > this._sizeInBytes\n  ) {\n    throw new DeveloperError(\n      \"writeOffset must be greater than or equal to zero and writeOffset + sizeInBytes must be less than of equal to this.sizeInBytes.\",\n    );\n  }\n  if (\n    this._buffer === readBuffer._buffer &&\n    ((writeOffset >= readOffset && writeOffset < readOffset + sizeInBytes) ||\n      (readOffset > writeOffset && readOffset < writeOffset + sizeInBytes))\n  ) {\n    throw new DeveloperError(\n      \"When readBuffer is equal to this, the ranges [readOffset + sizeInBytes) and [writeOffset, writeOffset + sizeInBytes) must not overlap.\",\n    );\n  }\n  if (\n    (this._bufferTarget === WebGLConstants.ELEMENT_ARRAY_BUFFER &&\n      readBuffer._bufferTarget !== WebGLConstants.ELEMENT_ARRAY_BUFFER) ||\n    (this._bufferTarget !== WebGLConstants.ELEMENT_ARRAY_BUFFER &&\n      readBuffer._bufferTarget === WebGLConstants.ELEMENT_ARRAY_BUFFER)\n  ) {\n    throw new DeveloperError(\n      \"Can not copy an index buffer into another buffer type.\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  const readTarget = WebGLConstants.COPY_READ_BUFFER;\n  const writeTarget = WebGLConstants.COPY_WRITE_BUFFER;\n\n  const gl = this._gl;\n  gl.bindBuffer(writeTarget, this._buffer);\n  gl.bindBuffer(readTarget, readBuffer._buffer);\n  gl.copyBufferSubData(\n    readTarget,\n    writeTarget,\n    readOffset,\n    writeOffset,\n    sizeInBytes,\n  );\n  gl.bindBuffer(writeTarget, null);\n  gl.bindBuffer(readTarget, null);\n};\n\nBuffer.prototype.getBufferData = function (\n  arrayView,\n  sourceOffset,\n  destinationOffset,\n  length,\n) {\n  sourceOffset = sourceOffset ?? 0;\n  destinationOffset = destinationOffset ?? 0;\n\n  //>>includeStart('debug', pragmas.debug);\n  if (!this._webgl2) {\n    throw new DeveloperError(\"A WebGL 2 context is required.\");\n  }\n  if (!defined(arrayView)) {\n    throw new DeveloperError(\"arrayView is required.\");\n  }\n\n  let copyLength;\n  let elementSize;\n  let arrayLength = arrayView.byteLength;\n  if (!defined(length)) {\n    if (defined(arrayLength)) {\n      copyLength = arrayLength - destinationOffset;\n      elementSize = 1;\n    } else {\n      arrayLength = arrayView.length;\n      copyLength = arrayLength - destinationOffset;\n      elementSize = arrayView.BYTES_PER_ELEMENT;\n    }\n  } else {\n    copyLength = length;\n    if (defined(arrayLength)) {\n      elementSize = 1;\n    } else {\n      arrayLength = arrayView.length;\n      elementSize = arrayView.BYTES_PER_ELEMENT;\n    }\n  }\n\n  if (destinationOffset < 0 || destinationOffset > arrayLength) {\n    throw new DeveloperError(\n      \"destinationOffset must be greater than zero and less than the arrayView length.\",\n    );\n  }\n  if (destinationOffset + copyLength > arrayLength) {\n    throw new DeveloperError(\n      \"destinationOffset + length must be less than or equal to the arrayViewLength.\",\n    );\n  }\n  if (sourceOffset < 0 || sourceOffset > this._sizeInBytes) {\n    throw new DeveloperError(\n      \"sourceOffset must be greater than zero and less than the buffers size.\",\n    );\n  }\n  if (sourceOffset + copyLength * elementSize > this._sizeInBytes) {\n    throw new DeveloperError(\n      \"sourceOffset + length must be less than the buffers size.\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  const gl = this._gl;\n  const target = WebGLConstants.COPY_READ_BUFFER;\n  gl.bindBuffer(target, this._buffer);\n  gl.getBufferSubData(\n    target,\n    sourceOffset,\n    arrayView,\n    destinationOffset,\n    length,\n  );\n  gl.bindBuffer(target, null);\n};\n\nBuffer.prototype.isDestroyed = function () {\n  return false;\n};\n\nBuffer.prototype.destroy = function () {\n  this._gl.deleteBuffer(this._buffer);\n  return destroyObject(this);\n};\nexport default Buffer;\n"],"names":["Buffer","options","EMPTY_OBJECT","defined","context","typedArray","sizeInBytes","typeOf","object","number","byteLength","validate","usage","gl","_gl","bufferTarget","hasArray","greaterThan","buffer","createBuffer","bindBuffer","bufferData","_id","_webgl2","_bufferTarget","_sizeInBytes","_usage","_buffer","vertexArrayDestroyable","createPixelBuffer","PIXEL_PACK_BUFFER","createVertexBuffer","ARRAY_BUFFER","createIndexBuffer","indexDatatype","UNSIGNED_INT","elementIndexUint","bytesPerIndex","getSizeInBytes","ELEMENT_ARRAY_BUFFER","numberOfIndices","Object","defineProperties","get","prototype","_getBuffer","_bind","target","_unBind","copyFromArrayView","arrayView","offsetInBytes","lessThanOrEquals","bufferSubData","copyFromBuffer","readBuffer","readOffset","writeOffset","readTarget","COPY_READ_BUFFER","writeTarget","COPY_WRITE_BUFFER","copyBufferSubData","getBufferData","sourceOffset","destinationOffset","length","copyLength","elementSize","arrayLength","BYTES_PER_ELEMENT","getBufferSubData","isDestroyed","destroy","deleteBuffer"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AAEA;;CAEC,GACD,SAASA,OAAOC,OAAO;IACrBA,UAAUA,WAAW,4KAAM,CAACC,YAAY;IAExC,yCAAyC;IACzC,2KAAK,CAACC,OAAO,CAAC,mBAAmBF,QAAQG,OAAO;IAEhD,IAAI,CAAC,IAAA,6KAAO,EAACH,QAAQI,UAAU,KAAK,CAAC,IAAA,6KAAO,EAACJ,QAAQK,WAAW,GAAG;QACjE,MAAM,IAAI,oLAAc,CACtB;IAEJ;IAEA,IAAI,IAAA,6KAAO,EAACL,QAAQI,UAAU,KAAK,IAAA,6KAAO,EAACJ,QAAQK,WAAW,GAAG;QAC/D,MAAM,IAAI,oLAAc,CACtB;IAEJ;IAEA,IAAI,IAAA,6KAAO,EAACL,QAAQI,UAAU,GAAG;QAC/B,2KAAK,CAACE,MAAM,CAACC,MAAM,CAAC,sBAAsBP,QAAQI,UAAU;QAC5D,2KAAK,CAACE,MAAM,CAACE,MAAM,CACjB,iCACAR,QAAQI,UAAU,CAACK,UAAU;IAEjC;IAEA,IAAI,CAAC,qLAAW,CAACC,QAAQ,CAACV,QAAQW,KAAK,GAAG;QACxC,MAAM,IAAI,oLAAc,CAAC;IAC3B;IACA,wBAAwB;IAExB,MAAMC,KAAKZ,QAAQG,OAAO,CAACU,GAAG;IAC9B,MAAMC,eAAed,QAAQc,YAAY;IACzC,MAAMV,aAAaJ,QAAQI,UAAU;IACrC,IAAIC,cAAcL,QAAQK,WAAW;IACrC,MAAMM,QAAQX,QAAQW,KAAK;IAC3B,MAAMI,WAAW,IAAA,6KAAO,EAACX;IAEzB,IAAIW,UAAU;QACZV,cAAcD,WAAWK,UAAU;IACrC;IAEA,yCAAyC;IACzC,2KAAK,CAACH,MAAM,CAACE,MAAM,CAACQ,WAAW,CAAC,eAAeX,aAAa;IAC5D,wBAAwB;IAExB,MAAMY,SAASL,GAAGM,YAAY;IAC9BN,GAAGO,UAAU,CAACL,cAAcG;IAC5BL,GAAGQ,UAAU,CAACN,cAAcC,WAAWX,aAAaC,aAAaM;IACjEC,GAAGO,UAAU,CAACL,cAAc;IAE5B,IAAI,CAACO,GAAG,GAAG,IAAA,gLAAU;IACrB,IAAI,CAACR,GAAG,GAAGD;IACX,IAAI,CAACU,OAAO,GAAGtB,QAAQG,OAAO,CAACmB,OAAO;IACtC,IAAI,CAACC,aAAa,GAAGT;IACrB,IAAI,CAACU,YAAY,GAAGnB;IACpB,IAAI,CAACoB,MAAM,GAAGd;IACd,IAAI,CAACe,OAAO,GAAGT;IACf,IAAI,CAACU,sBAAsB,GAAG;AAChC;AAEA5B,OAAO6B,iBAAiB,GAAG,SAAU5B,OAAO;IAC1C,yCAAyC;IACzC,2KAAK,CAACE,OAAO,CAAC,mBAAmBF,QAAQG,OAAO;IAChD,wBAAwB;IAExB,IAAI,CAACH,QAAQG,OAAO,CAACmB,OAAO,EAAE;QAC5B,MAAM,IAAI,oLAAc,CACtB;IAEJ;IAEA,OAAO,IAAIvB,OAAO;QAChBI,SAASH,QAAQG,OAAO;QACxBW,cAAc,oLAAc,CAACe,iBAAiB;QAC9CzB,YAAYJ,QAAQI,UAAU;QAC9BC,aAAaL,QAAQK,WAAW;QAChCM,OAAOX,QAAQW,KAAK;IACtB;AACF;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAuCC,GACDZ,OAAO+B,kBAAkB,GAAG,SAAU9B,OAAO;IAC3C,yCAAyC;IACzC,2KAAK,CAACE,OAAO,CAAC,mBAAmBF,QAAQG,OAAO;IAChD,wBAAwB;IAExB,OAAO,IAAIJ,OAAO;QAChBI,SAASH,QAAQG,OAAO;QACxBW,cAAc,oLAAc,CAACiB,YAAY;QACzC3B,YAAYJ,QAAQI,UAAU;QAC9BC,aAAaL,QAAQK,WAAW;QAChCM,OAAOX,QAAQW,KAAK;IACtB;AACF;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA4CC,GACDZ,OAAOiC,iBAAiB,GAAG,SAAUhC,OAAO;IAC1C,yCAAyC;IACzC,2KAAK,CAACE,OAAO,CAAC,mBAAmBF,QAAQG,OAAO;IAEhD,IAAI,CAAC,mLAAa,CAACO,QAAQ,CAACV,QAAQiC,aAAa,GAAG;QAClD,MAAM,IAAI,oLAAc,CAAC;IAC3B;IAEA,IACEjC,QAAQiC,aAAa,KAAK,mLAAa,CAACC,YAAY,IACpD,CAAClC,QAAQG,OAAO,CAACgC,gBAAgB,EACjC;QACA,MAAM,IAAI,oLAAc,CACtB;IAEJ;IACA,wBAAwB;IAExB,MAAMhC,UAAUH,QAAQG,OAAO;IAC/B,MAAM8B,gBAAgBjC,QAAQiC,aAAa;IAE3C,MAAMG,gBAAgB,mLAAa,CAACC,cAAc,CAACJ;IACnD,MAAMhB,SAAS,IAAIlB,OAAO;QACxBI,SAASA;QACTW,cAAc,oLAAc,CAACwB,oBAAoB;QACjDlC,YAAYJ,QAAQI,UAAU;QAC9BC,aAAaL,QAAQK,WAAW;QAChCM,OAAOX,QAAQW,KAAK;IACtB;IAEA,MAAM4B,kBAAkBtB,OAAOZ,WAAW,GAAG+B;IAE7CI,OAAOC,gBAAgB,CAACxB,QAAQ;QAC9BgB,eAAe;YACbS,KAAK;gBACH,OAAOT;YACT;QACF;QACAG,eAAe;YACbM,KAAK;gBACH,OAAON;YACT;QACF;QACAG,iBAAiB;YACfG,KAAK;gBACH,OAAOH;YACT;QACF;IACF;IAEA,OAAOtB;AACT;AAEAuB,OAAOC,gBAAgB,CAAC1C,OAAO4C,SAAS,EAAE;IACxCtC,aAAa;QACXqC,KAAK;YACH,OAAO,IAAI,CAAClB,YAAY;QAC1B;IACF;IAEAb,OAAO;QACL+B,KAAK;YACH,OAAO,IAAI,CAACjB,MAAM;QACpB;IACF;AACF;AAEA1B,OAAO4C,SAAS,CAACC,UAAU,GAAG;IAC5B,OAAO,IAAI,CAAClB,OAAO;AACrB;AAEA3B,OAAO4C,SAAS,CAACE,KAAK,GAAG;IACvB,MAAMjC,KAAK,IAAI,CAACC,GAAG;IACnB,MAAMiC,SAAS,IAAI,CAACvB,aAAa;IACjCX,GAAGO,UAAU,CAAC2B,QAAQ,IAAI,CAACpB,OAAO;AACpC;AAEA3B,OAAO4C,SAAS,CAACI,OAAO,GAAG;IACzB,MAAMnC,KAAK,IAAI,CAACC,GAAG;IACnB,MAAMiC,SAAS,IAAI,CAACvB,aAAa;IACjCX,GAAGO,UAAU,CAAC2B,QAAQ;AACxB;AAEA/C,OAAO4C,SAAS,CAACK,iBAAiB,GAAG,SAAUC,SAAS,EAAEC,aAAa;IACrEA,gBAAgBA,iBAAiB;IAEjC,yCAAyC;IACzC,2KAAK,CAAChD,OAAO,CAAC,aAAa+C;IAC3B,2KAAK,CAAC3C,MAAM,CAACE,MAAM,CAAC2C,gBAAgB,CAClC,wCACAD,gBAAgBD,UAAUxC,UAAU,EACpC,IAAI,CAACe,YAAY;IAEnB,wBAAwB;IAExB,MAAMZ,KAAK,IAAI,CAACC,GAAG;IACnB,MAAMiC,SAAS,IAAI,CAACvB,aAAa;IACjCX,GAAGO,UAAU,CAAC2B,QAAQ,IAAI,CAACpB,OAAO;IAClCd,GAAGwC,aAAa,CAACN,QAAQI,eAAeD;IACxCrC,GAAGO,UAAU,CAAC2B,QAAQ;AACxB;AAEA/C,OAAO4C,SAAS,CAACU,cAAc,GAAG,SAChCC,UAAU,EACVC,UAAU,EACVC,WAAW,EACXnD,WAAW;IAEX,yCAAyC;IACzC,IAAI,CAAC,IAAI,CAACiB,OAAO,EAAE;QACjB,MAAM,IAAI,oLAAc,CAAC;IAC3B;IACA,IAAI,CAAC,IAAA,6KAAO,EAACgC,aAAa;QACxB,MAAM,IAAI,oLAAc,CAAC;IAC3B;IACA,IAAI,CAAC,IAAA,6KAAO,EAACjD,gBAAgBA,eAAe,GAAG;QAC7C,MAAM,IAAI,oLAAc,CACtB;IAEJ;IACA,IACE,CAAC,IAAA,6KAAO,EAACkD,eACTA,aAAa,KACbA,aAAalD,cAAciD,WAAW9B,YAAY,EAClD;QACA,MAAM,IAAI,oLAAc,CACtB;IAEJ;IACA,IACE,CAAC,IAAA,6KAAO,EAACgC,gBACTA,cAAc,KACdA,cAAcnD,cAAc,IAAI,CAACmB,YAAY,EAC7C;QACA,MAAM,IAAI,oLAAc,CACtB;IAEJ;IACA,IACE,IAAI,CAACE,OAAO,KAAK4B,WAAW5B,OAAO,IACnC,CAAC,AAAC8B,eAAeD,cAAcC,cAAcD,aAAalD,eACvDkD,aAAaC,eAAeD,aAAaC,cAAcnD,WAAY,GACtE;QACA,MAAM,IAAI,oLAAc,CACtB;IAEJ;IACA,IACE,AAAC,IAAI,CAACkB,aAAa,KAAK,oLAAc,CAACe,oBAAoB,IACzDgB,WAAW/B,aAAa,KAAK,oLAAc,CAACe,oBAAoB,IACjE,IAAI,CAACf,aAAa,KAAK,oLAAc,CAACe,oBAAoB,IACzDgB,WAAW/B,aAAa,KAAK,oLAAc,CAACe,oBAAoB,EAClE;QACA,MAAM,IAAI,oLAAc,CACtB;IAEJ;IACA,wBAAwB;IAExB,MAAMmB,aAAa,oLAAc,CAACC,gBAAgB;IAClD,MAAMC,cAAc,oLAAc,CAACC,iBAAiB;IAEpD,MAAMhD,KAAK,IAAI,CAACC,GAAG;IACnBD,GAAGO,UAAU,CAACwC,aAAa,IAAI,CAACjC,OAAO;IACvCd,GAAGO,UAAU,CAACsC,YAAYH,WAAW5B,OAAO;IAC5Cd,GAAGiD,iBAAiB,CAClBJ,YACAE,aACAJ,YACAC,aACAnD;IAEFO,GAAGO,UAAU,CAACwC,aAAa;IAC3B/C,GAAGO,UAAU,CAACsC,YAAY;AAC5B;AAEA1D,OAAO4C,SAAS,CAACmB,aAAa,GAAG,SAC/Bb,SAAS,EACTc,YAAY,EACZC,iBAAiB,EACjBC,MAAM;IAENF,eAAeA,gBAAgB;IAC/BC,oBAAoBA,qBAAqB;IAEzC,yCAAyC;IACzC,IAAI,CAAC,IAAI,CAAC1C,OAAO,EAAE;QACjB,MAAM,IAAI,oLAAc,CAAC;IAC3B;IACA,IAAI,CAAC,IAAA,6KAAO,EAAC2B,YAAY;QACvB,MAAM,IAAI,oLAAc,CAAC;IAC3B;IAEA,IAAIiB;IACJ,IAAIC;IACJ,IAAIC,cAAcnB,UAAUxC,UAAU;IACtC,IAAI,CAAC,IAAA,6KAAO,EAACwD,SAAS;QACpB,IAAI,IAAA,6KAAO,EAACG,cAAc;YACxBF,aAAaE,cAAcJ;YAC3BG,cAAc;QAChB,OAAO;YACLC,cAAcnB,UAAUgB,MAAM;YAC9BC,aAAaE,cAAcJ;YAC3BG,cAAclB,UAAUoB,iBAAiB;QAC3C;IACF,OAAO;QACLH,aAAaD;QACb,IAAI,IAAA,6KAAO,EAACG,cAAc;YACxBD,cAAc;QAChB,OAAO;YACLC,cAAcnB,UAAUgB,MAAM;YAC9BE,cAAclB,UAAUoB,iBAAiB;QAC3C;IACF;IAEA,IAAIL,oBAAoB,KAAKA,oBAAoBI,aAAa;QAC5D,MAAM,IAAI,oLAAc,CACtB;IAEJ;IACA,IAAIJ,oBAAoBE,aAAaE,aAAa;QAChD,MAAM,IAAI,oLAAc,CACtB;IAEJ;IACA,IAAIL,eAAe,KAAKA,eAAe,IAAI,CAACvC,YAAY,EAAE;QACxD,MAAM,IAAI,oLAAc,CACtB;IAEJ;IACA,IAAIuC,eAAeG,aAAaC,cAAc,IAAI,CAAC3C,YAAY,EAAE;QAC/D,MAAM,IAAI,oLAAc,CACtB;IAEJ;IACA,wBAAwB;IAExB,MAAMZ,KAAK,IAAI,CAACC,GAAG;IACnB,MAAMiC,SAAS,oLAAc,CAACY,gBAAgB;IAC9C9C,GAAGO,UAAU,CAAC2B,QAAQ,IAAI,CAACpB,OAAO;IAClCd,GAAG0D,gBAAgB,CACjBxB,QACAiB,cACAd,WACAe,mBACAC;IAEFrD,GAAGO,UAAU,CAAC2B,QAAQ;AACxB;AAEA/C,OAAO4C,SAAS,CAAC4B,WAAW,GAAG;IAC7B,OAAO;AACT;AAEAxE,OAAO4C,SAAS,CAAC6B,OAAO,GAAG;IACzB,IAAI,CAAC3D,GAAG,CAAC4D,YAAY,CAAC,IAAI,CAAC/C,OAAO;IAClC,OAAO,IAAA,mLAAa,EAAC,IAAI;AAC3B;uCACe3B","ignoreList":[0]}},
    {"offset": {"line": 6428, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/VertexArray.js"],"sourcesContent":["import Check from \"../Core/Check.js\";\nimport ComponentDatatype from \"../Core/ComponentDatatype.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport Geometry from \"../Core/Geometry.js\";\nimport IndexDatatype from \"../Core/IndexDatatype.js\";\nimport CesiumMath from \"../Core/Math.js\";\nimport RuntimeError from \"../Core/RuntimeError.js\";\nimport Buffer from \"./Buffer.js\";\nimport BufferUsage from \"./BufferUsage.js\";\nimport ContextLimits from \"./ContextLimits.js\";\nimport AttributeType from \"../Scene/AttributeType.js\";\n\nfunction addAttribute(attributes, attribute, index, context) {\n  const hasVertexBuffer = defined(attribute.vertexBuffer);\n  const hasValue = defined(attribute.value);\n  const componentsPerAttribute = attribute.value\n    ? attribute.value.length\n    : attribute.componentsPerAttribute;\n\n  //>>includeStart('debug', pragmas.debug);\n  if (!hasVertexBuffer && !hasValue) {\n    throw new DeveloperError(\"attribute must have a vertexBuffer or a value.\");\n  }\n  if (hasVertexBuffer && hasValue) {\n    throw new DeveloperError(\n      \"attribute cannot have both a vertexBuffer and a value.  It must have either a vertexBuffer property defining per-vertex data or a value property defining data for all vertices.\",\n    );\n  }\n  if (\n    componentsPerAttribute !== 1 &&\n    componentsPerAttribute !== 2 &&\n    componentsPerAttribute !== 3 &&\n    componentsPerAttribute !== 4\n  ) {\n    if (hasValue) {\n      throw new DeveloperError(\n        \"attribute.value.length must be in the range [1, 4].\",\n      );\n    }\n\n    throw new DeveloperError(\n      \"attribute.componentsPerAttribute must be in the range [1, 4].\",\n    );\n  }\n  if (\n    defined(attribute.componentDatatype) &&\n    !ComponentDatatype.validate(attribute.componentDatatype)\n  ) {\n    throw new DeveloperError(\n      \"attribute must have a valid componentDatatype or not specify it.\",\n    );\n  }\n  if (defined(attribute.strideInBytes) && attribute.strideInBytes > 255) {\n    // WebGL limit.  Not in GL ES.\n    throw new DeveloperError(\n      \"attribute must have a strideInBytes less than or equal to 255 or not specify it.\",\n    );\n  }\n  if (\n    defined(attribute.instanceDivisor) &&\n    attribute.instanceDivisor > 0 &&\n    !context.instancedArrays\n  ) {\n    throw new DeveloperError(\"instanced arrays is not supported\");\n  }\n  if (defined(attribute.instanceDivisor) && attribute.instanceDivisor < 0) {\n    throw new DeveloperError(\n      \"attribute must have an instanceDivisor greater than or equal to zero\",\n    );\n  }\n  if (defined(attribute.instanceDivisor) && hasValue) {\n    throw new DeveloperError(\n      \"attribute cannot have have an instanceDivisor if it is not backed by a buffer\",\n    );\n  }\n  if (\n    defined(attribute.instanceDivisor) &&\n    attribute.instanceDivisor > 0 &&\n    attribute.index === 0\n  ) {\n    throw new DeveloperError(\n      \"attribute zero cannot have an instanceDivisor greater than 0\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  // Shallow copy the attribute; we do not want to copy the vertex buffer.\n  const attr = {\n    index: attribute.index ?? index,\n    enabled: attribute.enabled ?? true,\n    vertexBuffer: attribute.vertexBuffer,\n    value: hasValue ? attribute.value.slice(0) : undefined,\n    componentsPerAttribute: componentsPerAttribute,\n    componentDatatype: attribute.componentDatatype ?? ComponentDatatype.FLOAT,\n    normalize: attribute.normalize ?? false,\n    offsetInBytes: attribute.offsetInBytes ?? 0,\n    strideInBytes: attribute.strideInBytes ?? 0,\n    instanceDivisor: attribute.instanceDivisor ?? 0,\n  };\n\n  if (hasVertexBuffer) {\n    // Common case: vertex buffer for per-vertex data\n    attr.vertexAttrib = function (gl) {\n      const index = this.index;\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer._getBuffer());\n      gl.vertexAttribPointer(\n        index,\n        this.componentsPerAttribute,\n        this.componentDatatype,\n        this.normalize,\n        this.strideInBytes,\n        this.offsetInBytes,\n      );\n      gl.enableVertexAttribArray(index);\n      if (this.instanceDivisor > 0) {\n        context.glVertexAttribDivisor(index, this.instanceDivisor);\n        context._vertexAttribDivisors[index] = this.instanceDivisor;\n        context._previousDrawInstanced = true;\n      }\n    };\n\n    attr.disableVertexAttribArray = function (gl) {\n      gl.disableVertexAttribArray(this.index);\n      if (this.instanceDivisor > 0) {\n        context.glVertexAttribDivisor(index, 0);\n      }\n    };\n  } else {\n    // Less common case: value array for the same data for each vertex\n    switch (attr.componentsPerAttribute) {\n      case 1:\n        attr.vertexAttrib = function (gl) {\n          gl.vertexAttrib1fv(this.index, this.value);\n        };\n        break;\n      case 2:\n        attr.vertexAttrib = function (gl) {\n          gl.vertexAttrib2fv(this.index, this.value);\n        };\n        break;\n      case 3:\n        attr.vertexAttrib = function (gl) {\n          gl.vertexAttrib3fv(this.index, this.value);\n        };\n        break;\n      case 4:\n        attr.vertexAttrib = function (gl) {\n          gl.vertexAttrib4fv(this.index, this.value);\n        };\n        break;\n    }\n\n    attr.disableVertexAttribArray = function (gl) {};\n  }\n\n  attributes.push(attr);\n}\n\nfunction bind(gl, attributes, indexBuffer) {\n  for (let i = 0; i < attributes.length; ++i) {\n    const attribute = attributes[i];\n    if (attribute.enabled) {\n      attribute.vertexAttrib(gl);\n    }\n  }\n\n  if (defined(indexBuffer)) {\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer._getBuffer());\n  }\n}\n\n/**\n * Creates a vertex array, which defines the attributes making up a vertex, and contains an optional index buffer\n * to select vertices for rendering.  Attributes are defined using object literals as shown in Example 1 below.\n *\n * @param {object} options Object with the following properties:\n * @param {Context} options.context The context in which the VertexArray gets created.\n * @param {object[]} options.attributes An array of attributes.\n * @param {IndexBuffer} [options.indexBuffer] An optional index buffer.\n *\n * @returns {VertexArray} The vertex array, ready for use with drawing.\n *\n * @exception {DeveloperError} Attribute must have a <code>vertexBuffer</code>.\n * @exception {DeveloperError} Attribute must have a <code>componentsPerAttribute</code>.\n * @exception {DeveloperError} Attribute must have a valid <code>componentDatatype</code> or not specify it.\n * @exception {DeveloperError} Attribute must have a <code>strideInBytes</code> less than or equal to 255 or not specify it.\n * @exception {DeveloperError} Index n is used by more than one attribute.\n *\n *\n * @example\n * // Example 1. Create a vertex array with vertices made up of three floating point\n * // values, e.g., a position, from a single vertex buffer.  No index buffer is used.\n * const positionBuffer = Buffer.createVertexBuffer({\n *     context : context,\n *     sizeInBytes : 12,\n *     usage : BufferUsage.STATIC_DRAW\n * });\n * const attributes = [\n *     {\n *         index                  : 0,\n *         enabled                : true,\n *         vertexBuffer           : positionBuffer,\n *         componentsPerAttribute : 3,\n *         componentDatatype      : ComponentDatatype.FLOAT,\n *         normalize              : false,\n *         offsetInBytes          : 0,\n *         strideInBytes          : 0 // tightly packed\n *         instanceDivisor        : 0 // not instanced\n *     }\n * ];\n * const va = new VertexArray({\n *     context : context,\n *     attributes : attributes\n * });\n *\n * @example\n * // Example 2. Create a vertex array with vertices from two different vertex buffers.\n * // Each vertex has a three-component position and three-component normal.\n * const positionBuffer = Buffer.createVertexBuffer({\n *     context : context,\n *     sizeInBytes : 12,\n *     usage : BufferUsage.STATIC_DRAW\n * });\n * const normalBuffer = Buffer.createVertexBuffer({\n *     context : context,\n *     sizeInBytes : 12,\n *     usage : BufferUsage.STATIC_DRAW\n * });\n * const attributes = [\n *     {\n *         index                  : 0,\n *         vertexBuffer           : positionBuffer,\n *         componentsPerAttribute : 3,\n *         componentDatatype      : ComponentDatatype.FLOAT\n *     },\n *     {\n *         index                  : 1,\n *         vertexBuffer           : normalBuffer,\n *         componentsPerAttribute : 3,\n *         componentDatatype      : ComponentDatatype.FLOAT\n *     }\n * ];\n * const va = new VertexArray({\n *     context : context,\n *     attributes : attributes\n * });\n *\n * @example\n * // Example 3. Creates the same vertex layout as Example 2 using a single\n * // vertex buffer, instead of two.\n * const buffer = Buffer.createVertexBuffer({\n *     context : context,\n *     sizeInBytes : 24,\n *     usage : BufferUsage.STATIC_DRAW\n * });\n * const attributes = [\n *     {\n *         vertexBuffer           : buffer,\n *         componentsPerAttribute : 3,\n *         componentDatatype      : ComponentDatatype.FLOAT,\n *         offsetInBytes          : 0,\n *         strideInBytes          : 24\n *     },\n *     {\n *         vertexBuffer           : buffer,\n *         componentsPerAttribute : 3,\n *         componentDatatype      : ComponentDatatype.FLOAT,\n *         normalize              : true,\n *         offsetInBytes          : 12,\n *         strideInBytes          : 24\n *     }\n * ];\n * const va = new VertexArray({\n *     context : context,\n *     attributes : attributes\n * });\n *\n * @see Buffer#createVertexBuffer\n * @see Buffer#createIndexBuffer\n * @see Context#draw\n *\n * @private\n */\nfunction VertexArray(options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options.context\", options.context);\n  Check.defined(\"options.attributes\", options.attributes);\n  //>>includeEnd('debug');\n\n  const context = options.context;\n  const gl = context._gl;\n  const attributes = options.attributes;\n  const indexBuffer = options.indexBuffer;\n\n  let i;\n  const vaAttributes = [];\n  let numberOfVertices = 1; // if every attribute is backed by a single value\n  let hasInstancedAttributes = false;\n  let hasConstantAttributes = false;\n\n  let length = attributes.length;\n  for (i = 0; i < length; ++i) {\n    addAttribute(vaAttributes, attributes[i], i, context);\n  }\n\n  length = vaAttributes.length;\n  for (i = 0; i < length; ++i) {\n    const attribute = vaAttributes[i];\n\n    if (defined(attribute.vertexBuffer) && attribute.instanceDivisor === 0) {\n      // This assumes that each vertex buffer in the vertex array has the same number of vertices.\n      const bytes =\n        attribute.strideInBytes ||\n        attribute.componentsPerAttribute *\n          ComponentDatatype.getSizeInBytes(attribute.componentDatatype);\n      numberOfVertices = attribute.vertexBuffer.sizeInBytes / bytes;\n      break;\n    }\n  }\n\n  for (i = 0; i < length; ++i) {\n    if (vaAttributes[i].instanceDivisor > 0) {\n      hasInstancedAttributes = true;\n    }\n    if (defined(vaAttributes[i].value)) {\n      hasConstantAttributes = true;\n    }\n  }\n\n  //>>includeStart('debug', pragmas.debug);\n  // Verify all attribute names are unique\n  const uniqueIndices = {};\n  for (i = 0; i < length; ++i) {\n    const index = vaAttributes[i].index;\n    if (uniqueIndices[index]) {\n      throw new DeveloperError(\n        `Index ${index} is used by more than one attribute.`,\n      );\n    }\n    uniqueIndices[index] = true;\n  }\n  //>>includeEnd('debug');\n\n  let vao;\n\n  // Setup VAO if supported\n  if (context.vertexArrayObject) {\n    vao = context.glCreateVertexArray();\n    context.glBindVertexArray(vao);\n    bind(gl, vaAttributes, indexBuffer);\n    context.glBindVertexArray(null);\n  }\n\n  this._numberOfVertices = numberOfVertices;\n  this._hasInstancedAttributes = hasInstancedAttributes;\n  this._hasConstantAttributes = hasConstantAttributes;\n  this._context = context;\n  this._gl = gl;\n  this._vao = vao;\n  this._attributes = vaAttributes;\n  this._indexBuffer = indexBuffer;\n}\n\nfunction computeNumberOfVertices(attribute) {\n  return attribute.values.length / attribute.componentsPerAttribute;\n}\n\nfunction computeAttributeSizeInBytes(attribute) {\n  return (\n    ComponentDatatype.getSizeInBytes(attribute.componentDatatype) *\n    attribute.componentsPerAttribute\n  );\n}\n\nfunction interleaveAttributes(attributes) {\n  let j;\n  let name;\n  let attribute;\n\n  // Extract attribute names.\n  const names = [];\n  for (name in attributes) {\n    // Attribute needs to have per-vertex values; not a constant value for all vertices.\n    if (\n      attributes.hasOwnProperty(name) &&\n      defined(attributes[name]) &&\n      defined(attributes[name].values)\n    ) {\n      names.push(name);\n\n      if (attributes[name].componentDatatype === ComponentDatatype.DOUBLE) {\n        attributes[name].componentDatatype = ComponentDatatype.FLOAT;\n        attributes[name].values = ComponentDatatype.createTypedArray(\n          ComponentDatatype.FLOAT,\n          attributes[name].values,\n        );\n      }\n    }\n  }\n\n  // Validation.  Compute number of vertices.\n  let numberOfVertices;\n  const namesLength = names.length;\n\n  if (namesLength > 0) {\n    numberOfVertices = computeNumberOfVertices(attributes[names[0]]);\n\n    for (j = 1; j < namesLength; ++j) {\n      const currentNumberOfVertices = computeNumberOfVertices(\n        attributes[names[j]],\n      );\n\n      if (currentNumberOfVertices !== numberOfVertices) {\n        throw new RuntimeError(\n          `${\n            \"Each attribute list must have the same number of vertices.  \" +\n            \"Attribute \"\n          }${names[j]} has a different number of vertices ` +\n            `(${currentNumberOfVertices.toString()})` +\n            ` than attribute ${names[0]} (${numberOfVertices.toString()}).`,\n        );\n      }\n    }\n  }\n\n  // Sort attributes by the size of their components.  From left to right, a vertex stores floats, shorts, and then bytes.\n  names.sort(function (left, right) {\n    return (\n      ComponentDatatype.getSizeInBytes(attributes[right].componentDatatype) -\n      ComponentDatatype.getSizeInBytes(attributes[left].componentDatatype)\n    );\n  });\n\n  // Compute sizes and strides.\n  let vertexSizeInBytes = 0;\n  const offsetsInBytes = {};\n\n  for (j = 0; j < namesLength; ++j) {\n    name = names[j];\n    attribute = attributes[name];\n\n    offsetsInBytes[name] = vertexSizeInBytes;\n    vertexSizeInBytes += computeAttributeSizeInBytes(attribute);\n  }\n\n  if (vertexSizeInBytes > 0) {\n    // Pad each vertex to be a multiple of the largest component datatype so each\n    // attribute can be addressed using typed arrays.\n    const maxComponentSizeInBytes = ComponentDatatype.getSizeInBytes(\n      attributes[names[0]].componentDatatype,\n    ); // Sorted large to small\n    const remainder = vertexSizeInBytes % maxComponentSizeInBytes;\n    if (remainder !== 0) {\n      vertexSizeInBytes += maxComponentSizeInBytes - remainder;\n    }\n\n    // Total vertex buffer size in bytes, including per-vertex padding.\n    const vertexBufferSizeInBytes = numberOfVertices * vertexSizeInBytes;\n\n    // Create array for interleaved vertices.  Each attribute has a different view (pointer) into the array.\n    const buffer = new ArrayBuffer(vertexBufferSizeInBytes);\n    const views = {};\n\n    for (j = 0; j < namesLength; ++j) {\n      name = names[j];\n      const sizeInBytes = ComponentDatatype.getSizeInBytes(\n        attributes[name].componentDatatype,\n      );\n\n      views[name] = {\n        pointer: ComponentDatatype.createTypedArray(\n          attributes[name].componentDatatype,\n          buffer,\n        ),\n        index: offsetsInBytes[name] / sizeInBytes, // Offset in ComponentType\n        strideInComponentType: vertexSizeInBytes / sizeInBytes,\n      };\n    }\n\n    // Copy attributes into one interleaved array.\n    // PERFORMANCE_IDEA:  Can we optimize these loops?\n    for (j = 0; j < numberOfVertices; ++j) {\n      for (let n = 0; n < namesLength; ++n) {\n        name = names[n];\n        attribute = attributes[name];\n        const values = attribute.values;\n        const view = views[name];\n        const pointer = view.pointer;\n\n        const numberOfComponents = attribute.componentsPerAttribute;\n        for (let k = 0; k < numberOfComponents; ++k) {\n          pointer[view.index + k] = values[j * numberOfComponents + k];\n        }\n\n        view.index += view.strideInComponentType;\n      }\n    }\n\n    return {\n      buffer: buffer,\n      offsetsInBytes: offsetsInBytes,\n      vertexSizeInBytes: vertexSizeInBytes,\n    };\n  }\n\n  // No attributes to interleave.\n  return undefined;\n}\n\n/**\n * Creates a vertex array from a geometry.  A geometry contains vertex attributes and optional index data\n * in system memory, whereas a vertex array contains vertex buffers and an optional index buffer in WebGL\n * memory for use with rendering.\n * <br /><br />\n * The <code>geometry</code> argument should use the standard layout like the geometry returned by {@link BoxGeometry}.\n * <br /><br />\n * <code>options</code> can have four properties:\n * <ul>\n *   <li><code>geometry</code>:  The source geometry containing data used to create the vertex array.</li>\n *   <li><code>attributeLocations</code>:  An object that maps geometry attribute names to vertex shader attribute locations.</li>\n *   <li><code>bufferUsage</code>:  The expected usage pattern of the vertex array's buffers.  On some WebGL implementations, this can significantly affect performance.  See {@link BufferUsage}.  Default: <code>BufferUsage.DYNAMIC_DRAW</code>.</li>\n *   <li><code>interleave</code>:  Determines if all attributes are interleaved in a single vertex buffer or if each attribute is stored in a separate vertex buffer.  Default: <code>false</code>.</li>\n * </ul>\n * <br />\n * If <code>options</code> is not specified or the <code>geometry</code> contains no data, the returned vertex array is empty.\n *\n * @param {object} options An object defining the geometry, attribute indices, buffer usage, and vertex layout used to create the vertex array.\n *\n * @exception {RuntimeError} Each attribute list must have the same number of vertices.\n * @exception {DeveloperError} The geometry must have zero or one index lists.\n * @exception {DeveloperError} Index n is used by more than one attribute.\n *\n *\n * @example\n * // Example 1. Creates a vertex array for rendering a box.  The default dynamic draw\n * // usage is used for the created vertex and index buffer.  The attributes are not\n * // interleaved by default.\n * const geometry = new BoxGeometry();\n * const va = VertexArray.fromGeometry({\n *     context            : context,\n *     geometry           : geometry,\n *     attributeLocations : GeometryPipeline.createAttributeLocations(geometry),\n * });\n *\n * @example\n * // Example 2. Creates a vertex array with interleaved attributes in a\n * // single vertex buffer.  The vertex and index buffer have static draw usage.\n * const va = VertexArray.fromGeometry({\n *     context            : context,\n *     geometry           : geometry,\n *     attributeLocations : GeometryPipeline.createAttributeLocations(geometry),\n *     bufferUsage        : BufferUsage.STATIC_DRAW,\n *     interleave         : true\n * });\n *\n * @example\n * // Example 3.  When the caller destroys the vertex array, it also destroys the\n * // attached vertex buffer(s) and index buffer.\n * va = va.destroy();\n *\n * @see Buffer#createVertexBuffer\n * @see Buffer#createIndexBuffer\n * @see GeometryPipeline.createAttributeLocations\n * @see ShaderProgram\n */\nVertexArray.fromGeometry = function (options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options.context\", options.context);\n  //>>includeEnd('debug');\n\n  const context = options.context;\n  const geometry = options.geometry ?? Frozen.EMPTY_OBJECT;\n\n  const bufferUsage = options.bufferUsage ?? BufferUsage.DYNAMIC_DRAW;\n\n  const attributeLocations = options.attributeLocations ?? Frozen.EMPTY_OBJECT;\n  const interleave = options.interleave ?? false;\n  const createdVAAttributes = options.vertexArrayAttributes;\n\n  let name;\n  let attribute;\n  let vertexBuffer;\n  const vaAttributes = defined(createdVAAttributes) ? createdVAAttributes : [];\n  const attributes = geometry.attributes;\n\n  if (interleave) {\n    // Use a single vertex buffer with interleaved vertices.\n    const interleavedAttributes = interleaveAttributes(attributes);\n    if (defined(interleavedAttributes)) {\n      vertexBuffer = Buffer.createVertexBuffer({\n        context: context,\n        typedArray: interleavedAttributes.buffer,\n        usage: bufferUsage,\n      });\n      const offsetsInBytes = interleavedAttributes.offsetsInBytes;\n      const strideInBytes = interleavedAttributes.vertexSizeInBytes;\n\n      for (name in attributes) {\n        if (attributes.hasOwnProperty(name) && defined(attributes[name])) {\n          attribute = attributes[name];\n\n          if (defined(attribute.values)) {\n            // Common case: per-vertex attributes\n            vaAttributes.push({\n              index: attributeLocations[name],\n              vertexBuffer: vertexBuffer,\n              componentDatatype: attribute.componentDatatype,\n              componentsPerAttribute: attribute.componentsPerAttribute,\n              normalize: attribute.normalize,\n              offsetInBytes: offsetsInBytes[name],\n              strideInBytes: strideInBytes,\n            });\n          } else {\n            // Constant attribute for all vertices\n            vaAttributes.push({\n              index: attributeLocations[name],\n              value: attribute.value,\n              componentDatatype: attribute.componentDatatype,\n              normalize: attribute.normalize,\n            });\n          }\n        }\n      }\n    }\n  } else {\n    // One vertex buffer per attribute.\n    for (name in attributes) {\n      if (attributes.hasOwnProperty(name) && defined(attributes[name])) {\n        attribute = attributes[name];\n\n        let componentDatatype = attribute.componentDatatype;\n        if (componentDatatype === ComponentDatatype.DOUBLE) {\n          componentDatatype = ComponentDatatype.FLOAT;\n        }\n\n        let attrProps = {};\n        vertexBuffer = undefined;\n        if (defined(attribute.values)) {\n          vertexBuffer = Buffer.createVertexBuffer({\n            context: context,\n            typedArray: ComponentDatatype.createTypedArray(\n              componentDatatype,\n              attribute.values,\n            ),\n            usage: bufferUsage,\n          });\n\n          attrProps = {\n            index: attributeLocations[name],\n            vertexBuffer: vertexBuffer,\n            value: attribute.value,\n            componentDatatype: componentDatatype,\n            componentsPerAttribute: attribute.componentsPerAttribute,\n            normalize: attribute.normalize,\n          };\n        }\n\n        //if we already have a typedArray lets use it\n        if (defined(attribute.typedArray)) {\n          vertexBuffer = Buffer.createVertexBuffer({\n            context: context,\n            typedArray: attribute.typedArray,\n            usage: bufferUsage,\n          });\n\n          attrProps = {\n            index: attributeLocations[name],\n            vertexBuffer: vertexBuffer,\n            value: undefined,\n            componentDatatype: componentDatatype,\n            componentsPerAttribute: AttributeType.getNumberOfComponents(\n              attribute.type,\n            ),\n            normalize: attribute.normalized,\n            instanceDivisor: attribute.instanceDivisor,\n          };\n        }\n\n        vaAttributes.push(attrProps);\n      }\n    }\n  }\n\n  let indexBuffer;\n  const indices = geometry.indices;\n  if (defined(indices)) {\n    if (\n      Geometry.computeNumberOfVertices(geometry) >=\n        CesiumMath.SIXTY_FOUR_KILOBYTES &&\n      context.elementIndexUint\n    ) {\n      indexBuffer = Buffer.createIndexBuffer({\n        context: context,\n        typedArray: new Uint32Array(indices),\n        usage: bufferUsage,\n        indexDatatype: IndexDatatype.UNSIGNED_INT,\n      });\n    } else {\n      indexBuffer = Buffer.createIndexBuffer({\n        context: context,\n        typedArray: new Uint16Array(indices),\n        usage: bufferUsage,\n        indexDatatype: IndexDatatype.UNSIGNED_SHORT,\n      });\n    }\n  }\n\n  return new VertexArray({\n    context: context,\n    attributes: vaAttributes,\n    indexBuffer: indexBuffer,\n  });\n};\n\nObject.defineProperties(VertexArray.prototype, {\n  numberOfAttributes: {\n    get: function () {\n      return this._attributes.length;\n    },\n  },\n  numberOfVertices: {\n    get: function () {\n      return this._numberOfVertices;\n    },\n  },\n  indexBuffer: {\n    get: function () {\n      return this._indexBuffer;\n    },\n  },\n});\n\n/**\n * index is the location in the array of attributes, not the index property of an attribute.\n */\nVertexArray.prototype.getAttribute = function (index) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"index\", index);\n  //>>includeEnd('debug');\n\n  return this._attributes[index];\n};\n\n// Workaround for ANGLE, where the attribute divisor seems to be part of the global state instead\n// of the VAO state. This function is called when the vao is bound, and should be removed\n// once the ANGLE issue is resolved. Setting the divisor should normally happen in vertexAttrib and\n// disableVertexAttribArray.\nfunction setVertexAttribDivisor(vertexArray) {\n  const context = vertexArray._context;\n  const hasInstancedAttributes = vertexArray._hasInstancedAttributes;\n  if (!hasInstancedAttributes && !context._previousDrawInstanced) {\n    return;\n  }\n  context._previousDrawInstanced = hasInstancedAttributes;\n\n  const divisors = context._vertexAttribDivisors;\n  const attributes = vertexArray._attributes;\n  const maxAttributes = ContextLimits.maximumVertexAttributes;\n  let i;\n\n  if (hasInstancedAttributes) {\n    const length = attributes.length;\n    for (i = 0; i < length; ++i) {\n      const attribute = attributes[i];\n      if (attribute.enabled) {\n        const divisor = attribute.instanceDivisor;\n        const index = attribute.index;\n        if (divisor !== divisors[index]) {\n          context.glVertexAttribDivisor(index, divisor);\n          divisors[index] = divisor;\n        }\n      }\n    }\n  } else {\n    for (i = 0; i < maxAttributes; ++i) {\n      if (divisors[i] > 0) {\n        context.glVertexAttribDivisor(i, 0);\n        divisors[i] = 0;\n      }\n    }\n  }\n}\n\n// Vertex attributes backed by a constant value go through vertexAttrib[1234]f[v]\n// which is part of context state rather than VAO state.\nfunction setConstantAttributes(vertexArray, gl) {\n  const attributes = vertexArray._attributes;\n  const length = attributes.length;\n  for (let i = 0; i < length; ++i) {\n    const attribute = attributes[i];\n    if (attribute.enabled && defined(attribute.value)) {\n      attribute.vertexAttrib(gl);\n    }\n  }\n}\n\nVertexArray.prototype._bind = function () {\n  if (defined(this._vao)) {\n    this._context.glBindVertexArray(this._vao);\n    if (this._context.instancedArrays) {\n      setVertexAttribDivisor(this);\n    }\n    if (this._hasConstantAttributes) {\n      setConstantAttributes(this, this._gl);\n    }\n  } else {\n    bind(this._gl, this._attributes, this._indexBuffer);\n  }\n};\n\nVertexArray.prototype._unBind = function () {\n  if (defined(this._vao)) {\n    this._context.glBindVertexArray(null);\n  } else {\n    const attributes = this._attributes;\n    const gl = this._gl;\n\n    for (let i = 0; i < attributes.length; ++i) {\n      const attribute = attributes[i];\n      if (attribute.enabled) {\n        attribute.disableVertexAttribArray(gl);\n      }\n    }\n    if (this._indexBuffer) {\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n    }\n  }\n};\n\nVertexArray.prototype.isDestroyed = function () {\n  return false;\n};\n\nVertexArray.prototype.destroy = function () {\n  const attributes = this._attributes;\n  for (let i = 0; i < attributes.length; ++i) {\n    const vertexBuffer = attributes[i].vertexBuffer;\n    if (\n      defined(vertexBuffer) &&\n      !vertexBuffer.isDestroyed() &&\n      vertexBuffer.vertexArrayDestroyable\n    ) {\n      vertexBuffer.destroy();\n    }\n  }\n\n  const indexBuffer = this._indexBuffer;\n  if (\n    defined(indexBuffer) &&\n    !indexBuffer.isDestroyed() &&\n    indexBuffer.vertexArrayDestroyable\n  ) {\n    indexBuffer.destroy();\n  }\n\n  if (defined(this._vao)) {\n    this._context.glDeleteVertexArray(this._vao);\n  }\n\n  return destroyObject(this);\n};\nexport default VertexArray;\n"],"names":["addAttribute","attributes","attribute","index","context","hasVertexBuffer","vertexBuffer","hasValue","value","componentsPerAttribute","length","componentDatatype","validate","strideInBytes","instanceDivisor","instancedArrays","attr","enabled","slice","undefined","FLOAT","normalize","offsetInBytes","vertexAttrib","gl","bindBuffer","ARRAY_BUFFER","_getBuffer","vertexAttribPointer","enableVertexAttribArray","glVertexAttribDivisor","_vertexAttribDivisors","_previousDrawInstanced","disableVertexAttribArray","vertexAttrib1fv","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","push","bind","indexBuffer","i","ELEMENT_ARRAY_BUFFER","VertexArray","options","EMPTY_OBJECT","defined","_gl","vaAttributes","numberOfVertices","hasInstancedAttributes","hasConstantAttributes","bytes","getSizeInBytes","sizeInBytes","uniqueIndices","vao","vertexArrayObject","glCreateVertexArray","glBindVertexArray","_numberOfVertices","_hasInstancedAttributes","_hasConstantAttributes","_context","_vao","_attributes","_indexBuffer","computeNumberOfVertices","values","computeAttributeSizeInBytes","interleaveAttributes","j","name","names","hasOwnProperty","DOUBLE","createTypedArray","namesLength","currentNumberOfVertices","toString","sort","left","right","vertexSizeInBytes","offsetsInBytes","maxComponentSizeInBytes","remainder","vertexBufferSizeInBytes","buffer","ArrayBuffer","views","pointer","strideInComponentType","n","view","numberOfComponents","k","fromGeometry","geometry","bufferUsage","DYNAMIC_DRAW","attributeLocations","interleave","createdVAAttributes","vertexArrayAttributes","interleavedAttributes","createVertexBuffer","typedArray","usage","attrProps","getNumberOfComponents","type","normalized","indices","SIXTY_FOUR_KILOBYTES","elementIndexUint","createIndexBuffer","Uint32Array","indexDatatype","UNSIGNED_INT","Uint16Array","UNSIGNED_SHORT","Object","defineProperties","prototype","numberOfAttributes","get","getAttribute","setVertexAttribDivisor","vertexArray","divisors","maxAttributes","maximumVertexAttributes","divisor","setConstantAttributes","_bind","_unBind","isDestroyed","destroy","vertexArrayDestroyable","glDeleteVertexArray"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 7147, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/CubeMap.js"],"sourcesContent":["import BoxGeometry from \"../Core/BoxGeometry.js\";\nimport Cartesian3 from \"../Core/Cartesian3.js\";\nimport Check from \"../Core/Check.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport GeometryPipeline from \"../Core/GeometryPipeline.js\";\nimport CesiumMath from \"../Core/Math.js\";\nimport PixelFormat from \"../Core/PixelFormat.js\";\nimport VertexFormat from \"../Core/VertexFormat.js\";\nimport BufferUsage from \"./BufferUsage.js\";\nimport ContextLimits from \"./ContextLimits.js\";\nimport CubeMapFace from \"./CubeMapFace.js\";\nimport Framebuffer from \"./Framebuffer.js\";\nimport MipmapHint from \"./MipmapHint.js\";\nimport PixelDatatype from \"./PixelDatatype.js\";\nimport Sampler from \"./Sampler.js\";\nimport TextureMagnificationFilter from \"./TextureMagnificationFilter.js\";\nimport TextureMinificationFilter from \"./TextureMinificationFilter.js\";\nimport VertexArray from \"./VertexArray.js\";\n\n/**\n * @typedef CubeMap.BufferSource\n *\n * @property {TypedArray} arrayBufferView A view of a binary data buffer containing pixel values.\n * @property {number} width The width of one face of the cube map, in pixels. Must be equal to height.\n * @property {number} height The height of one face of the cube map, in pixels. Must be equal to width.\n *\n * @private\n */\n\n/**\n * @typedef CubeMap.Source\n *\n * @property {ImageData|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement|CubeMap.BufferSource} positiveX\n * @property {ImageData|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement|CubeMap.BufferSource} negativeX\n * @property {ImageData|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement|CubeMap.BufferSource} positiveY\n * @property {ImageData|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement|CubeMap.BufferSource} negativeY\n * @property {ImageData|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement|CubeMap.BufferSource} positiveZ\n * @property {ImageData|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement|CubeMap.BufferSource} negativeZ\n */\n\n/**\n * @typedef CubeMap.ConstructorOptions\n *\n * @property {Context} context\n * @property {CubeMap.Source} [source] The source for texel values to be loaded into the texture.\n * @property {PixelFormat} [pixelFormat=PixelFormat.RGBA] The format of each pixel, i.e., the number of components it has and what they represent.\n * @property {PixelDatatype} [pixelDatatype=PixelDatatype.UNSIGNED_BYTE] The data type of each pixel.\n * @property {boolean} [flipY=true] If true, the source values will be read as if the y-axis is inverted (y=0 at the top).\n * @property {boolean} [skipColorSpaceConversion=false] If true, color space conversions will be skipped when reading the texel values.\n * @property {Sampler} [sampler] Information about how to sample the cubemap texture.\n * @property {number} [width] The pixel width of the texture. If not supplied, must be available from the source. Must be equal to height.\n * @property {number} [height] The pixel height of the texture. If not supplied, must be available from the source. Must be equal to width.\n * @property {boolean} [preMultiplyAlpha] If true, the alpha channel will be multiplied into the other channels.\n *\n * @private\n */\n\n/**\n * A wrapper for a {@link https://developer.mozilla.org/en-US/docs/Web/API/WebGLTexture|WebGLTexture}\n * used as a cube map, to abstract away the verbose GL calls associated with setting up a texture.\n *\n * @alias CubeMap\n * @constructor\n *\n * @param {CubeMap.ConstructorOptions} options An object describing initialization options.\n * @private\n */\nfunction CubeMap(options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options.context\", options.context);\n  //>>includeEnd('debug');\n\n  const {\n    context,\n    source,\n    pixelFormat = PixelFormat.RGBA,\n    pixelDatatype = PixelDatatype.UNSIGNED_BYTE,\n    flipY = true,\n    skipColorSpaceConversion = false,\n    sampler = new Sampler(),\n  } = options;\n\n  // Use premultiplied alpha for opaque textures should perform better on Chrome:\n  // http://media.tojicode.com/webglCamp4/#20\n  const preMultiplyAlpha =\n    options.preMultiplyAlpha ||\n    pixelFormat === PixelFormat.RGB ||\n    pixelFormat === PixelFormat.LUMINANCE;\n\n  let { width, height } = options;\n\n  if (defined(source)) {\n    //>>includeStart('debug', pragmas.debug);\n    if (\n      !Object.values(CubeMap.FaceName).every((faceName) =>\n        defined(source[faceName]),\n      )\n    ) {\n      throw new DeveloperError(\n        `options.source requires faces ${Object.values(CubeMap.FaceName).join(\n          \", \",\n        )}.`,\n      );\n    }\n    //>>includeEnd('debug');\n\n    ({ width, height } = source.positiveX);\n\n    //>>includeStart('debug', pragmas.debug);\n    for (const faceName of CubeMap.faceNames()) {\n      const face = source[faceName];\n      if (Number(face.width) !== width || Number(face.height) !== height) {\n        throw new DeveloperError(\n          \"Each face in options.source must have the same width and height.\",\n        );\n      }\n    }\n    //>>includeEnd('debug');\n  }\n\n  const size = width;\n\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(width) || !defined(height)) {\n    throw new DeveloperError(\n      \"options requires a source field to create an initialized cube map or width and height fields to create a blank cube map.\",\n    );\n  }\n\n  if (width !== height) {\n    throw new DeveloperError(\"Width must equal height.\");\n  }\n\n  if (size <= 0) {\n    throw new DeveloperError(\"Width and height must be greater than zero.\");\n  }\n\n  if (size > ContextLimits.maximumCubeMapSize) {\n    throw new DeveloperError(\n      `Width and height must be less than or equal to the maximum cube map size (${ContextLimits.maximumCubeMapSize}). Check maximumCubeMapSize.`,\n    );\n  }\n\n  if (!PixelFormat.validate(pixelFormat)) {\n    throw new DeveloperError(\"Invalid options.pixelFormat.\");\n  }\n\n  if (PixelFormat.isDepthFormat(pixelFormat)) {\n    throw new DeveloperError(\n      \"options.pixelFormat cannot be DEPTH_COMPONENT or DEPTH_STENCIL.\",\n    );\n  }\n\n  if (!PixelDatatype.validate(pixelDatatype)) {\n    throw new DeveloperError(\"Invalid options.pixelDatatype.\");\n  }\n\n  if (pixelDatatype === PixelDatatype.FLOAT && !context.floatingPointTexture) {\n    throw new DeveloperError(\n      \"When options.pixelDatatype is FLOAT, this WebGL implementation must support the OES_texture_float extension.\",\n    );\n  }\n\n  if (\n    pixelDatatype === PixelDatatype.HALF_FLOAT &&\n    !context.halfFloatingPointTexture\n  ) {\n    throw new DeveloperError(\n      \"When options.pixelDatatype is HALF_FLOAT, this WebGL implementation must support the OES_texture_half_float extension.\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  const sizeInBytes =\n    PixelFormat.textureSizeInBytes(pixelFormat, pixelDatatype, size, size) * 6;\n  const internalFormat = PixelFormat.toInternalFormat(\n    pixelFormat,\n    pixelDatatype,\n    context,\n  );\n\n  const gl = context._gl;\n  const textureTarget = gl.TEXTURE_CUBE_MAP;\n  const texture = gl.createTexture();\n\n  this._context = context;\n  this._textureFilterAnisotropic = context._textureFilterAnisotropic;\n  this._textureTarget = textureTarget;\n  this._texture = texture;\n  this._pixelFormat = pixelFormat;\n  this._pixelDatatype = pixelDatatype;\n  this._size = size;\n  this._hasMipmap = false;\n  this._sizeInBytes = sizeInBytes;\n  this._preMultiplyAlpha = preMultiplyAlpha;\n  this._flipY = flipY;\n\n  const initialized = defined(source);\n  function constructFace(targetFace) {\n    return new CubeMapFace(\n      context,\n      texture,\n      textureTarget,\n      targetFace,\n      internalFormat,\n      pixelFormat,\n      pixelDatatype,\n      size,\n      preMultiplyAlpha,\n      flipY,\n      initialized,\n    );\n  }\n  this._positiveX = constructFace(gl.TEXTURE_CUBE_MAP_POSITIVE_X);\n  this._negativeX = constructFace(gl.TEXTURE_CUBE_MAP_NEGATIVE_X);\n  this._positiveY = constructFace(gl.TEXTURE_CUBE_MAP_POSITIVE_Y);\n  this._negativeY = constructFace(gl.TEXTURE_CUBE_MAP_NEGATIVE_Y);\n  this._positiveZ = constructFace(gl.TEXTURE_CUBE_MAP_POSITIVE_Z);\n  this._negativeZ = constructFace(gl.TEXTURE_CUBE_MAP_NEGATIVE_Z);\n\n  this._sampler = sampler;\n  setupSampler(this, sampler);\n\n  gl.activeTexture(gl.TEXTURE0);\n  gl.bindTexture(textureTarget, texture);\n\n  if (skipColorSpaceConversion) {\n    gl.pixelStorei(gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, gl.NONE);\n  } else {\n    gl.pixelStorei(\n      gl.UNPACK_COLORSPACE_CONVERSION_WEBGL,\n      gl.BROWSER_DEFAULT_WEBGL,\n    );\n  }\n\n  for (const faceName of CubeMap.faceNames()) {\n    loadFace(this[faceName], source?.[faceName], 0);\n  }\n\n  gl.bindTexture(textureTarget, null);\n}\n\n/**\n * Copy an existing texture to a cubemap face.\n * @param {FrameState} frameState The current rendering frameState\n * @param {Texture} texture Texture being copied\n * @param {CubeMap.FaceName} face The face to which to copy\n * @param {number} [mipLevel=0] The mip level at which to copy\n */\nCubeMap.prototype.copyFace = function (frameState, texture, face, mipLevel) {\n  const context = frameState.context;\n  const framebuffer = new Framebuffer({\n    context: context,\n    colorTextures: [texture],\n    destroyAttachments: false,\n  });\n\n  framebuffer._bind();\n\n  this[face].copyMipmapFromFramebuffer(\n    0,\n    0,\n    texture.width,\n    texture.height,\n    mipLevel ?? 0,\n  );\n  framebuffer._unBind();\n  framebuffer.destroy();\n};\n\n/**\n * An enum defining the names of the faces of a cube map.\n * @alias {CubeMap.FaceName}\n * @enum {string}\n * @private\n */\nCubeMap.FaceName = Object.freeze({\n  POSITIVEX: \"positiveX\",\n  NEGATIVEX: \"negativeX\",\n  POSITIVEY: \"positiveY\",\n  NEGATIVEY: \"negativeY\",\n  POSITIVEZ: \"positiveZ\",\n  NEGATIVEZ: \"negativeZ\",\n});\n\nfunction* makeFaceNamesIterator() {\n  yield CubeMap.FaceName.POSITIVEX;\n  yield CubeMap.FaceName.NEGATIVEX;\n  yield CubeMap.FaceName.POSITIVEY;\n  yield CubeMap.FaceName.NEGATIVEY;\n  yield CubeMap.FaceName.POSITIVEZ;\n  yield CubeMap.FaceName.NEGATIVEZ;\n}\n\n/**\n * Creates an iterator for looping over the cubemap faces.\n * @type {Iterable<CubeMap.FaceName>}\n * @private\n */\nCubeMap.faceNames = function () {\n  return makeFaceNamesIterator();\n};\n\n/**\n * Load texel data into one face of a cube map.\n * @param {CubeMapFace} cubeMapFace The face to which texel values will be loaded.\n * @param {ImageData|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement|CubeMap.BufferSource} [source] The source for texel values to be loaded into the texture.\n * @param {number} [mipLevel=0] The mip level to which the texel values will be loaded.\n * @private\n */\nfunction loadFace(cubeMapFace, source, mipLevel) {\n  mipLevel = mipLevel ?? 0;\n  const targetFace = cubeMapFace._targetFace;\n  const size = Math.max(Math.floor(cubeMapFace._size / 2 ** mipLevel), 1);\n  const pixelFormat = cubeMapFace._pixelFormat;\n  const pixelDatatype = cubeMapFace._pixelDatatype;\n  const internalFormat = cubeMapFace._internalFormat;\n  const flipY = cubeMapFace._flipY;\n  const preMultiplyAlpha = cubeMapFace._preMultiplyAlpha;\n  const context = cubeMapFace._context;\n  const gl = context._gl;\n\n  if (!defined(source)) {\n    gl.texImage2D(\n      targetFace,\n      mipLevel,\n      internalFormat,\n      size,\n      size,\n      0,\n      pixelFormat,\n      PixelDatatype.toWebGLConstant(pixelDatatype, context),\n      null,\n    );\n    return;\n  }\n\n  let { arrayBufferView } = source;\n\n  let unpackAlignment = 4;\n  if (defined(arrayBufferView)) {\n    unpackAlignment = PixelFormat.alignmentInBytes(\n      pixelFormat,\n      pixelDatatype,\n      size,\n    );\n  }\n  gl.pixelStorei(gl.UNPACK_ALIGNMENT, unpackAlignment);\n\n  if (defined(arrayBufferView)) {\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    if (flipY) {\n      arrayBufferView = PixelFormat.flipY(\n        arrayBufferView,\n        pixelFormat,\n        pixelDatatype,\n        size,\n        size,\n      );\n    }\n    gl.texImage2D(\n      targetFace,\n      mipLevel,\n      internalFormat,\n      size,\n      size,\n      0,\n      pixelFormat,\n      PixelDatatype.toWebGLConstant(pixelDatatype, context),\n      arrayBufferView,\n    );\n  } else {\n    // Only valid for DOM-Element uploads\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, preMultiplyAlpha);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flipY);\n    gl.texImage2D(\n      targetFace,\n      mipLevel,\n      internalFormat,\n      pixelFormat,\n      PixelDatatype.toWebGLConstant(pixelDatatype, context),\n      source,\n    );\n  }\n}\n\nCubeMap.loadFace = loadFace;\n\nObject.defineProperties(CubeMap.prototype, {\n  positiveX: {\n    get: function () {\n      return this._positiveX;\n    },\n  },\n  negativeX: {\n    get: function () {\n      return this._negativeX;\n    },\n  },\n  positiveY: {\n    get: function () {\n      return this._positiveY;\n    },\n  },\n  negativeY: {\n    get: function () {\n      return this._negativeY;\n    },\n  },\n  positiveZ: {\n    get: function () {\n      return this._positiveZ;\n    },\n  },\n  negativeZ: {\n    get: function () {\n      return this._negativeZ;\n    },\n  },\n  sampler: {\n    get: function () {\n      return this._sampler;\n    },\n    set: function (sampler) {\n      setupSampler(this, sampler);\n      this._sampler = sampler;\n    },\n  },\n  pixelFormat: {\n    get: function () {\n      return this._pixelFormat;\n    },\n  },\n  pixelDatatype: {\n    get: function () {\n      return this._pixelDatatype;\n    },\n  },\n  width: {\n    get: function () {\n      return this._size;\n    },\n  },\n  height: {\n    get: function () {\n      return this._size;\n    },\n  },\n  sizeInBytes: {\n    get: function () {\n      if (this._hasMipmap) {\n        return Math.floor((this._sizeInBytes * 4) / 3);\n      }\n      return this._sizeInBytes;\n    },\n  },\n  preMultiplyAlpha: {\n    get: function () {\n      return this._preMultiplyAlpha;\n    },\n  },\n  flipY: {\n    get: function () {\n      return this._flipY;\n    },\n  },\n\n  _target: {\n    get: function () {\n      return this._textureTarget;\n    },\n  },\n});\n\n/**\n * Get a vector representing the cubemap face direction\n * @param {CubeMap.FaceName} face The relevant face\n * @param {Cartesian3} [result] The object onto which to store the result.\n * @returns {Cartesian3} The vector representing the cubemap face direction\n */\nCubeMap.getDirection = function (face, result) {\n  switch (face) {\n    case CubeMap.FaceName.POSITIVEX:\n      return Cartesian3.clone(Cartesian3.UNIT_X, result);\n    case CubeMap.FaceName.NEGATIVEX:\n      return Cartesian3.negate(Cartesian3.UNIT_X, result);\n    case CubeMap.FaceName.POSITIVEY:\n      return Cartesian3.clone(Cartesian3.UNIT_Y, result);\n    case CubeMap.FaceName.NEGATIVEY:\n      return Cartesian3.negate(Cartesian3.UNIT_Y, result);\n    case CubeMap.FaceName.POSITIVEZ:\n      return Cartesian3.clone(Cartesian3.UNIT_Z, result);\n    case CubeMap.FaceName.NEGATIVEZ:\n      return Cartesian3.negate(Cartesian3.UNIT_Z, result);\n  }\n};\n\n/**\n * Set up a sampler for use with a cube map.\n * @param {CubeMap} cubeMap The cube map containing the texture to be sampled by this sampler.\n * @param {Sampler} sampler Information about how to sample the cubemap texture.\n * @private\n */\nfunction setupSampler(cubeMap, sampler) {\n  let { minificationFilter, magnificationFilter } = sampler;\n\n  const mipmap = [\n    TextureMinificationFilter.NEAREST_MIPMAP_NEAREST,\n    TextureMinificationFilter.NEAREST_MIPMAP_LINEAR,\n    TextureMinificationFilter.LINEAR_MIPMAP_NEAREST,\n    TextureMinificationFilter.LINEAR_MIPMAP_LINEAR,\n  ].includes(minificationFilter);\n\n  const context = cubeMap._context;\n  const pixelDatatype = cubeMap._pixelDatatype;\n\n  // float textures only support nearest filtering unless the linear extensions are supported\n  if (\n    (pixelDatatype === PixelDatatype.FLOAT && !context.textureFloatLinear) ||\n    (pixelDatatype === PixelDatatype.HALF_FLOAT &&\n      !context.textureHalfFloatLinear)\n  ) {\n    // override the sampler's settings\n    minificationFilter = mipmap\n      ? TextureMinificationFilter.NEAREST_MIPMAP_NEAREST\n      : TextureMinificationFilter.NEAREST;\n    magnificationFilter = TextureMagnificationFilter.NEAREST;\n  }\n\n  const gl = context._gl;\n  const target = cubeMap._textureTarget;\n\n  gl.activeTexture(gl.TEXTURE0);\n  gl.bindTexture(target, cubeMap._texture);\n  gl.texParameteri(target, gl.TEXTURE_MIN_FILTER, minificationFilter);\n  gl.texParameteri(target, gl.TEXTURE_MAG_FILTER, magnificationFilter);\n  gl.texParameteri(target, gl.TEXTURE_WRAP_S, sampler.wrapS);\n  gl.texParameteri(target, gl.TEXTURE_WRAP_T, sampler.wrapT);\n  if (defined(cubeMap._textureFilterAnisotropic)) {\n    gl.texParameteri(\n      target,\n      cubeMap._textureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,\n      sampler.maximumAnisotropy,\n    );\n  }\n  gl.bindTexture(target, null);\n}\n\n/**\n * Load a complete mipmap chain for each cubemap face.\n *\n * @param {CubeMap.Source[]} source The source data for each mip level, beginning at level 1.\n * @param {boolean} [skipColorSpaceConversion=false] If true, color space conversions will be skipped when reading the texel values.\n *\n * @private\n */\nCubeMap.prototype.loadMipmaps = function (source, skipColorSpaceConversion) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"source\", source);\n  if (!Array.isArray(source)) {\n    throw new DeveloperError(`source must be an array`);\n  }\n  const mipCount = Math.log2(this._size);\n  if (source.length !== mipCount) {\n    throw new DeveloperError(`all mip levels must be defined`);\n  }\n  //>>includeEnd('debug');\n\n  skipColorSpaceConversion = skipColorSpaceConversion ?? false;\n  const gl = this._context._gl;\n  const texture = this._texture;\n  const textureTarget = this._textureTarget;\n\n  gl.activeTexture(gl.TEXTURE0);\n  gl.bindTexture(textureTarget, texture);\n\n  if (skipColorSpaceConversion) {\n    gl.pixelStorei(gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, gl.NONE);\n  } else {\n    gl.pixelStorei(\n      gl.UNPACK_COLORSPACE_CONVERSION_WEBGL,\n      gl.BROWSER_DEFAULT_WEBGL,\n    );\n  }\n\n  for (let i = 0; i < source.length; i++) {\n    const mipSource = source[i];\n    // mipLevel 0 was the base layer, already loaded when the CubeMap was constructed.\n    const mipLevel = i + 1;\n    for (const faceName of CubeMap.faceNames()) {\n      loadFace(this[faceName], mipSource[faceName], mipLevel);\n    }\n  }\n\n  gl.bindTexture(textureTarget, null);\n\n  this._hasMipmap = true;\n};\n\n/**\n * Generates a complete mipmap chain for each cubemap face.\n *\n * @param {MipmapHint} [hint=MipmapHint.DONT_CARE] A performance vs. quality hint.\n *\n * @exception {DeveloperError} hint is invalid.\n * @exception {DeveloperError} This CubeMap's width must be a power of two to call generateMipmap().\n * @exception {DeveloperError} This CubeMap's height must be a power of two to call generateMipmap().\n * @exception {DeveloperError} This CubeMap was destroyed, i.e., destroy() was called.\n *\n * @example\n * // Generate mipmaps, and then set the sampler so mipmaps are used for\n * // minification when the cube map is sampled.\n * cubeMap.generateMipmap();\n * cubeMap.sampler = new Sampler({\n *   minificationFilter : Cesium.TextureMinificationFilter.NEAREST_MIPMAP_LINEAR\n * });\n */\nCubeMap.prototype.generateMipmap = function (hint) {\n  hint = hint ?? MipmapHint.DONT_CARE;\n\n  //>>includeStart('debug', pragmas.debug);\n  if (this._size > 1 && !CesiumMath.isPowerOfTwo(this._size)) {\n    throw new DeveloperError(\n      \"width and height must be a power of two to call generateMipmap().\",\n    );\n  }\n  if (!MipmapHint.validate(hint)) {\n    throw new DeveloperError(\"hint is invalid.\");\n  }\n  //>>includeEnd('debug');\n\n  this._hasMipmap = true;\n\n  const gl = this._context._gl;\n  const target = this._textureTarget;\n  gl.hint(gl.GENERATE_MIPMAP_HINT, hint);\n  gl.activeTexture(gl.TEXTURE0);\n  gl.bindTexture(target, this._texture);\n  gl.generateMipmap(target);\n  gl.bindTexture(target, null);\n};\n\n/**\n * Create a vertex array that can be used for cubemap shaders.\n * @param {Context} context The rendering context\n * @returns {VertexArray} The created vertex array\n */\nCubeMap.createVertexArray = function (context) {\n  const geometry = BoxGeometry.createGeometry(\n    BoxGeometry.fromDimensions({\n      dimensions: new Cartesian3(2.0, 2.0, 2.0),\n      vertexFormat: VertexFormat.POSITION_ONLY,\n    }),\n  );\n  const attributeLocations = (this._attributeLocations =\n    GeometryPipeline.createAttributeLocations(geometry));\n\n  return VertexArray.fromGeometry({\n    context: context,\n    geometry: geometry,\n    attributeLocations: attributeLocations,\n    bufferUsage: BufferUsage.STATIC_DRAW,\n  });\n};\n\nCubeMap.prototype.isDestroyed = function () {\n  return false;\n};\n\nCubeMap.prototype.destroy = function () {\n  this._context._gl.deleteTexture(this._texture);\n  this._positiveX = destroyObject(this._positiveX);\n  this._negativeX = destroyObject(this._negativeX);\n  this._positiveY = destroyObject(this._positiveY);\n  this._negativeY = destroyObject(this._negativeY);\n  this._positiveZ = destroyObject(this._positiveZ);\n  this._negativeZ = destroyObject(this._negativeZ);\n  return destroyObject(this);\n};\nexport default CubeMap;\n"],"names":["CubeMap","options","EMPTY_OBJECT","defined","context","source","pixelFormat","RGBA","pixelDatatype","UNSIGNED_BYTE","flipY","skipColorSpaceConversion","sampler","preMultiplyAlpha","RGB","LUMINANCE","width","height","Object","values","FaceName","every","faceName","join","positiveX","faceNames","face","Number","size","maximumCubeMapSize","validate","isDepthFormat","FLOAT","floatingPointTexture","HALF_FLOAT","halfFloatingPointTexture","sizeInBytes","textureSizeInBytes","internalFormat","toInternalFormat","gl","_gl","textureTarget","TEXTURE_CUBE_MAP","texture","createTexture","_context","_textureFilterAnisotropic","_textureTarget","_texture","_pixelFormat","_pixelDatatype","_size","_hasMipmap","_sizeInBytes","_preMultiplyAlpha","_flipY","initialized","constructFace","targetFace","_positiveX","TEXTURE_CUBE_MAP_POSITIVE_X","_negativeX","TEXTURE_CUBE_MAP_NEGATIVE_X","_positiveY","TEXTURE_CUBE_MAP_POSITIVE_Y","_negativeY","TEXTURE_CUBE_MAP_NEGATIVE_Y","_positiveZ","TEXTURE_CUBE_MAP_POSITIVE_Z","_negativeZ","TEXTURE_CUBE_MAP_NEGATIVE_Z","_sampler","setupSampler","activeTexture","TEXTURE0","bindTexture","pixelStorei","UNPACK_COLORSPACE_CONVERSION_WEBGL","NONE","BROWSER_DEFAULT_WEBGL","loadFace","prototype","copyFace","frameState","mipLevel","framebuffer","colorTextures","destroyAttachments","_bind","copyMipmapFromFramebuffer","_unBind","destroy","freeze","POSITIVEX","NEGATIVEX","POSITIVEY","NEGATIVEY","POSITIVEZ","NEGATIVEZ","makeFaceNamesIterator","cubeMapFace","_targetFace","Math","max","floor","_internalFormat","texImage2D","toWebGLConstant","arrayBufferView","unpackAlignment","alignmentInBytes","UNPACK_ALIGNMENT","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_FLIP_Y_WEBGL","defineProperties","get","negativeX","positiveY","negativeY","positiveZ","negativeZ","set","_target","getDirection","result","clone","UNIT_X","negate","UNIT_Y","UNIT_Z","cubeMap","minificationFilter","magnificationFilter","mipmap","NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_NEAREST","LINEAR_MIPMAP_LINEAR","includes","textureFloatLinear","textureHalfFloatLinear","NEAREST","target","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","wrapS","TEXTURE_WRAP_T","wrapT","TEXTURE_MAX_ANISOTROPY_EXT","maximumAnisotropy","loadMipmaps","Array","isArray","mipCount","log2","length","i","mipSource","generateMipmap","hint","DONT_CARE","isPowerOfTwo","GENERATE_MIPMAP_HINT","createVertexArray","geometry","createGeometry","fromDimensions","dimensions","vertexFormat","POSITION_ONLY","attributeLocations","_attributeLocations","createAttributeLocations","fromGeometry","bufferUsage","STATIC_DRAW","isDestroyed","deleteTexture"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 7670, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/Texture.js"],"sourcesContent":["import Cartesian2 from \"../Core/Cartesian2.js\";\nimport Check from \"../Core/Check.js\";\nimport createGuid from \"../Core/createGuid.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport CesiumMath from \"../Core/Math.js\";\nimport PixelFormat from \"../Core/PixelFormat.js\";\nimport ContextLimits from \"./ContextLimits.js\";\nimport MipmapHint from \"./MipmapHint.js\";\nimport PixelDatatype from \"./PixelDatatype.js\";\nimport Sampler from \"./Sampler.js\";\nimport TextureMagnificationFilter from \"./TextureMagnificationFilter.js\";\nimport TextureMinificationFilter from \"./TextureMinificationFilter.js\";\n\n/**\n * @typedef {object} Texture.ConstructorOptions\n *\n * @property {Context} context\n * @property {object} [source] The source for texel values to be loaded into the texture. A {@link ImageData}, {@link HTMLImageElement}, {@link HTMLCanvasElement},\n *                        {@link HTMLVideoElement}, {@link OffscreenCanvas}, or {@link ImageBitmap},\n *                        or an object with width, height, and arrayBufferView properties.\n * @property {PixelFormat} [pixelFormat=PixelFormat.RGBA] The format of each pixel, i.e., the number of components it has and what they represent.\n * @property {PixelDatatype} [pixelDatatype=PixelDatatype.UNSIGNED_BYTE] The data type of each pixel.\n * @property {boolean} [flipY=true] If true, the source values will be read as if the y-axis is inverted (y=0 at the top).\n * @property {boolean} [skipColorSpaceConversion=false] If true, color space conversions will be skipped when reading the texel values.\n * @property {Sampler} [sampler] Information about how to sample the texture.\n * @property {number} [width] The pixel width of the texture. If not supplied, must be available from the source.\n * @property {number} [height] The pixel height of the texture. If not supplied, must be available from the source.\n * @property {boolean} [preMultiplyAlpha] If true, the alpha channel will be multiplied into the other channels.\n * @property {string} [id] A unique identifier for the texture. If this is not given, then a GUID will be created.\n *\n * @private\n */\n\n/**\n * A wrapper for a {@link https://developer.mozilla.org/en-US/docs/Web/API/WebGLTexture|WebGLTexture}\n * to abstract away the verbose GL calls associated with setting up a texture.\n *\n * @alias Texture\n * @constructor\n *\n * @param {Texture.ConstructorOptions} options\n * @private\n */\nfunction Texture(options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options.context\", options.context);\n  //>>includeEnd('debug');\n\n  const {\n    context,\n    source,\n    pixelFormat = PixelFormat.RGBA,\n    pixelDatatype = PixelDatatype.UNSIGNED_BYTE,\n    flipY = true,\n    skipColorSpaceConversion = false,\n    sampler = new Sampler(),\n  } = options;\n\n  let { width, height } = options;\n  if (defined(source)) {\n    // Make sure we are using the element's intrinsic width and height where available\n    if (!defined(width)) {\n      width = source.videoWidth ?? source.naturalWidth ?? source.width;\n    }\n    if (!defined(height)) {\n      height = source.videoHeight ?? source.naturalHeight ?? source.height;\n    }\n  }\n\n  // Use premultiplied alpha for opaque textures should perform better on Chrome:\n  // http://media.tojicode.com/webglCamp4/#20\n  const preMultiplyAlpha =\n    options.preMultiplyAlpha ||\n    pixelFormat === PixelFormat.RGB ||\n    pixelFormat === PixelFormat.LUMINANCE;\n\n  const internalFormat = PixelFormat.toInternalFormat(\n    pixelFormat,\n    pixelDatatype,\n    context,\n  );\n\n  const isCompressed = PixelFormat.isCompressedFormat(internalFormat);\n\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(width) || !defined(height)) {\n    throw new DeveloperError(\n      \"options requires a source field to create an initialized texture or width and height fields to create a blank texture.\",\n    );\n  }\n\n  Check.typeOf.number.greaterThan(\"width\", width, 0);\n\n  if (width > ContextLimits.maximumTextureSize) {\n    throw new DeveloperError(\n      `Width must be less than or equal to the maximum texture size (${ContextLimits.maximumTextureSize}).  Check maximumTextureSize.`,\n    );\n  }\n\n  Check.typeOf.number.greaterThan(\"height\", height, 0);\n\n  if (height > ContextLimits.maximumTextureSize) {\n    throw new DeveloperError(\n      `Height must be less than or equal to the maximum texture size (${ContextLimits.maximumTextureSize}).  Check maximumTextureSize.`,\n    );\n  }\n\n  if (!PixelFormat.validate(pixelFormat)) {\n    throw new DeveloperError(\"Invalid options.pixelFormat.\");\n  }\n\n  if (!isCompressed && !PixelDatatype.validate(pixelDatatype)) {\n    throw new DeveloperError(\"Invalid options.pixelDatatype.\");\n  }\n\n  if (\n    pixelFormat === PixelFormat.DEPTH_COMPONENT &&\n    pixelDatatype !== PixelDatatype.UNSIGNED_SHORT &&\n    pixelDatatype !== PixelDatatype.UNSIGNED_INT\n  ) {\n    throw new DeveloperError(\n      \"When options.pixelFormat is DEPTH_COMPONENT, options.pixelDatatype must be UNSIGNED_SHORT or UNSIGNED_INT.\",\n    );\n  }\n\n  if (\n    pixelFormat === PixelFormat.DEPTH_STENCIL &&\n    pixelDatatype !== PixelDatatype.UNSIGNED_INT_24_8\n  ) {\n    throw new DeveloperError(\n      \"When options.pixelFormat is DEPTH_STENCIL, options.pixelDatatype must be UNSIGNED_INT_24_8.\",\n    );\n  }\n\n  if (pixelDatatype === PixelDatatype.FLOAT && !context.floatingPointTexture) {\n    throw new DeveloperError(\n      \"When options.pixelDatatype is FLOAT, this WebGL implementation must support the OES_texture_float extension.  Check context.floatingPointTexture.\",\n    );\n  }\n\n  if (\n    pixelDatatype === PixelDatatype.HALF_FLOAT &&\n    !context.halfFloatingPointTexture\n  ) {\n    throw new DeveloperError(\n      \"When options.pixelDatatype is HALF_FLOAT, this WebGL implementation must support the OES_texture_half_float extension. Check context.halfFloatingPointTexture.\",\n    );\n  }\n\n  if (PixelFormat.isDepthFormat(pixelFormat)) {\n    if (defined(source)) {\n      throw new DeveloperError(\n        \"When options.pixelFormat is DEPTH_COMPONENT or DEPTH_STENCIL, source cannot be provided.\",\n      );\n    }\n\n    if (!context.depthTexture) {\n      throw new DeveloperError(\n        \"When options.pixelFormat is DEPTH_COMPONENT or DEPTH_STENCIL, this WebGL implementation must support WEBGL_depth_texture.  Check context.depthTexture.\",\n      );\n    }\n  }\n\n  if (isCompressed) {\n    if (!defined(source) || !defined(source.arrayBufferView)) {\n      throw new DeveloperError(\n        \"When options.pixelFormat is compressed, options.source.arrayBufferView must be defined.\",\n      );\n    }\n\n    if (PixelFormat.isDXTFormat(internalFormat) && !context.s3tc) {\n      throw new DeveloperError(\n        \"When options.pixelFormat is S3TC compressed, this WebGL implementation must support the WEBGL_compressed_texture_s3tc extension. Check context.s3tc.\",\n      );\n    } else if (PixelFormat.isPVRTCFormat(internalFormat) && !context.pvrtc) {\n      throw new DeveloperError(\n        \"When options.pixelFormat is PVRTC compressed, this WebGL implementation must support the WEBGL_compressed_texture_pvrtc extension. Check context.pvrtc.\",\n      );\n    } else if (PixelFormat.isASTCFormat(internalFormat) && !context.astc) {\n      throw new DeveloperError(\n        \"When options.pixelFormat is ASTC compressed, this WebGL implementation must support the WEBGL_compressed_texture_astc extension. Check context.astc.\",\n      );\n    } else if (PixelFormat.isETC2Format(internalFormat) && !context.etc) {\n      throw new DeveloperError(\n        \"When options.pixelFormat is ETC2 compressed, this WebGL implementation must support the WEBGL_compressed_texture_etc extension. Check context.etc.\",\n      );\n    } else if (PixelFormat.isETC1Format(internalFormat) && !context.etc1) {\n      throw new DeveloperError(\n        \"When options.pixelFormat is ETC1 compressed, this WebGL implementation must support the WEBGL_compressed_texture_etc1 extension. Check context.etc1.\",\n      );\n    } else if (PixelFormat.isBC7Format(internalFormat) && !context.bc7) {\n      throw new DeveloperError(\n        \"When options.pixelFormat is BC7 compressed, this WebGL implementation must support the EXT_texture_compression_bptc extension. Check context.bc7.\",\n      );\n    }\n\n    if (\n      PixelFormat.compressedTextureSizeInBytes(\n        internalFormat,\n        width,\n        height,\n      ) !== source.arrayBufferView.byteLength\n    ) {\n      throw new DeveloperError(\n        \"The byte length of the array buffer is invalid for the compressed texture with the given width and height.\",\n      );\n    }\n  }\n  //>>includeEnd('debug');\n\n  const gl = context._gl;\n\n  const sizeInBytes = isCompressed\n    ? PixelFormat.compressedTextureSizeInBytes(pixelFormat, width, height)\n    : PixelFormat.textureSizeInBytes(pixelFormat, pixelDatatype, width, height);\n\n  this._id = options.id ?? createGuid();\n  this._context = context;\n  this._textureFilterAnisotropic = context._textureFilterAnisotropic;\n  this._textureTarget = gl.TEXTURE_2D;\n  this._texture = gl.createTexture();\n  this._internalFormat = internalFormat;\n  this._pixelFormat = pixelFormat;\n  this._pixelDatatype = pixelDatatype;\n  this._width = width;\n  this._height = height;\n  this._dimensions = new Cartesian2(width, height);\n  this._hasMipmap = false;\n  this._sizeInBytes = sizeInBytes;\n  this._preMultiplyAlpha = preMultiplyAlpha;\n  this._flipY = flipY;\n  this._initialized = false;\n  this._sampler = undefined;\n\n  this._sampler = sampler;\n  setupSampler(this, sampler);\n\n  gl.activeTexture(gl.TEXTURE0);\n  gl.bindTexture(this._textureTarget, this._texture);\n\n  if (defined(source)) {\n    if (skipColorSpaceConversion) {\n      gl.pixelStorei(gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, gl.NONE);\n    } else {\n      gl.pixelStorei(\n        gl.UNPACK_COLORSPACE_CONVERSION_WEBGL,\n        gl.BROWSER_DEFAULT_WEBGL,\n      );\n    }\n    if (defined(source.arrayBufferView)) {\n      const isCompressed = PixelFormat.isCompressedFormat(internalFormat);\n      if (isCompressed) {\n        loadCompressedBufferSource(this, source);\n      } else {\n        loadBufferSource(this, source);\n      }\n    } else if (defined(source.framebuffer)) {\n      loadFramebufferSource(this, source);\n    } else {\n      loadImageSource(this, source);\n    }\n    this._initialized = true;\n  } else {\n    loadNull(this);\n  }\n\n  gl.bindTexture(this._textureTarget, null);\n}\n\n/**\n * Load compressed texel data from a buffer into a texture.\n *\n * @param {Texture} texture The texture to which texel values will be loaded.\n * @param {object} source The source for texel values to be loaded into the texture.\n *\n * @private\n */\nfunction loadCompressedBufferSource(texture, source) {\n  const context = texture._context;\n  const gl = context._gl;\n  const textureTarget = texture._textureTarget;\n  const internalFormat = texture._internalFormat;\n\n  const { width, height } = texture;\n\n  gl.pixelStorei(gl.UNPACK_ALIGNMENT, 4);\n  gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n  gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n\n  gl.compressedTexImage2D(\n    textureTarget,\n    0,\n    internalFormat,\n    width,\n    height,\n    0,\n    source.arrayBufferView,\n  );\n\n  if (defined(source.mipLevels)) {\n    let mipWidth = width;\n    let mipHeight = height;\n    for (let i = 0; i < source.mipLevels.length; ++i) {\n      mipWidth = nextMipSize(mipWidth);\n      mipHeight = nextMipSize(mipHeight);\n      gl.compressedTexImage2D(\n        textureTarget,\n        i + 1,\n        internalFormat,\n        mipWidth,\n        mipHeight,\n        0,\n        source.mipLevels[i],\n      );\n    }\n  }\n}\n\n/**\n * Load texel data from a buffer into a texture.\n *\n * @param {Texture} texture The texture to which texel values will be loaded.\n * @param {object} source The source for texel values to be loaded into the texture.\n *\n * @private\n */\nfunction loadBufferSource(texture, source) {\n  const context = texture._context;\n  const gl = context._gl;\n  const textureTarget = texture._textureTarget;\n  const internalFormat = texture._internalFormat;\n\n  const { width, height, pixelFormat, pixelDatatype, flipY } = texture;\n\n  const unpackAlignment = PixelFormat.alignmentInBytes(\n    pixelFormat,\n    pixelDatatype,\n    width,\n  );\n\n  gl.pixelStorei(gl.UNPACK_ALIGNMENT, unpackAlignment);\n  gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n  gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n\n  let { arrayBufferView } = source;\n  if (flipY) {\n    arrayBufferView = PixelFormat.flipY(\n      arrayBufferView,\n      pixelFormat,\n      pixelDatatype,\n      width,\n      height,\n    );\n  }\n  gl.texImage2D(\n    textureTarget,\n    0,\n    internalFormat,\n    width,\n    height,\n    0,\n    pixelFormat,\n    PixelDatatype.toWebGLConstant(pixelDatatype, context),\n    arrayBufferView,\n  );\n\n  if (defined(source.mipLevels)) {\n    let mipWidth = width;\n    let mipHeight = height;\n    for (let i = 0; i < source.mipLevels.length; ++i) {\n      mipWidth = nextMipSize(mipWidth);\n      mipHeight = nextMipSize(mipHeight);\n      gl.texImage2D(\n        textureTarget,\n        i + 1,\n        internalFormat,\n        mipWidth,\n        mipHeight,\n        0,\n        pixelFormat,\n        PixelDatatype.toWebGLConstant(pixelDatatype, context),\n        source.mipLevels[i],\n      );\n    }\n  }\n}\n\n/**\n * Load texel data from a buffer into part of a texture\n *\n * @param {Texture} texture The texture to which texel values will be loaded.\n * @param {TypedArray} arrayBufferView The texel values to be loaded into the texture.\n * @param {number} xOffset The texel x coordinate of the lower left corner of the subregion of the texture to be updated.\n * @param {number} yOffset The texel y coordinate of the lower left corner of the subregion of the texture to be updated.\n * @param {number} width The width of the source data, in pixels.\n * @param {number} width The height of the source data, in pixels.\n *\n * @private\n */\nfunction loadPartialBufferSource(\n  texture,\n  arrayBufferView,\n  xOffset,\n  yOffset,\n  width,\n  height,\n) {\n  const context = texture._context;\n  const gl = context._gl;\n\n  const { pixelFormat, pixelDatatype } = texture;\n\n  const unpackAlignment = PixelFormat.alignmentInBytes(\n    pixelFormat,\n    pixelDatatype,\n    width,\n  );\n  gl.pixelStorei(gl.UNPACK_ALIGNMENT, unpackAlignment);\n  gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n  gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n\n  if (texture.flipY) {\n    arrayBufferView = PixelFormat.flipY(\n      arrayBufferView,\n      pixelFormat,\n      pixelDatatype,\n      width,\n      height,\n    );\n  }\n  gl.texSubImage2D(\n    texture._textureTarget,\n    0,\n    xOffset,\n    yOffset,\n    width,\n    height,\n    pixelFormat,\n    PixelDatatype.toWebGLConstant(pixelDatatype, context),\n    arrayBufferView,\n  );\n}\n\n/**\n * Load texel data from a framebuffer into a texture.\n *\n * @param {Texture} texture The texture to which texel values will be loaded.\n * @param {object} source The source for texel values to be loaded into the texture.\n *\n * @private\n */\nfunction loadFramebufferSource(texture, source) {\n  const context = texture._context;\n  const gl = context._gl;\n\n  gl.pixelStorei(gl.UNPACK_ALIGNMENT, 4);\n  gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n  gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n\n  if (source.framebuffer !== context.defaultFramebuffer) {\n    source.framebuffer._bind();\n  }\n\n  gl.copyTexImage2D(\n    texture._textureTarget,\n    0,\n    texture._internalFormat,\n    source.xOffset,\n    source.yOffset,\n    texture.width,\n    texture.height,\n    0,\n  );\n\n  if (source.framebuffer !== context.defaultFramebuffer) {\n    source.framebuffer._unBind();\n  }\n}\n\n/**\n * Load texel data from an Image into a texture.\n *\n * @param {Texture} texture The texture to which texel values will be loaded.\n * @param {ImageData|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement|OffscreenCanvas|ImageBitmap} source The source for texel values to be loaded into the texture.\n *\n * @private\n */\nfunction loadImageSource(texture, source) {\n  const context = texture._context;\n  const gl = context._gl;\n\n  gl.pixelStorei(gl.UNPACK_ALIGNMENT, 4);\n  gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.preMultiplyAlpha);\n  gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, texture.flipY);\n\n  gl.texImage2D(\n    texture._textureTarget,\n    0,\n    texture._internalFormat,\n    texture.pixelFormat,\n    PixelDatatype.toWebGLConstant(texture.pixelDatatype, context),\n    source,\n  );\n}\n\n/**\n * Load texel data from an Image into part of a texture\n *\n * @param {Texture} texture The texture to which texel values will be loaded.\n * @param {ImageData|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement} source The source for texel values to be loaded into the texture.\n * @param {number} xOffset The texel x coordinate of the lower left corner of the subregion of the texture to be updated.\n * @param {number} yOffset The texel y coordinate of the lower left corner of the subregion of the texture to be updated.\n *\n * @private\n */\nfunction loadPartialImageSource(texture, source, xOffset, yOffset) {\n  const context = texture._context;\n  const gl = context._gl;\n\n  gl.pixelStorei(gl.UNPACK_ALIGNMENT, 4);\n  gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.preMultiplyAlpha);\n  gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, texture.flipY);\n\n  gl.texSubImage2D(\n    texture._textureTarget,\n    0,\n    xOffset,\n    yOffset,\n    texture.pixelFormat,\n    PixelDatatype.toWebGLConstant(texture.pixelDatatype, context),\n    source,\n  );\n}\n\n/**\n * Compute a dimension of the image for the next mip level.\n *\n * @param {number} currentSize The size of the current mip level.\n * @returns {number} The size of the next mip level.\n *\n * @private\n */\nfunction nextMipSize(currentSize) {\n  const nextSize = Math.floor(currentSize / 2) | 0;\n  return Math.max(nextSize, 1);\n}\n\n/**\n * Allocate a texture in GPU memory, without providing any image data.\n *\n * @param {Texture} texture The texture to be initialized with null values.\n *\n * @private\n */\nfunction loadNull(texture) {\n  const context = texture._context;\n\n  context._gl.texImage2D(\n    texture._textureTarget,\n    0,\n    texture._internalFormat,\n    texture._width,\n    texture._height,\n    0,\n    texture._pixelFormat,\n    PixelDatatype.toWebGLConstant(texture._pixelDatatype, context),\n    null,\n  );\n}\n\n/**\n * This function is identical to using the Texture constructor except that it can be\n * replaced with a mock/spy in tests.\n * @private\n */\nTexture.create = function (options) {\n  return new Texture(options);\n};\n\n/**\n * Creates a texture, and copies a subimage of the framebuffer to it.  When called without arguments,\n * the texture is the same width and height as the framebuffer and contains its contents.\n *\n * @param {object} options Object with the following properties:\n * @param {Context} options.context The context in which the Texture gets created.\n * @param {PixelFormat} [options.pixelFormat=PixelFormat.RGB] The texture's internal pixel format.\n * @param {number} [options.framebufferXOffset=0] An offset in the x direction in the framebuffer where copying begins from.\n * @param {number} [options.framebufferYOffset=0] An offset in the y direction in the framebuffer where copying begins from.\n * @param {number} [options.width=canvas.clientWidth] The width of the texture in texels.\n * @param {number} [options.height=canvas.clientHeight] The height of the texture in texels.\n * @param {Framebuffer} [options.framebuffer=defaultFramebuffer] The framebuffer from which to create the texture.  If this\n *        parameter is not specified, the default framebuffer is used.\n * @returns {Texture} A texture with contents from the framebuffer.\n *\n * @exception {DeveloperError} Invalid pixelFormat.\n * @exception {DeveloperError} pixelFormat cannot be DEPTH_COMPONENT, DEPTH_STENCIL or a compressed format.\n * @exception {DeveloperError} framebufferXOffset must be greater than or equal to zero.\n * @exception {DeveloperError} framebufferYOffset must be greater than or equal to zero.\n * @exception {DeveloperError} framebufferXOffset + width must be less than or equal to canvas.clientWidth.\n * @exception {DeveloperError} framebufferYOffset + height must be less than or equal to canvas.clientHeight.\n *\n *\n * @example\n * // Create a texture with the contents of the framebuffer.\n * const t = Texture.fromFramebuffer({\n *     context : context\n * });\n *\n * @see Sampler\n *\n * @private\n */\nTexture.fromFramebuffer = function (options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options.context\", options.context);\n  //>>includeEnd('debug');\n\n  const context = options.context;\n  const {\n    pixelFormat = PixelFormat.RGB,\n    framebufferXOffset = 0,\n    framebufferYOffset = 0,\n    width = context.drawingBufferWidth,\n    height = context.drawingBufferHeight,\n    framebuffer,\n  } = options;\n\n  //>>includeStart('debug', pragmas.debug);\n  if (!PixelFormat.validate(pixelFormat)) {\n    throw new DeveloperError(\"Invalid pixelFormat.\");\n  }\n  if (\n    PixelFormat.isDepthFormat(pixelFormat) ||\n    PixelFormat.isCompressedFormat(pixelFormat)\n  ) {\n    throw new DeveloperError(\n      \"pixelFormat cannot be DEPTH_COMPONENT, DEPTH_STENCIL or a compressed format.\",\n    );\n  }\n  Check.defined(\"options.context\", context);\n  Check.typeOf.number.greaterThanOrEquals(\n    \"framebufferXOffset\",\n    framebufferXOffset,\n    0,\n  );\n  Check.typeOf.number.greaterThanOrEquals(\n    \"framebufferYOffset\",\n    framebufferYOffset,\n    0,\n  );\n  if (framebufferXOffset + width > context.drawingBufferWidth) {\n    throw new DeveloperError(\n      \"framebufferXOffset + width must be less than or equal to drawingBufferWidth\",\n    );\n  }\n  if (framebufferYOffset + height > context.drawingBufferHeight) {\n    throw new DeveloperError(\n      \"framebufferYOffset + height must be less than or equal to drawingBufferHeight.\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  const texture = new Texture({\n    context: context,\n    width: width,\n    height: height,\n    pixelFormat: pixelFormat,\n    source: {\n      framebuffer: defined(framebuffer)\n        ? framebuffer\n        : context.defaultFramebuffer,\n      xOffset: framebufferXOffset,\n      yOffset: framebufferYOffset,\n      width: width,\n      height: height,\n    },\n  });\n\n  return texture;\n};\n\nObject.defineProperties(Texture.prototype, {\n  /**\n   * A unique id for the texture\n   * @memberof Texture.prototype\n   * @type {string}\n   * @readonly\n   * @private\n   */\n  id: {\n    get: function () {\n      return this._id;\n    },\n  },\n  /**\n   * The sampler to use when sampling this texture.\n   * Create a sampler by calling {@link Sampler}.  If this\n   * parameter is not specified, a default sampler is used.  The default sampler clamps texture\n   * coordinates in both directions, uses linear filtering for both magnification and minification,\n   * and uses a maximum anisotropy of 1.0.\n   * @memberof Texture.prototype\n   * @type {Sampler}\n   * @private\n   */\n  sampler: {\n    get: function () {\n      return this._sampler;\n    },\n    set: function (sampler) {\n      setupSampler(this, sampler);\n      this._sampler = sampler;\n    },\n  },\n  pixelFormat: {\n    get: function () {\n      return this._pixelFormat;\n    },\n  },\n  pixelDatatype: {\n    get: function () {\n      return this._pixelDatatype;\n    },\n  },\n  dimensions: {\n    get: function () {\n      return this._dimensions;\n    },\n  },\n  preMultiplyAlpha: {\n    get: function () {\n      return this._preMultiplyAlpha;\n    },\n  },\n  flipY: {\n    get: function () {\n      return this._flipY;\n    },\n  },\n  width: {\n    get: function () {\n      return this._width;\n    },\n  },\n  height: {\n    get: function () {\n      return this._height;\n    },\n  },\n  sizeInBytes: {\n    get: function () {\n      if (this._hasMipmap) {\n        return Math.floor((this._sizeInBytes * 4) / 3);\n      }\n      return this._sizeInBytes;\n    },\n  },\n  _target: {\n    get: function () {\n      return this._textureTarget;\n    },\n  },\n});\n\n/**\n * Set up a sampler for use with a texture\n * @param {Texture} texture The texture to be sampled by this sampler\n * @param {Sampler} sampler Information about how to sample the texture\n * @private\n */\nfunction setupSampler(texture, sampler) {\n  let { minificationFilter, magnificationFilter } = sampler;\n\n  const mipmap = [\n    TextureMinificationFilter.NEAREST_MIPMAP_NEAREST,\n    TextureMinificationFilter.NEAREST_MIPMAP_LINEAR,\n    TextureMinificationFilter.LINEAR_MIPMAP_NEAREST,\n    TextureMinificationFilter.LINEAR_MIPMAP_LINEAR,\n  ].includes(minificationFilter);\n\n  const context = texture._context;\n  const pixelFormat = texture._pixelFormat;\n  const pixelDatatype = texture._pixelDatatype;\n\n  // float textures only support nearest filtering unless the linear extensions are supported\n  if (\n    (pixelDatatype === PixelDatatype.FLOAT && !context.textureFloatLinear) ||\n    (pixelDatatype === PixelDatatype.HALF_FLOAT &&\n      !context.textureHalfFloatLinear)\n  ) {\n    // override the sampler's settings\n    minificationFilter = mipmap\n      ? TextureMinificationFilter.NEAREST_MIPMAP_NEAREST\n      : TextureMinificationFilter.NEAREST;\n    magnificationFilter = TextureMagnificationFilter.NEAREST;\n  }\n\n  // WebGL 2 depth texture only support nearest filtering. See section 3.8.13 OpenGL ES 3 spec\n  if (context.webgl2) {\n    if (PixelFormat.isDepthFormat(pixelFormat)) {\n      minificationFilter = TextureMinificationFilter.NEAREST;\n      magnificationFilter = TextureMagnificationFilter.NEAREST;\n    }\n  }\n\n  const gl = context._gl;\n  const target = texture._textureTarget;\n\n  gl.activeTexture(gl.TEXTURE0);\n  gl.bindTexture(target, texture._texture);\n  gl.texParameteri(target, gl.TEXTURE_MIN_FILTER, minificationFilter);\n  gl.texParameteri(target, gl.TEXTURE_MAG_FILTER, magnificationFilter);\n  gl.texParameteri(target, gl.TEXTURE_WRAP_S, sampler.wrapS);\n  gl.texParameteri(target, gl.TEXTURE_WRAP_T, sampler.wrapT);\n  if (defined(texture._textureFilterAnisotropic)) {\n    gl.texParameteri(\n      target,\n      texture._textureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,\n      sampler.maximumAnisotropy,\n    );\n  }\n  gl.bindTexture(target, null);\n}\n\n/**\n * Copy new image data into this texture, from a source {@link ImageData}, {@link HTMLImageElement}, {@link HTMLCanvasElement}, or {@link HTMLVideoElement}.\n * or an object with width, height, and arrayBufferView properties.\n * @param {object} options Object with the following properties:\n * @param {object} options.source The source {@link ImageData}, {@link HTMLImageElement}, {@link HTMLCanvasElement}, {@link HTMLVideoElement},\n *                        {@link OffscreenCanvas}, or {@link ImageBitmap},\n *                        or an object with width, height, and arrayBufferView properties.\n * @param {number} [options.xOffset=0] The offset in the x direction within the texture to copy into.\n * @param {number} [options.yOffset=0] The offset in the y direction within the texture to copy into.\n * @param {boolean} [options.skipColorSpaceConversion=false] If true, any custom gamma or color profiles in the texture will be ignored.\n *\n * @exception {DeveloperError} Cannot call copyFrom when the texture pixel format is DEPTH_COMPONENT or DEPTH_STENCIL.\n * @exception {DeveloperError} Cannot call copyFrom with a compressed texture pixel format.\n * @exception {DeveloperError} xOffset must be greater than or equal to zero.\n * @exception {DeveloperError} yOffset must be greater than or equal to zero.\n * @exception {DeveloperError} xOffset + source.width must be less than or equal to width.\n * @exception {DeveloperError} yOffset + source.height must be less than or equal to height.\n * @exception {DeveloperError} This texture was destroyed, i.e., destroy() was called.\n * @private\n * @example\n * texture.copyFrom({\n *  source: {\n *   width : 1,\n *   height : 1,\n *   arrayBufferView : new Uint8Array([255, 0, 0, 255])\n *  }\n * });\n */\nTexture.prototype.copyFrom = function (options) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options\", options);\n  //>>includeEnd('debug');\n\n  const {\n    xOffset = 0,\n    yOffset = 0,\n    source,\n    skipColorSpaceConversion = false,\n  } = options;\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options.source\", source);\n  if (PixelFormat.isDepthFormat(this._pixelFormat)) {\n    throw new DeveloperError(\n      \"Cannot call copyFrom when the texture pixel format is DEPTH_COMPONENT or DEPTH_STENCIL.\",\n    );\n  }\n  if (PixelFormat.isCompressedFormat(this._pixelFormat)) {\n    throw new DeveloperError(\n      \"Cannot call copyFrom with a compressed texture pixel format.\",\n    );\n  }\n  Check.typeOf.number.greaterThanOrEquals(\"xOffset\", xOffset, 0);\n  Check.typeOf.number.greaterThanOrEquals(\"yOffset\", yOffset, 0);\n  Check.typeOf.number.lessThanOrEquals(\n    \"xOffset + options.source.width\",\n    xOffset + source.width,\n    this._width,\n  );\n  Check.typeOf.number.lessThanOrEquals(\n    \"yOffset + options.source.height\",\n    yOffset + source.height,\n    this._height,\n  );\n  //>>includeEnd('debug');\n\n  const context = this._context;\n  const gl = context._gl;\n  const target = this._textureTarget;\n\n  gl.activeTexture(gl.TEXTURE0);\n  gl.bindTexture(target, this._texture);\n\n  let { width, height } = source;\n\n  // Make sure we are using the element's intrinsic width and height where available\n  if (defined(source.videoWidth) && defined(source.videoHeight)) {\n    width = source.videoWidth;\n    height = source.videoHeight;\n  } else if (defined(source.naturalWidth) && defined(source.naturalHeight)) {\n    width = source.naturalWidth;\n    height = source.naturalHeight;\n  }\n\n  if (skipColorSpaceConversion) {\n    gl.pixelStorei(gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, gl.NONE);\n  } else {\n    gl.pixelStorei(\n      gl.UNPACK_COLORSPACE_CONVERSION_WEBGL,\n      gl.BROWSER_DEFAULT_WEBGL,\n    );\n  }\n\n  let uploaded = false;\n  if (!this._initialized) {\n    if (\n      xOffset === 0 &&\n      yOffset === 0 &&\n      width === this._width &&\n      height === this._height\n    ) {\n      // initialize the entire texture\n      if (defined(source.arrayBufferView)) {\n        loadBufferSource(this, source);\n      } else {\n        loadImageSource(this, source);\n      }\n      uploaded = true;\n    } else {\n      gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n      loadNull(this);\n    }\n    this._initialized = true;\n  }\n\n  if (!uploaded) {\n    if (defined(source.arrayBufferView)) {\n      loadPartialBufferSource(\n        this,\n        source.arrayBufferView,\n        xOffset,\n        yOffset,\n        width,\n        height,\n      );\n    } else {\n      loadPartialImageSource(this, source, xOffset, yOffset);\n    }\n  }\n\n  gl.bindTexture(target, null);\n};\n\n/**\n * @param {number} [xOffset=0] The offset in the x direction within the texture to copy into.\n * @param {number} [yOffset=0] The offset in the y direction within the texture to copy into.\n * @param {number} [framebufferXOffset=0] optional\n * @param {number} [framebufferYOffset=0] optional\n * @param {number} [width=width] optional\n * @param {number} [height=height] optional\n * @private\n * @exception {DeveloperError} Cannot call copyFromFramebuffer when the texture pixel format is DEPTH_COMPONENT or DEPTH_STENCIL.\n * @exception {DeveloperError} Cannot call copyFromFramebuffer when the texture pixel data type is FLOAT.\n * @exception {DeveloperError} Cannot call copyFromFramebuffer when the texture pixel data type is HALF_FLOAT.\n * @exception {DeveloperError} Cannot call copyFrom with a compressed texture pixel format.\n * @exception {DeveloperError} This texture was destroyed, i.e., destroy() was called.\n * @exception {DeveloperError} xOffset must be greater than or equal to zero.\n * @exception {DeveloperError} yOffset must be greater than or equal to zero.\n * @exception {DeveloperError} framebufferXOffset must be greater than or equal to zero.\n * @exception {DeveloperError} framebufferYOffset must be greater than or equal to zero.\n * @exception {DeveloperError} xOffset + width must be less than or equal to width.\n * @exception {DeveloperError} yOffset + height must be less than or equal to height.\n */\nTexture.prototype.copyFromFramebuffer = function (\n  xOffset,\n  yOffset,\n  framebufferXOffset,\n  framebufferYOffset,\n  width,\n  height,\n) {\n  xOffset = xOffset ?? 0;\n  yOffset = yOffset ?? 0;\n  framebufferXOffset = framebufferXOffset ?? 0;\n  framebufferYOffset = framebufferYOffset ?? 0;\n  width = width ?? this._width;\n  height = height ?? this._height;\n\n  //>>includeStart('debug', pragmas.debug);\n  if (PixelFormat.isDepthFormat(this._pixelFormat)) {\n    throw new DeveloperError(\n      \"Cannot call copyFromFramebuffer when the texture pixel format is DEPTH_COMPONENT or DEPTH_STENCIL.\",\n    );\n  }\n  if (this._pixelDatatype === PixelDatatype.FLOAT) {\n    throw new DeveloperError(\n      \"Cannot call copyFromFramebuffer when the texture pixel data type is FLOAT.\",\n    );\n  }\n  if (this._pixelDatatype === PixelDatatype.HALF_FLOAT) {\n    throw new DeveloperError(\n      \"Cannot call copyFromFramebuffer when the texture pixel data type is HALF_FLOAT.\",\n    );\n  }\n  if (PixelFormat.isCompressedFormat(this._pixelFormat)) {\n    throw new DeveloperError(\n      \"Cannot call copyFrom with a compressed texture pixel format.\",\n    );\n  }\n\n  Check.typeOf.number.greaterThanOrEquals(\"xOffset\", xOffset, 0);\n  Check.typeOf.number.greaterThanOrEquals(\"yOffset\", yOffset, 0);\n  Check.typeOf.number.greaterThanOrEquals(\n    \"framebufferXOffset\",\n    framebufferXOffset,\n    0,\n  );\n  Check.typeOf.number.greaterThanOrEquals(\n    \"framebufferYOffset\",\n    framebufferYOffset,\n    0,\n  );\n  Check.typeOf.number.lessThanOrEquals(\n    \"xOffset + width\",\n    xOffset + width,\n    this._width,\n  );\n  Check.typeOf.number.lessThanOrEquals(\n    \"yOffset + height\",\n    yOffset + height,\n    this._height,\n  );\n  //>>includeEnd('debug');\n\n  const gl = this._context._gl;\n  const target = this._textureTarget;\n\n  gl.activeTexture(gl.TEXTURE0);\n  gl.bindTexture(target, this._texture);\n  gl.copyTexSubImage2D(\n    target,\n    0,\n    xOffset,\n    yOffset,\n    framebufferXOffset,\n    framebufferYOffset,\n    width,\n    height,\n  );\n  gl.bindTexture(target, null);\n  this._initialized = true;\n};\n\n/**\n * @param {MipmapHint} [hint=MipmapHint.DONT_CARE] optional.\n * @private\n * @exception {DeveloperError} Cannot call generateMipmap when the texture pixel format is DEPTH_COMPONENT or DEPTH_STENCIL.\n * @exception {DeveloperError} Cannot call generateMipmap when the texture pixel format is a compressed format.\n * @exception {DeveloperError} hint is invalid.\n * @exception {DeveloperError} This texture's width must be a power of two to call generateMipmap() in a WebGL1 context.\n * @exception {DeveloperError} This texture's height must be a power of two to call generateMipmap() in a WebGL1 context.\n * @exception {DeveloperError} This texture was destroyed, i.e., destroy() was called.\n */\nTexture.prototype.generateMipmap = function (hint) {\n  hint = hint ?? MipmapHint.DONT_CARE;\n\n  //>>includeStart('debug', pragmas.debug);\n  if (PixelFormat.isDepthFormat(this._pixelFormat)) {\n    throw new DeveloperError(\n      \"Cannot call generateMipmap when the texture pixel format is DEPTH_COMPONENT or DEPTH_STENCIL.\",\n    );\n  }\n  if (PixelFormat.isCompressedFormat(this._pixelFormat)) {\n    throw new DeveloperError(\n      \"Cannot call generateMipmap with a compressed pixel format.\",\n    );\n  }\n  if (!this._context.webgl2) {\n    if (this._width > 1 && !CesiumMath.isPowerOfTwo(this._width)) {\n      throw new DeveloperError(\n        \"width must be a power of two to call generateMipmap() in a WebGL1 context.\",\n      );\n    }\n    if (this._height > 1 && !CesiumMath.isPowerOfTwo(this._height)) {\n      throw new DeveloperError(\n        \"height must be a power of two to call generateMipmap() in a WebGL1 context.\",\n      );\n    }\n  }\n  if (!MipmapHint.validate(hint)) {\n    throw new DeveloperError(\"hint is invalid.\");\n  }\n  //>>includeEnd('debug');\n\n  this._hasMipmap = true;\n\n  const gl = this._context._gl;\n  const target = this._textureTarget;\n\n  gl.hint(gl.GENERATE_MIPMAP_HINT, hint);\n  gl.activeTexture(gl.TEXTURE0);\n  gl.bindTexture(target, this._texture);\n  gl.generateMipmap(target);\n  gl.bindTexture(target, null);\n};\n\nTexture.prototype.isDestroyed = function () {\n  return false;\n};\n\nTexture.prototype.destroy = function () {\n  this._context._gl.deleteTexture(this._texture);\n  return destroyObject(this);\n};\nexport default Texture;\n"],"names":["Texture","options","EMPTY_OBJECT","defined","context","source","pixelFormat","RGBA","pixelDatatype","UNSIGNED_BYTE","flipY","skipColorSpaceConversion","sampler","width","height","videoWidth","naturalWidth","videoHeight","naturalHeight","preMultiplyAlpha","RGB","LUMINANCE","internalFormat","toInternalFormat","isCompressed","isCompressedFormat","typeOf","number","greaterThan","maximumTextureSize","validate","DEPTH_COMPONENT","UNSIGNED_SHORT","UNSIGNED_INT","DEPTH_STENCIL","UNSIGNED_INT_24_8","FLOAT","floatingPointTexture","HALF_FLOAT","halfFloatingPointTexture","isDepthFormat","depthTexture","arrayBufferView","isDXTFormat","s3tc","isPVRTCFormat","pvrtc","isASTCFormat","astc","isETC2Format","etc","isETC1Format","etc1","isBC7Format","bc7","compressedTextureSizeInBytes","byteLength","gl","_gl","sizeInBytes","textureSizeInBytes","_id","id","_context","_textureFilterAnisotropic","_textureTarget","TEXTURE_2D","_texture","createTexture","_internalFormat","_pixelFormat","_pixelDatatype","_width","_height","_dimensions","_hasMipmap","_sizeInBytes","_preMultiplyAlpha","_flipY","_initialized","_sampler","undefined","setupSampler","activeTexture","TEXTURE0","bindTexture","pixelStorei","UNPACK_COLORSPACE_CONVERSION_WEBGL","NONE","BROWSER_DEFAULT_WEBGL","loadCompressedBufferSource","loadBufferSource","framebuffer","loadFramebufferSource","loadImageSource","loadNull","texture","textureTarget","UNPACK_ALIGNMENT","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_FLIP_Y_WEBGL","compressedTexImage2D","mipLevels","mipWidth","mipHeight","i","length","nextMipSize","unpackAlignment","alignmentInBytes","texImage2D","toWebGLConstant","loadPartialBufferSource","xOffset","yOffset","texSubImage2D","defaultFramebuffer","_bind","copyTexImage2D","_unBind","loadPartialImageSource","currentSize","nextSize","Math","floor","max","create","fromFramebuffer","framebufferXOffset","framebufferYOffset","drawingBufferWidth","drawingBufferHeight","greaterThanOrEquals","Object","defineProperties","prototype","get","set","dimensions","_target","minificationFilter","magnificationFilter","mipmap","NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_NEAREST","LINEAR_MIPMAP_LINEAR","includes","textureFloatLinear","textureHalfFloatLinear","NEAREST","webgl2","target","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","wrapS","TEXTURE_WRAP_T","wrapT","TEXTURE_MAX_ANISOTROPY_EXT","maximumAnisotropy","copyFrom","lessThanOrEquals","uploaded","copyFromFramebuffer","copyTexSubImage2D","generateMipmap","hint","DONT_CARE","isPowerOfTwo","GENERATE_MIPMAP_HINT","isDestroyed","destroy","deleteTexture"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 8410, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/VertexArrayFacade.js"],"sourcesContent":["import Check from \"../Core/Check.js\";\nimport ComponentDatatype from \"../Core/ComponentDatatype.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport CesiumMath from \"../Core/Math.js\";\nimport Buffer from \"./Buffer.js\";\nimport BufferUsage from \"./BufferUsage.js\";\nimport VertexArray from \"./VertexArray.js\";\n\n/**\n * @private\n */\nfunction VertexArrayFacade(context, attributes, sizeInVertices, instanced) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"context\", context);\n  if (!attributes || attributes.length === 0) {\n    throw new DeveloperError(\"At least one attribute is required.\");\n  }\n  //>>includeEnd('debug');\n\n  const attrs = VertexArrayFacade._verifyAttributes(attributes);\n  sizeInVertices = sizeInVertices ?? 0;\n  const precreatedAttributes = [];\n  const attributesByUsage = {};\n  let attributesForUsage;\n  let usage;\n\n  // Bucket the attributes by usage.\n  const length = attrs.length;\n  for (let i = 0; i < length; ++i) {\n    const attribute = attrs[i];\n\n    // If the attribute already has a vertex buffer, we do not need\n    // to manage a vertex buffer or typed array for it.\n    if (attribute.vertexBuffer) {\n      precreatedAttributes.push(attribute);\n      continue;\n    }\n\n    usage = attribute.usage;\n    attributesForUsage = attributesByUsage[usage];\n    if (!defined(attributesForUsage)) {\n      attributesForUsage = attributesByUsage[usage] = [];\n    }\n\n    attributesForUsage.push(attribute);\n  }\n\n  // A function to sort attributes by the size of their components.  From left to right, a vertex\n  // stores floats, shorts, and then bytes.\n  function compare(left, right) {\n    return (\n      ComponentDatatype.getSizeInBytes(right.componentDatatype) -\n      ComponentDatatype.getSizeInBytes(left.componentDatatype)\n    );\n  }\n\n  this._allBuffers = [];\n\n  for (usage in attributesByUsage) {\n    if (attributesByUsage.hasOwnProperty(usage)) {\n      attributesForUsage = attributesByUsage[usage];\n\n      attributesForUsage.sort(compare);\n      const vertexSizeInBytes =\n        VertexArrayFacade._vertexSizeInBytes(attributesForUsage);\n\n      const bufferUsage = attributesForUsage[0].usage;\n\n      const buffer = {\n        vertexSizeInBytes: vertexSizeInBytes,\n        vertexBuffer: undefined,\n        usage: bufferUsage,\n        needsCommit: false,\n        arrayBuffer: undefined,\n        arrayViews: VertexArrayFacade._createArrayViews(\n          attributesForUsage,\n          vertexSizeInBytes,\n        ),\n      };\n\n      this._allBuffers.push(buffer);\n    }\n  }\n\n  this._size = 0;\n  this._instanced = instanced ?? false;\n\n  this._precreated = precreatedAttributes;\n  this._context = context;\n\n  this.writers = undefined;\n  this.va = undefined;\n\n  this.resize(sizeInVertices);\n}\nVertexArrayFacade._verifyAttributes = function (attributes) {\n  const attrs = [];\n\n  for (let i = 0; i < attributes.length; ++i) {\n    const attribute = attributes[i];\n\n    const attr = {\n      index: attribute.index ?? i,\n      enabled: attribute.enabled ?? true,\n      componentsPerAttribute: attribute.componentsPerAttribute,\n      componentDatatype: attribute.componentDatatype ?? ComponentDatatype.FLOAT,\n      normalize: attribute.normalize ?? false,\n\n      // There will be either a vertexBuffer or an [optional] usage.\n      vertexBuffer: attribute.vertexBuffer,\n      usage: attribute.usage ?? BufferUsage.STATIC_DRAW,\n    };\n    attrs.push(attr);\n\n    //>>includeStart('debug', pragmas.debug);\n    if (\n      attr.componentsPerAttribute !== 1 &&\n      attr.componentsPerAttribute !== 2 &&\n      attr.componentsPerAttribute !== 3 &&\n      attr.componentsPerAttribute !== 4\n    ) {\n      throw new DeveloperError(\n        \"attribute.componentsPerAttribute must be in the range [1, 4].\",\n      );\n    }\n\n    const datatype = attr.componentDatatype;\n    if (!ComponentDatatype.validate(datatype)) {\n      throw new DeveloperError(\n        \"Attribute must have a valid componentDatatype or not specify it.\",\n      );\n    }\n\n    if (!BufferUsage.validate(attr.usage)) {\n      throw new DeveloperError(\n        \"Attribute must have a valid usage or not specify it.\",\n      );\n    }\n    //>>includeEnd('debug');\n  }\n\n  // Verify all attribute names are unique.\n  const uniqueIndices = new Array(attrs.length);\n  for (let j = 0; j < attrs.length; ++j) {\n    const currentAttr = attrs[j];\n    const index = currentAttr.index;\n    //>>includeStart('debug', pragmas.debug);\n    if (uniqueIndices[index]) {\n      throw new DeveloperError(\n        `Index ${index} is used by more than one attribute.`,\n      );\n    }\n    //>>includeEnd('debug');\n    uniqueIndices[index] = true;\n  }\n\n  return attrs;\n};\n\nVertexArrayFacade._vertexSizeInBytes = function (attributes) {\n  let sizeInBytes = 0;\n\n  const length = attributes.length;\n  for (let i = 0; i < length; ++i) {\n    const attribute = attributes[i];\n    sizeInBytes +=\n      attribute.componentsPerAttribute *\n      ComponentDatatype.getSizeInBytes(attribute.componentDatatype);\n  }\n\n  const maxComponentSizeInBytes =\n    length > 0\n      ? ComponentDatatype.getSizeInBytes(attributes[0].componentDatatype)\n      : 0; // Sorted by size\n  const remainder =\n    maxComponentSizeInBytes > 0 ? sizeInBytes % maxComponentSizeInBytes : 0;\n  const padding = remainder === 0 ? 0 : maxComponentSizeInBytes - remainder;\n  sizeInBytes += padding;\n\n  return sizeInBytes;\n};\n\nVertexArrayFacade._createArrayViews = function (attributes, vertexSizeInBytes) {\n  const views = [];\n  let offsetInBytes = 0;\n\n  const length = attributes.length;\n  for (let i = 0; i < length; ++i) {\n    const attribute = attributes[i];\n    const componentDatatype = attribute.componentDatatype;\n\n    views.push({\n      index: attribute.index,\n      enabled: attribute.enabled,\n      componentsPerAttribute: attribute.componentsPerAttribute,\n      componentDatatype: componentDatatype,\n      normalize: attribute.normalize,\n\n      offsetInBytes: offsetInBytes,\n      vertexSizeInComponentType:\n        vertexSizeInBytes / ComponentDatatype.getSizeInBytes(componentDatatype),\n\n      view: undefined,\n    });\n\n    offsetInBytes +=\n      attribute.componentsPerAttribute *\n      ComponentDatatype.getSizeInBytes(componentDatatype);\n  }\n\n  return views;\n};\n\n/**\n * Invalidates writers.  Can't render again until commit is called.\n */\nVertexArrayFacade.prototype.resize = function (sizeInVertices) {\n  this._size = sizeInVertices;\n\n  const allBuffers = this._allBuffers;\n  this.writers = [];\n\n  for (let i = 0, len = allBuffers.length; i < len; ++i) {\n    const buffer = allBuffers[i];\n\n    VertexArrayFacade._resize(buffer, this._size);\n\n    // Reserving invalidates the writers, so if client's cache them, they need to invalidate their cache.\n    VertexArrayFacade._appendWriters(this.writers, buffer);\n  }\n\n  // VAs are recreated next time commit is called.\n  destroyVA(this);\n};\n\nVertexArrayFacade._resize = function (buffer, size) {\n  if (buffer.vertexSizeInBytes > 0) {\n    // Create larger array buffer\n    const arrayBuffer = new ArrayBuffer(size * buffer.vertexSizeInBytes);\n\n    // Copy contents from previous array buffer\n    if (defined(buffer.arrayBuffer)) {\n      const destView = new Uint8Array(arrayBuffer);\n      const sourceView = new Uint8Array(buffer.arrayBuffer);\n      const sourceLength = sourceView.length;\n      for (let j = 0; j < sourceLength; ++j) {\n        destView[j] = sourceView[j];\n      }\n    }\n\n    // Create typed views into the new array buffer\n    const views = buffer.arrayViews;\n    const length = views.length;\n    for (let i = 0; i < length; ++i) {\n      const view = views[i];\n      view.view = ComponentDatatype.createArrayBufferView(\n        view.componentDatatype,\n        arrayBuffer,\n        view.offsetInBytes,\n      );\n    }\n\n    buffer.arrayBuffer = arrayBuffer;\n  }\n};\n\nconst createWriters = [\n  // 1 component per attribute\n  function (buffer, view, vertexSizeInComponentType) {\n    return function (index, attribute) {\n      view[index * vertexSizeInComponentType] = attribute;\n      buffer.needsCommit = true;\n    };\n  },\n\n  // 2 component per attribute\n  function (buffer, view, vertexSizeInComponentType) {\n    return function (index, component0, component1) {\n      const i = index * vertexSizeInComponentType;\n      view[i] = component0;\n      view[i + 1] = component1;\n      buffer.needsCommit = true;\n    };\n  },\n\n  // 3 component per attribute\n  function (buffer, view, vertexSizeInComponentType) {\n    return function (index, component0, component1, component2) {\n      const i = index * vertexSizeInComponentType;\n      view[i] = component0;\n      view[i + 1] = component1;\n      view[i + 2] = component2;\n      buffer.needsCommit = true;\n    };\n  },\n\n  // 4 component per attribute\n  function (buffer, view, vertexSizeInComponentType) {\n    return function (index, component0, component1, component2, component3) {\n      const i = index * vertexSizeInComponentType;\n      view[i] = component0;\n      view[i + 1] = component1;\n      view[i + 2] = component2;\n      view[i + 3] = component3;\n      buffer.needsCommit = true;\n    };\n  },\n];\n\nVertexArrayFacade._appendWriters = function (writers, buffer) {\n  const arrayViews = buffer.arrayViews;\n  const length = arrayViews.length;\n  for (let i = 0; i < length; ++i) {\n    const arrayView = arrayViews[i];\n    writers[arrayView.index] = createWriters[\n      arrayView.componentsPerAttribute - 1\n    ](buffer, arrayView.view, arrayView.vertexSizeInComponentType);\n  }\n};\n\nVertexArrayFacade.prototype.commit = function (indexBuffer) {\n  let recreateVA = false;\n\n  const allBuffers = this._allBuffers;\n  let buffer;\n  let i;\n  let length;\n\n  for (i = 0, length = allBuffers.length; i < length; ++i) {\n    buffer = allBuffers[i];\n    recreateVA = commit(this, buffer) || recreateVA;\n  }\n\n  ///////////////////////////////////////////////////////////////////////\n\n  if (recreateVA || !defined(this.va)) {\n    destroyVA(this);\n    const va = (this.va = []);\n\n    const chunkSize = CesiumMath.SIXTY_FOUR_KILOBYTES - 4; // The 65535 index is reserved for primitive restart. Reserve the last 4 indices so that billboard quads are not broken up.\n    const numberOfVertexArrays =\n      defined(indexBuffer) && !this._instanced\n        ? Math.ceil(this._size / chunkSize)\n        : 1;\n    for (let k = 0; k < numberOfVertexArrays; ++k) {\n      let attributes = [];\n      for (i = 0, length = allBuffers.length; i < length; ++i) {\n        buffer = allBuffers[i];\n        const offset = k * (buffer.vertexSizeInBytes * chunkSize);\n        VertexArrayFacade._appendAttributes(\n          attributes,\n          buffer,\n          offset,\n          this._instanced,\n        );\n      }\n\n      attributes = attributes.concat(this._precreated);\n\n      va.push({\n        va: new VertexArray({\n          context: this._context,\n          attributes: attributes,\n          indexBuffer: indexBuffer,\n        }),\n        indicesCount:\n          1.5 *\n          (k !== numberOfVertexArrays - 1 ? chunkSize : this._size % chunkSize),\n        // TODO: not hardcode 1.5, this assumes 6 indices per 4 vertices (as for Billboard quads).\n      });\n    }\n  }\n};\n\nfunction commit(vertexArrayFacade, buffer) {\n  if (buffer.needsCommit && buffer.vertexSizeInBytes > 0) {\n    buffer.needsCommit = false;\n\n    const vertexBuffer = buffer.vertexBuffer;\n    const vertexBufferSizeInBytes =\n      vertexArrayFacade._size * buffer.vertexSizeInBytes;\n    const vertexBufferDefined = defined(vertexBuffer);\n    if (\n      !vertexBufferDefined ||\n      vertexBuffer.sizeInBytes < vertexBufferSizeInBytes\n    ) {\n      if (vertexBufferDefined) {\n        vertexBuffer.destroy();\n      }\n      buffer.vertexBuffer = Buffer.createVertexBuffer({\n        context: vertexArrayFacade._context,\n        typedArray: buffer.arrayBuffer,\n        usage: buffer.usage,\n      });\n      buffer.vertexBuffer.vertexArrayDestroyable = false;\n\n      return true; // Created new vertex buffer\n    }\n\n    buffer.vertexBuffer.copyFromArrayView(buffer.arrayBuffer);\n  }\n\n  return false; // Did not create new vertex buffer\n}\n\nVertexArrayFacade._appendAttributes = function (\n  attributes,\n  buffer,\n  vertexBufferOffset,\n  instanced,\n) {\n  const arrayViews = buffer.arrayViews;\n  const length = arrayViews.length;\n  for (let i = 0; i < length; ++i) {\n    const view = arrayViews[i];\n\n    attributes.push({\n      index: view.index,\n      enabled: view.enabled,\n      componentsPerAttribute: view.componentsPerAttribute,\n      componentDatatype: view.componentDatatype,\n      normalize: view.normalize,\n      vertexBuffer: buffer.vertexBuffer,\n      offsetInBytes: vertexBufferOffset + view.offsetInBytes,\n      strideInBytes: buffer.vertexSizeInBytes,\n      instanceDivisor: instanced ? 1 : 0,\n    });\n  }\n};\n\nVertexArrayFacade.prototype.subCommit = function (\n  offsetInVertices,\n  lengthInVertices,\n) {\n  //>>includeStart('debug', pragmas.debug);\n  if (offsetInVertices < 0 || offsetInVertices >= this._size) {\n    throw new DeveloperError(\n      \"offsetInVertices must be greater than or equal to zero and less than the vertex array size.\",\n    );\n  }\n  if (offsetInVertices + lengthInVertices > this._size) {\n    throw new DeveloperError(\n      \"offsetInVertices + lengthInVertices cannot exceed the vertex array size.\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  const allBuffers = this._allBuffers;\n  for (let i = 0, len = allBuffers.length; i < len; ++i) {\n    subCommit(allBuffers[i], offsetInVertices, lengthInVertices);\n  }\n};\n\nfunction subCommit(buffer, offsetInVertices, lengthInVertices) {\n  if (buffer.needsCommit && buffer.vertexSizeInBytes > 0) {\n    const byteOffset = buffer.vertexSizeInBytes * offsetInVertices;\n    const byteLength = buffer.vertexSizeInBytes * lengthInVertices;\n\n    // PERFORMANCE_IDEA: If we want to get really crazy, we could consider updating\n    // individual attributes instead of the entire (sub-)vertex.\n    //\n    // PERFORMANCE_IDEA: Does creating the typed view add too much GC overhead?\n    buffer.vertexBuffer.copyFromArrayView(\n      new Uint8Array(buffer.arrayBuffer, byteOffset, byteLength),\n      byteOffset,\n    );\n  }\n}\n\nVertexArrayFacade.prototype.endSubCommits = function () {\n  const allBuffers = this._allBuffers;\n\n  for (let i = 0, len = allBuffers.length; i < len; ++i) {\n    allBuffers[i].needsCommit = false;\n  }\n};\n\nfunction destroyVA(vertexArrayFacade) {\n  const va = vertexArrayFacade.va;\n  if (!defined(va)) {\n    return;\n  }\n\n  const length = va.length;\n  for (let i = 0; i < length; ++i) {\n    va[i].va.destroy();\n  }\n\n  vertexArrayFacade.va = undefined;\n}\n\nVertexArrayFacade.prototype.isDestroyed = function () {\n  return false;\n};\n\nVertexArrayFacade.prototype.destroy = function () {\n  const allBuffers = this._allBuffers;\n  for (let i = 0, len = allBuffers.length; i < len; ++i) {\n    const buffer = allBuffers[i];\n    buffer.vertexBuffer = buffer.vertexBuffer && buffer.vertexBuffer.destroy();\n  }\n\n  destroyVA(this);\n\n  return destroyObject(this);\n};\nexport default VertexArrayFacade;\n"],"names":["VertexArrayFacade","context","attributes","sizeInVertices","instanced","defined","length","attrs","_verifyAttributes","precreatedAttributes","attributesByUsage","attributesForUsage","usage","i","attribute","vertexBuffer","push","compare","left","right","getSizeInBytes","componentDatatype","_allBuffers","hasOwnProperty","sort","vertexSizeInBytes","_vertexSizeInBytes","bufferUsage","buffer","undefined","needsCommit","arrayBuffer","arrayViews","_createArrayViews","_size","_instanced","_precreated","_context","writers","va","resize","attr","index","enabled","componentsPerAttribute","FLOAT","normalize","STATIC_DRAW","datatype","validate","uniqueIndices","Array","j","currentAttr","sizeInBytes","maxComponentSizeInBytes","remainder","padding","views","offsetInBytes","vertexSizeInComponentType","view","prototype","allBuffers","len","_resize","_appendWriters","destroyVA","size","ArrayBuffer","destView","Uint8Array","sourceView","sourceLength","createArrayBufferView","createWriters","component0","component1","component2","component3","arrayView","commit","indexBuffer","recreateVA","chunkSize","SIXTY_FOUR_KILOBYTES","numberOfVertexArrays","Math","ceil","k","offset","_appendAttributes","concat","indicesCount","vertexArrayFacade","vertexBufferSizeInBytes","vertexBufferDefined","destroy","createVertexBuffer","typedArray","vertexArrayDestroyable","copyFromArrayView","vertexBufferOffset","strideInBytes","instanceDivisor","subCommit","offsetInVertices","lengthInVertices","byteOffset","byteLength","endSubCommits","isDestroyed"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 8790, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/TextureAtlas.js"],"sourcesContent":["import BoundingRectangle from \"../Core/BoundingRectangle.js\";\nimport Cartesian2 from \"../Core/Cartesian2.js\";\nimport Check from \"../Core/Check.js\";\nimport createGuid from \"../Core/createGuid.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport CesiumMath from \"../Core/Math.js\";\nimport PixelFormat from \"../Core/PixelFormat.js\";\nimport Resource from \"../Core/Resource.js\";\nimport RuntimeError from \"../Core/RuntimeError.js\";\nimport TexturePacker from \"../Core/TexturePacker.js\";\nimport Framebuffer from \"./Framebuffer.js\";\nimport Texture from \"./Texture.js\";\n\nconst defaultInitialDimensions = 16;\n\n/**\n * A TextureAtlas stores multiple images in one texture and keeps\n * track of the texture coordinates for each image. A TextureAtlas is dynamic,\n * meaning new images can be added at any point in time.\n * Texture coordinates are subject to change if the texture atlas resizes, so it's\n * important to check {@link TextureAtlas#guid} before using old values.\n *\n * @alias TextureAtlas\n * @constructor\n *\n * @param {object} options Object with the following properties:\n * @param {PixelFormat} [options.pixelFormat=PixelFormat.RGBA] The pixel format of the texture.\n * @param {Sampler} [options.sampler=new Sampler()] Information about how to sample the texture.\n * @param {number} [options.borderWidthInPixels=1] The amount of spacing between adjacent images in pixels.\n * @param {Cartesian2} [options.initialSize=new Cartesian2(16.0, 16.0)] The initial side lengths of the texture.\n *\n * @exception {DeveloperError} borderWidthInPixels must be greater than or equal to zero.\n * @exception {DeveloperError} initialSize must be greater than zero.\n *\n * @private\n */\nfunction TextureAtlas(options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n  const borderWidthInPixels = options.borderWidthInPixels ?? 1.0;\n  const initialSize =\n    options.initialSize ??\n    new Cartesian2(defaultInitialDimensions, defaultInitialDimensions);\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.number.greaterThanOrEquals(\n    \"options.borderWidthInPixels\",\n    borderWidthInPixels,\n    0,\n  );\n  Check.typeOf.number.greaterThan(\"options.initialSize.x\", initialSize.x, 0);\n  Check.typeOf.number.greaterThan(\"options.initialSize.y\", initialSize.y, 0);\n  //>>includeEnd('debug');\n\n  this._pixelFormat = options.pixelFormat ?? PixelFormat.RGBA;\n  this._sampler = options.sampler;\n  this._borderWidthInPixels = borderWidthInPixels;\n  this._initialSize = initialSize;\n\n  this._texturePacker = undefined;\n  /** @type {BoundingRectangle[]} */\n  this._rectangles = [];\n  /** @type {Map<number, number>} */\n  this._subRegions = new Map();\n  this._guid = createGuid();\n\n  this._imagesToAddQueue = [];\n  /** @type {Map<string, number>} */\n  this._indexById = new Map();\n  /** @type {Map<string, Promise<number>>} */\n  this._indexPromiseById = new Map();\n  this._nextIndex = 0;\n}\n\nObject.defineProperties(TextureAtlas.prototype, {\n  /**\n   * The amount of spacing between adjacent images in pixels.\n   * @memberof TextureAtlas.prototype\n   * @type {number}\n   * @readonly\n   * @private\n   */\n  borderWidthInPixels: {\n    get: function () {\n      return this._borderWidthInPixels;\n    },\n  },\n\n  /**\n   * An array of {@link BoundingRectangle} pixel offset and dimensions for all the images in the texture atlas.\n   * The x and y values of the rectangle correspond to the bottom-left corner of the texture coordinate.\n   * If the index is a subregion of an existing image, thea and y values are specified as offsets relative to the parent.\n   * The coordinates are in the order that the corresponding images were added to the atlas.\n   * @memberof TextureAtlas.prototype\n   * @type {BoundingRectangle[]}\n   * @readonly\n   * @private\n   */\n  rectangles: {\n    get: function () {\n      return this._rectangles;\n    },\n  },\n\n  /**\n   * The texture that all of the images are being written to. The value will be <code>undefined</code> until the first update.\n   * @memberof TextureAtlas.prototype\n   * @type {Texture|undefined}\n   * @readonly\n   * @private\n   */\n  texture: {\n    get: function () {\n      return this._texture;\n    },\n  },\n\n  /**\n   * The pixel format of the texture.\n   * @memberof TextureAtlas.prototype\n   * @type {PixelFormat}\n   * @readonly\n   * @private\n   */\n  pixelFormat: {\n    get: function () {\n      return this._pixelFormat;\n    },\n  },\n\n  /**\n   * The sampler to use when sampling this texture. If <code>undefined</code>, the default sampler is used.\n   * @memberof TextureAtlas.prototype\n   * @type {Sampler|undefined}\n   * @readonly\n   * @private\n   */\n  sampler: {\n    get: function () {\n      return this._sampler;\n    },\n  },\n\n  /**\n   * The number of images in the texture atlas. This value increases\n   * every time addImage or addImageSubRegion is called.\n   * Texture coordinates are subject to change if the texture atlas resizes, so it is\n   * important to check {@link TextureAtlas#guid} before using old values.\n   * @memberof TextureAtlas.prototype\n   * @type {number}\n   * @readonly\n   * @private\n   */\n  numberOfImages: {\n    get: function () {\n      return this._nextIndex;\n    },\n  },\n\n  /**\n   * The atlas' globally unique identifier (GUID).\n   * The GUID changes whenever the texture atlas is modified.\n   * Classes that use a texture atlas should check if the GUID\n   * has changed before processing the atlas data.\n   * @memberof TextureAtlas.prototype\n   * @type {string}\n   * @readonly\n   * @private\n   */\n  guid: {\n    get: function () {\n      return this._guid;\n    },\n  },\n\n  /**\n   * Returns the size in bytes of the texture.\n   * @memberof TextureAtlas.prototype\n   * @type {number}\n   * @readonly\n   * @private\n   */\n  sizeInBytes: {\n    get: function () {\n      if (!defined(this._texture)) {\n        return 0;\n      }\n\n      return this._texture.sizeInBytes;\n    },\n  },\n});\n\n/**\n * Get the texture coordinates for reading the associated image in shaders.\n * @param {number} index The index of the image region.\n * @param {BoundingRectangle} [result] The object into which to store the result.\n * @return {BoundingRectangle} The modified result parameter or a new BoundingRectangle instance if one was not provided.\n * @private\n * @example\n * const index = await atlas.addImage(\"myImage\", image);\n * const rectangle = atlas.computeTextureCoordinates(index);\n * BoundingRectangle.pack(rectangle, bufferView);\n */\nTextureAtlas.prototype.computeTextureCoordinates = function (index, result) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.number.greaterThanOrEquals(\"index\", index, 0);\n  //>>includeEnd('debug');\n\n  const texture = this._texture;\n  const rectangle = this._rectangles[index];\n\n  if (!defined(result)) {\n    result = new BoundingRectangle();\n  }\n\n  if (!defined(rectangle)) {\n    result.x = 0;\n    result.y = 0;\n    result.width = 0;\n    result.height = 0;\n\n    return result;\n  }\n\n  const atlasWidth = texture.width;\n  const atlasHeight = texture.height;\n\n  const width = rectangle.width;\n  const height = rectangle.height;\n  let x = rectangle.x;\n  let y = rectangle.y;\n\n  const parentIndex = this._subRegions.get(index);\n  if (defined(parentIndex)) {\n    const parentRectangle = this._rectangles[parentIndex];\n\n    x += parentRectangle.x;\n    y += parentRectangle.y;\n  }\n\n  result.x = x / atlasWidth;\n  result.y = y / atlasHeight;\n  result.width = width / atlasWidth;\n  result.height = height / atlasHeight;\n\n  return result;\n};\n\n/**\n * Perform a WebGL texture copy for each existing image from its previous packed position to its new packed position in the new texture.\n * @param {Context} context The rendering context\n * @param {number} width The pixel width of the texture\n * @param {number} height The pixel height of the texture\n * @param {BoundingRectangle[]} rectangles The packed bounding rectangles for the reszied texture\n * @param {number} queueOffset Index of the last queued item that was successfully packed\n * @private\n */\nTextureAtlas.prototype._copyFromTexture = function (\n  context,\n  width,\n  height,\n  rectangles,\n) {\n  const pixelFormat = this._pixelFormat;\n  const sampler = this._sampler;\n  const newTexture = new Texture({\n    context,\n    height,\n    width,\n    pixelFormat,\n    sampler,\n  });\n\n  const gl = context._gl;\n  const target = newTexture._textureTarget;\n\n  const oldTexture = this._texture;\n  const framebuffer = new Framebuffer({\n    context,\n    colorTextures: [oldTexture],\n    destroyAttachments: false,\n  });\n\n  gl.activeTexture(gl.TEXTURE0);\n  gl.bindTexture(target, newTexture._texture);\n\n  framebuffer._bind();\n\n  // Copy any textures from the old atlas to its new position in the new atlas\n  const oldRectangles = this.rectangles;\n  const subRegions = this._subRegions;\n  for (let index = 0; index < oldRectangles.length; ++index) {\n    const rectangle = rectangles[index];\n    const frameBufferOffset = oldRectangles[index];\n\n    if (\n      !defined(rectangle) ||\n      !defined(frameBufferOffset) ||\n      defined(subRegions.get(index)) // The rectangle corresponds to a subregion of a parent image\n    ) {\n      continue;\n    }\n\n    const { x, y, width, height } = rectangle;\n    gl.copyTexSubImage2D(\n      target,\n      0,\n      x,\n      y,\n      frameBufferOffset.x,\n      frameBufferOffset.y,\n      width,\n      height,\n    );\n  }\n\n  gl.bindTexture(target, null);\n  newTexture._initialized = true;\n\n  framebuffer._unBind();\n  framebuffer.destroy();\n\n  return newTexture;\n};\n\n/**\n * Recreates the texture atlas texture with new dimensions and repacks images as needed.\n * @param {Context} context The rendering context\n * @param {number} [queueOffset = 0] Index of the last queued item that was successfully packed\n * @private\n */\nTextureAtlas.prototype._resize = function (context, queueOffset = 0) {\n  const borderPadding = this._borderWidthInPixels;\n  const oldRectangles = this._rectangles;\n  const queue = this._imagesToAddQueue;\n\n  const oldTexture = this._texture;\n  let width = oldTexture.width;\n  let height = oldTexture.height;\n\n  // Get the rectangles (width and height) of the current set of images,\n  // ignoring the subregions, which don't get packed\n  const subRegions = this._subRegions;\n  const toPack = oldRectangles\n    .map((image, index) => {\n      return new AddImageRequest({ index, image });\n    })\n    .filter(\n      (request, index) =>\n        defined(request.image) && !defined(subRegions.get(index)),\n    );\n\n  // Add the new set of images\n  let maxWidth = 0;\n  let maxHeight = 0;\n  let areaQueued = 0;\n  for (let i = queueOffset; i < queue.length; ++i) {\n    const { width, height } = queue[i].image;\n    maxWidth = Math.max(maxWidth, width);\n    maxHeight = Math.max(maxHeight, height);\n    areaQueued += width * height;\n    toPack.push(queue[i]);\n  }\n\n  // At minimum, atlas must fit its largest input images. Texture coordinates are\n  // compressed to 01 with 12-bit precision, so use power-of-two size to align pixels.\n  width = CesiumMath.nextPowerOfTwo(Math.max(maxWidth, width));\n  height = CesiumMath.nextPowerOfTwo(Math.max(maxHeight, height));\n\n  // Iteratively double the smallest dimension until atlas area is (approximately) sufficient.\n  while (areaQueued >= width * height) {\n    if (width > height) {\n      height *= 2;\n    } else {\n      width *= 2;\n    }\n  }\n\n  toPack.sort(\n    ({ image: imageA }, { image: imageB }) =>\n      imageB.height * imageB.width - imageA.height * imageA.width,\n  );\n\n  const newRectangles = new Array(this._nextIndex);\n  for (const index of this._subRegions.keys()) {\n    // Subregions are specified relative to their parents,\n    // so we can copy them directly\n    if (defined(subRegions.get(index))) {\n      newRectangles[index] = oldRectangles[index];\n    }\n  }\n\n  let texturePacker,\n    packed = false;\n  while (!packed) {\n    texturePacker = new TexturePacker({ height, width, borderPadding });\n\n    let i;\n    for (i = 0; i < toPack.length; ++i) {\n      const { index, image } = toPack[i];\n      if (!defined(image)) {\n        continue;\n      }\n\n      const repackedNode = texturePacker.pack(index, image);\n      if (!defined(repackedNode)) {\n        // Could not fit everything into the new texture.\n        // Scale texture size and try again\n        if (width > height) {\n          // Resize height\n          height *= 2.0;\n        } else {\n          // Resize width\n          width *= 2.0;\n        }\n\n        break;\n      }\n\n      newRectangles[index] = repackedNode.rectangle;\n    }\n\n    packed = i === toPack.length;\n  }\n\n  this._texturePacker = texturePacker;\n  this._texture = this._copyFromTexture(context, width, height, newRectangles);\n\n  oldTexture.destroy();\n\n  this._rectangles = newRectangles;\n  this._guid = createGuid();\n};\n\n/**\n * Return the index of the image region for the specified ID. If the image is already in the atlas, the existing index is returned. Otherwise, the result is undefined.\n * @param {string} id An identifier to detect whether the image already exists in the atlas.\n * @returns {number|undefined} The image index, or undefined if the image does not exist in the atlas.\n * @private\n */\nTextureAtlas.prototype.getImageIndex = function (id) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"id\", id);\n  //>>includeEnd('debug');\n\n  return this._indexById.get(id);\n};\n\n/**\n * Copy image data into the underlying texture atlas.\n * @param {AddImageRequest} imageRequest The data needed to resolve the call to addImage in the queue\n * @private\n */\nTextureAtlas.prototype._copyImageToTexture = function ({\n  index,\n  image,\n  resolve,\n  reject,\n}) {\n  const texture = this._texture;\n  const rectangle = this._rectangles[index];\n\n  try {\n    texture.copyFrom({\n      source: image,\n      xOffset: rectangle.x,\n      yOffset: rectangle.y,\n    });\n\n    if (defined(resolve)) {\n      resolve(index);\n    }\n  } catch (e) {\n    if (defined(reject)) {\n      reject(e);\n      return;\n    }\n  }\n};\n\n/**\n * Info needed to add a queued image to the texture atlas when update operatons are executed, typically at the end of a frame.\n * @constructor\n * @private\n * @param {object} options Object with the following properties:\n * @param {number} options.index An identifier\n * @param {TexturePacker.PackableObject} options.image An object, such as an <code>Image</code> with <code>width</code> and <code>height</code> properties in pixels\n * @param {function} [options.resolve] The promise resolver\n * @param {function} [options.reject] The promise rejecter\n */\nfunction AddImageRequest({ index, image, resolve, reject }) {\n  this.index = index;\n  this.image = image;\n  this.resolve = resolve;\n  this.reject = reject;\n  this.rectangle = undefined;\n}\n\n/**\n * Adds an image to the queue for this frame.\n * The image will be copied to the texture at the end of the frame, resizing the texture if needed.\n *\n * @private\n * @param {number} index An identifier\n * @param {TexturePacker.PackableObject} image An object, such as an <code>Image</code> with <code>width</code> and <code>height</code> properties in pixels\n * @returns {Promise<number>} Promise which resolves to the image index once the image has been added, or rejects if there was an error. The promise resolves to <code>-1</code> if the texture atlas is destoyed in the interim.\n */\nTextureAtlas.prototype._addImage = function (index, image) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.number.greaterThanOrEquals(\"index\", index, 0);\n  Check.defined(\"image\", image);\n  //>>includeEnd('debug');\n\n  return new Promise((resolve, reject) => {\n    this._imagesToAddQueue.push(\n      new AddImageRequest({\n        index,\n        image,\n        resolve,\n        reject,\n      }),\n    );\n\n    this._imagesToAddQueue.sort(\n      ({ image: imageA }, { image: imageB }) =>\n        imageB.height * imageB.width - imageA.height * imageA.width,\n    );\n  });\n};\n\n/**\n * Process the image queue for this frame, copying to the texture atlas and resizing the texture as needed.\n * @private\n * @param {Context} context The rendering context\n * @return {boolean} true if the texture was updated this frame\n */\nTextureAtlas.prototype._processImageQueue = function (context) {\n  const queue = this._imagesToAddQueue;\n  if (queue.length === 0) {\n    return false;\n  }\n\n  this._rectangles.length = this._nextIndex;\n\n  let i, error;\n  for (i = 0; i < queue.length; ++i) {\n    const imageRequest = queue[i];\n    const { image, index } = imageRequest;\n    const node = this._texturePacker.pack(index, image);\n    if (!defined(node)) {\n      // Atlas cannot fit all images in the queue\n      // Bail early and resize\n      try {\n        this._resize(context, i);\n      } catch (e) {\n        error = e;\n\n        if (defined(imageRequest.reject)) {\n          imageRequest.reject(error);\n        }\n      }\n      break;\n    }\n    this._rectangles[index] = node.rectangle;\n  }\n\n  if (defined(error)) {\n    for (i = i + 1; i < queue.length; ++i) {\n      const { resolve } = queue[i];\n      if (defined(resolve)) {\n        resolve(-1);\n      }\n    }\n\n    queue.length = 0;\n    return false;\n  }\n\n  for (let i = 0; i < queue.length; ++i) {\n    this._copyImageToTexture(queue[i]);\n  }\n\n  queue.length = 0;\n  return true;\n};\n\n/**\n * Processes any updates queued this frame, and updates rendering resources accordingly. Call before or after a frame has been rendered to avoid any race conditions for any dependant render commands.\n * @private\n * @param {Context} context The rendering context\n * @return {boolean} true if rendering resources were updated.\n */\nTextureAtlas.prototype.update = function (context) {\n  if (!defined(this._texture)) {\n    const width = this._initialSize.x;\n    const height = this._initialSize.y;\n    const pixelFormat = this._pixelFormat;\n    const sampler = this._sampler;\n    const borderPadding = this._borderWidthInPixels;\n\n    this._texture = new Texture({\n      context,\n      width,\n      height,\n      pixelFormat,\n      sampler,\n    });\n\n    this._texturePacker = new TexturePacker({\n      height,\n      width,\n      borderPadding,\n    });\n  }\n\n  return this._processImageQueue(context);\n};\n\nasync function resolveImage(image, id) {\n  if (typeof image === \"function\") {\n    image = image(id);\n  }\n\n  if (typeof image === \"string\" || image instanceof Resource) {\n    // Fetch the resource\n    const resource = Resource.createIfNeeded(image);\n    image = resource.fetchImage();\n  }\n\n  return image;\n}\n\n/**\n * Adds an image to the atlas.  If the image is already in the atlas, the atlas is unchanged and\n * the existing index is used.\n * @private\n * @param {string} id An identifier to detect whether the image already exists in the atlas.\n * @param {HTMLImageElement|HTMLCanvasElement|string|Resource|Promise|TextureAtlas.CreateImageCallback} image An image or canvas to add to the texture atlas,\n *        or a URL to an Image, or a Promise for an image, or a function that creates an image.\n * @param {number} width A number specifying the width of the texture. If undefined, the image width will be used.\n * @param {number} height A number specifying the height of the texture. If undefined, the image height will be used.\n * @returns {Promise<number>} A Promise that resolves to the image region index, or -1 if resources are in the process of being destroyed.\n */\nTextureAtlas.prototype.addImage = function (id, image, width, height) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"id\", id);\n  Check.defined(\"image\", image);\n  //>>includeEnd('debug');\n\n  let promise = this._indexPromiseById.get(id);\n  let index = this._indexById.get(id);\n  if (defined(promise)) {\n    // This image is already being added\n    return promise;\n  }\n  if (defined(index)) {\n    // This image has already been added and resolved\n    return Promise.resolve(index);\n  }\n\n  index = this._nextIndex++;\n  this._indexById.set(id, index);\n\n  const resolveAndAddImage = async () => {\n    const resolvedImage = await resolveImage(image, id);\n    //>>includeStart('debug', pragmas.debug);\n    Check.defined(\"image\", resolvedImage);\n    //>>includeEnd('debug');\n\n    if (this.isDestroyed() || !defined(resolvedImage)) {\n      this._indexPromiseById.delete(id);\n      return -1;\n    }\n\n    if (defined(width)) {\n      resolvedImage.width = width;\n    }\n    if (defined(height)) {\n      resolvedImage.height = height;\n    }\n\n    const imageIndex = await this._addImage(index, resolvedImage);\n    this._indexPromiseById.delete(id);\n    return imageIndex;\n  };\n\n  promise = resolveAndAddImage();\n  this._indexPromiseById.set(id, promise);\n  return promise;\n};\n\n/**\n * Get an existing sub-region of an existing atlas image as additional image indices.\n * @private\n * @param {string} id The identifier of the existing image.\n * @param {BoundingRectangle} subRegion An {@link BoundingRectangle} defining a region of an existing image, measured in pixels from the bottom-left of the image.\n * @param {number} imageIndex The index of the image.\n * @returns {Promise<number> | number | undefined} The existing subRegion index, or undefined if not yet added.\n */\nTextureAtlas.prototype.getCachedImageSubRegion = function (\n  id,\n  subRegion,\n  imageIndex,\n) {\n  const imagePromise = this._indexPromiseById.get(id);\n  for (const [index, parentIndex] of this._subRegions.entries()) {\n    if (imageIndex === parentIndex) {\n      const boundingRegion = this._rectangles[index];\n      if (boundingRegion.equals(subRegion)) {\n        // The subregion is already being tracked\n        if (imagePromise) {\n          return imagePromise.then((resolvedImageIndex) =>\n            resolvedImageIndex === -1 ? -1 : index,\n          );\n        }\n        return index;\n      }\n    }\n  }\n};\n\n/**\n * Add a sub-region of an existing atlas image as additional image indices.\n * @private\n * @param {string} id The identifier of the existing image.\n * @param {BoundingRectangle} subRegion An {@link BoundingRectangle} defining a region of an existing image, measured in pixels from the bottom-left of the image.\n * @returns {number | Promise<number>} The resolved image region index, or a Promise that resolves to it. -1 is returned if resources are in the process of being destroyed.\n */\nTextureAtlas.prototype.addImageSubRegion = function (id, subRegion) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"id\", id);\n  Check.defined(\"subRegion\", subRegion);\n  //>>includeEnd('debug');\n  const imageIndex = this._indexById.get(id);\n  if (!defined(imageIndex)) {\n    throw new RuntimeError(`image with id \"${id}\" not found in the atlas.`);\n  }\n\n  let index = this.getCachedImageSubRegion(id, subRegion, imageIndex);\n  if (defined(index)) {\n    return index;\n  }\n\n  index = this._nextIndex++;\n  this._subRegions.set(index, imageIndex);\n  this._rectangles[index] = subRegion.clone();\n\n  const indexPromise =\n    this._indexPromiseById.get(id) ?? Promise.resolve(imageIndex);\n\n  return indexPromise.then((imageIndex) => {\n    if (imageIndex === -1) {\n      // The atlas has been destroyed\n      return -1;\n    }\n\n    const rectangle = this._rectangles[imageIndex];\n\n    //>>includeStart('debug', pragmas.debug);\n    Check.typeOf.number.lessThanOrEquals(\n      \"subRegion.x\",\n      subRegion.x,\n      rectangle.width,\n    );\n    Check.typeOf.number.lessThanOrEquals(\n      \"subRegion.x + subRegion.width\",\n      subRegion.x + subRegion.width,\n      rectangle.width,\n    );\n    Check.typeOf.number.lessThanOrEquals(\n      \"subRegion.y\",\n      subRegion.y,\n      rectangle.height,\n    );\n    Check.typeOf.number.lessThanOrEquals(\n      \"subRegion.y + subRegion.height\",\n      subRegion.y + subRegion.height,\n      rectangle.height,\n    );\n    //>>includeEnd('debug');\n\n    return index;\n  });\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * <br /><br />\n * If this object was destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.\n * @private\n * @returns {boolean} True if this object was destroyed; otherwise, false.\n * @see TextureAtlas#destroy\n */\nTextureAtlas.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the WebGL resources held by this object.  Destroying an object allows for deterministic\n * release of WebGL resources, instead of relying on the garbage collector to destroy this object.\n * <br /><br />\n * Once an object is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.  Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n * @private\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n * @example\n * atlas = atlas && atlas.destroy();\n * @see TextureAtlas#isDestroyed\n */\nTextureAtlas.prototype.destroy = function () {\n  this._texture = this._texture && this._texture.destroy();\n  this._imagesToAddQueue.forEach(({ resolve }) => {\n    if (defined(resolve)) {\n      resolve(-1);\n    }\n  });\n\n  return destroyObject(this);\n};\n\n/**\n * A function that creates an image.\n * @private\n * @callback TextureAtlas.CreateImageCallback\n * @param {string} id The identifier of the image to load.\n * @returns {HTMLImageElement|Promise<HTMLImageElement>} The image, or a promise that will resolve to an image.\n */\n\nexport default TextureAtlas;\n"],"names":["defaultInitialDimensions","TextureAtlas","options","EMPTY_OBJECT","borderWidthInPixels","initialSize","typeOf","number","greaterThanOrEquals","greaterThan","x","y","_pixelFormat","pixelFormat","RGBA","_sampler","sampler","_borderWidthInPixels","_initialSize","_texturePacker","undefined","_rectangles","_subRegions","Map","_guid","_imagesToAddQueue","_indexById","_indexPromiseById","_nextIndex","Object","defineProperties","prototype","get","rectangles","texture","_texture","numberOfImages","guid","sizeInBytes","computeTextureCoordinates","index","result","rectangle","width","height","atlasWidth","atlasHeight","parentIndex","parentRectangle","_copyFromTexture","context","newTexture","gl","_gl","target","_textureTarget","oldTexture","framebuffer","colorTextures","destroyAttachments","activeTexture","TEXTURE0","bindTexture","_bind","oldRectangles","subRegions","length","frameBufferOffset","copyTexSubImage2D","_initialized","_unBind","destroy","_resize","queueOffset","borderPadding","queue","toPack","map","image","AddImageRequest","filter","request","maxWidth","maxHeight","areaQueued","i","Math","max","push","nextPowerOfTwo","sort","imageA","imageB","newRectangles","Array","keys","texturePacker","packed","repackedNode","pack","getImageIndex","id","string","_copyImageToTexture","resolve","reject","copyFrom","source","xOffset","yOffset","e","_addImage","defined","Promise","_processImageQueue","error","imageRequest","node","update","resolveImage","resource","createIfNeeded","fetchImage","addImage","promise","set","resolveAndAddImage","resolvedImage","isDestroyed","delete","imageIndex","getCachedImageSubRegion","subRegion","imagePromise","entries","boundingRegion","equals","then","resolvedImageIndex","addImageSubRegion","clone","indexPromise","lessThanOrEquals","forEach"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 9455, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/ComputeCommand.js"],"sourcesContent":["import Frozen from \"../Core/Frozen.js\";\nimport Pass from \"./Pass.js\";\n\n/**\n * Represents a command to the renderer for GPU Compute (using old-school GPGPU).\n *\n * @private\n * @constructor\n */\nfunction ComputeCommand(options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  /**\n   * The vertex array. If none is provided, a viewport quad will be used.\n   *\n   * @type {VertexArray}\n   * @default undefined\n   */\n  this.vertexArray = options.vertexArray;\n\n  /**\n   * The fragment shader source. The default vertex shader is ViewportQuadVS.\n   *\n   * @type {ShaderSource}\n   * @default undefined\n   */\n  this.fragmentShaderSource = options.fragmentShaderSource;\n\n  /**\n   * The shader program to apply.\n   *\n   * @type {ShaderProgram}\n   * @default undefined\n   */\n  this.shaderProgram = options.shaderProgram;\n\n  /**\n   * An object with functions whose names match the uniforms in the shader program\n   * and return values to set those uniforms.\n   *\n   * @type {object}\n   * @default undefined\n   */\n  this.uniformMap = options.uniformMap;\n\n  /**\n   * Texture to use for offscreen rendering.\n   *\n   * @type {Texture}\n   * @default undefined\n   */\n  this.outputTexture = options.outputTexture;\n\n  /**\n   * Function that is called immediately before the ComputeCommand is executed. Used to\n   * update any renderer resources. Takes the ComputeCommand as its single argument.\n   *\n   * @type {Function}\n   * @default undefined\n   */\n  this.preExecute = options.preExecute;\n\n  /**\n   * Function that is called after the ComputeCommand is executed. Takes the output\n   * texture as its single argument.\n   *\n   * @type {Function}\n   * @default undefined\n   */\n  this.postExecute = options.postExecute;\n\n  /**\n   * Function that is called when the command is canceled\n   *\n   * @type {Function}\n   * @default undefined\n   */\n  this.canceled = options.canceled;\n\n  /**\n   * Whether the renderer resources will persist beyond this call. If not, they\n   * will be destroyed after completion.\n   *\n   * @type {boolean}\n   * @default false\n   */\n  this.persists = options.persists ?? false;\n\n  /**\n   * The pass when to render. Always compute pass.\n   *\n   * @type {Pass}\n   * @default Pass.COMPUTE;\n   */\n  this.pass = Pass.COMPUTE;\n\n  /**\n   * The object who created this command.  This is useful for debugging command\n   * execution; it allows us to see who created a command when we only have a\n   * reference to the command, and can be used to selectively execute commands\n   * with {@link Scene#debugCommandFilter}.\n   *\n   * @type {object}\n   * @default undefined\n   *\n   * @see Scene#debugCommandFilter\n   */\n  this.owner = options.owner;\n}\n\n/**\n * Executes the compute command.\n *\n * @param {ComputeEngine} computeEngine The context that processes the compute command.\n */\nComputeCommand.prototype.execute = function (computeEngine) {\n  computeEngine.execute(this);\n};\nexport default ComputeCommand;\n"],"names":["ComputeCommand","options","EMPTY_OBJECT","vertexArray","fragmentShaderSource","shaderProgram","uniformMap","outputTexture","preExecute","postExecute","canceled","persists","pass","COMPUTE","owner","prototype","execute","computeEngine"],"mappings":";;;;AAAA;AACA;;;AAEA;;;;;CAKC,GACD,SAASA,eAAeC,OAAO;IAC7BA,UAAUA,WAAW,4KAAM,CAACC,YAAY;IAExC;;;;;GAKC,GACD,IAAI,CAACC,WAAW,GAAGF,QAAQE,WAAW;IAEtC;;;;;GAKC,GACD,IAAI,CAACC,oBAAoB,GAAGH,QAAQG,oBAAoB;IAExD;;;;;GAKC,GACD,IAAI,CAACC,aAAa,GAAGJ,QAAQI,aAAa;IAE1C;;;;;;GAMC,GACD,IAAI,CAACC,UAAU,GAAGL,QAAQK,UAAU;IAEpC;;;;;GAKC,GACD,IAAI,CAACC,aAAa,GAAGN,QAAQM,aAAa;IAE1C;;;;;;GAMC,GACD,IAAI,CAACC,UAAU,GAAGP,QAAQO,UAAU;IAEpC;;;;;;GAMC,GACD,IAAI,CAACC,WAAW,GAAGR,QAAQQ,WAAW;IAEtC;;;;;GAKC,GACD,IAAI,CAACC,QAAQ,GAAGT,QAAQS,QAAQ;IAEhC;;;;;;GAMC,GACD,IAAI,CAACC,QAAQ,GAAGV,QAAQU,QAAQ,IAAI;IAEpC;;;;;GAKC,GACD,IAAI,CAACC,IAAI,GAAG,8KAAI,CAACC,OAAO;IAExB;;;;;;;;;;GAUC,GACD,IAAI,CAACC,KAAK,GAAGb,QAAQa,KAAK;AAC5B;AAEA;;;;CAIC,GACDd,eAAee,SAAS,CAACC,OAAO,GAAG,SAAUC,aAAa;IACxDA,cAAcD,OAAO,CAAC,IAAI;AAC5B;uCACehB","ignoreList":[0]}},
    {"offset": {"line": 9558, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/ClearCommand.js"],"sourcesContent":["import Color from \"../Core/Color.js\";\nimport Frozen from \"../Core/Frozen.js\";\n\n/**\n * Represents a command to the renderer for clearing a framebuffer.\n *\n * @private\n * @constructor\n */\nfunction ClearCommand(options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  /**\n   * The value to clear the color buffer to.  When <code>undefined</code>, the color buffer is not cleared.\n   *\n   * @type {Color}\n   *\n   * @default undefined\n   */\n  this.color = options.color;\n\n  /**\n   * The value to clear the depth buffer to.  When <code>undefined</code>, the depth buffer is not cleared.\n   *\n   * @type {number}\n   *\n   * @default undefined\n   */\n  this.depth = options.depth;\n\n  /**\n   * The value to clear the stencil buffer to.  When <code>undefined</code>, the stencil buffer is not cleared.\n   *\n   * @type {number}\n   *\n   * @default undefined\n   */\n  this.stencil = options.stencil;\n\n  /**\n   * The render state to apply when executing the clear command.  The following states affect clearing:\n   * scissor test, color mask, depth mask, and stencil mask.  When the render state is\n   * <code>undefined</code>, the default render state is used.\n   *\n   * @type {RenderState}\n   *\n   * @default undefined\n   */\n  this.renderState = options.renderState;\n\n  /**\n   * The framebuffer to clear.\n   *\n   * @type {Framebuffer}\n   *\n   * @default undefined\n   */\n  this.framebuffer = options.framebuffer;\n\n  /**\n   * The object who created this command.  This is useful for debugging command\n   * execution; it allows you to see who created a command when you only have a\n   * reference to the command, and can be used to selectively execute commands\n   * with {@link Scene#debugCommandFilter}.\n   *\n   * @type {object}\n   *\n   * @default undefined\n   *\n   * @see Scene#debugCommandFilter\n   */\n  this.owner = options.owner;\n\n  /**\n   * The pass in which to run this command.\n   *\n   * @type {Pass}\n   *\n   * @default undefined\n   */\n  this.pass = options.pass;\n}\n\n/**\n * Clears color to (0.0, 0.0, 0.0, 0.0); depth to 1.0; and stencil to 0.\n *\n * @type {ClearCommand}\n *\n * @constant\n */\nClearCommand.ALL = Object.freeze(\n  new ClearCommand({\n    color: new Color(0.0, 0.0, 0.0, 0.0),\n    depth: 1.0,\n    stencil: 0.0,\n  }),\n);\n\nClearCommand.prototype.execute = function (context, passState) {\n  context.clear(this, passState);\n};\nexport default ClearCommand;\n"],"names":["ClearCommand","options","EMPTY_OBJECT","color","depth","stencil","renderState","framebuffer","owner","pass","ALL","Object","freeze","prototype","execute","context","passState","clear"],"mappings":";;;;AAAA;AACA;;;AAEA;;;;;CAKC,GACD,SAASA,aAAaC,OAAO;IAC3BA,UAAUA,WAAW,4KAAM,CAACC,YAAY;IAExC;;;;;;GAMC,GACD,IAAI,CAACC,KAAK,GAAGF,QAAQE,KAAK;IAE1B;;;;;;GAMC,GACD,IAAI,CAACC,KAAK,GAAGH,QAAQG,KAAK;IAE1B;;;;;;GAMC,GACD,IAAI,CAACC,OAAO,GAAGJ,QAAQI,OAAO;IAE9B;;;;;;;;GAQC,GACD,IAAI,CAACC,WAAW,GAAGL,QAAQK,WAAW;IAEtC;;;;;;GAMC,GACD,IAAI,CAACC,WAAW,GAAGN,QAAQM,WAAW;IAEtC;;;;;;;;;;;GAWC,GACD,IAAI,CAACC,KAAK,GAAGP,QAAQO,KAAK;IAE1B;;;;;;GAMC,GACD,IAAI,CAACC,IAAI,GAAGR,QAAQQ,IAAI;AAC1B;AAEA;;;;;;CAMC,GACDT,aAAaU,GAAG,GAAGC,OAAOC,MAAM,CAC9B,IAAIZ,aAAa;IACfG,OAAO,IAAI,2KAAK,CAAC,KAAK,KAAK,KAAK;IAChCC,OAAO;IACPC,SAAS;AACX;AAGFL,aAAaa,SAAS,CAACC,OAAO,GAAG,SAAUC,OAAO,EAAEC,SAAS;IAC3DD,QAAQE,KAAK,CAAC,IAAI,EAAED;AACtB;uCACehB","ignoreList":[0]}},
    {"offset": {"line": 9649, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/MultisampleFramebuffer.js"],"sourcesContent":["import Check from \"../Core/Check.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport Framebuffer from \"./Framebuffer.js\";\n\n/**\n * Creates a multisampling wrapper around two framebuffers with optional initial\n * color and depth-stencil attachments. The first framebuffer has multisampled\n * renderbuffer attachments and is bound to READ_FRAMEBUFFER during the blit. The\n * second is bound to DRAW_FRAMEBUFFER during the blit, and has texture attachments\n * to store the copied pixels.\n *\n * @param {object} options Object with the following properties:\n * @param {Context} options.context\n * @param {number} options.width\n * @param {number} options.height\n * @param {Texture[]} [options.colorTextures]\n * @param {Renderbuffer[]} [options.colorRenderbuffers]\n * @param {Texture} [options.depthStencilTexture]\n * @param {Renderbuffer} [options.depthStencilRenderbuffer]\n * @param {boolean} [options.destroyAttachments]\n *\n * @exception {DeveloperError} Both color renderbuffer and texture attachments must be provided.\n * @exception {DeveloperError} Both depth-stencil renderbuffer and texture attachments must be provided.\n *\n * @private\n * @constructor\n */\nfunction MultisampleFramebuffer(options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  const {\n    context,\n    width,\n    height,\n    colorRenderbuffers,\n    colorTextures,\n    depthStencilRenderbuffer,\n    depthStencilTexture,\n    destroyAttachments,\n  } = options;\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options.context\", context);\n  Check.defined(\"options.width\", width);\n  Check.defined(\"options.height\", height);\n  //>>includeEnd('debug');\n\n  this._width = width;\n  this._height = height;\n\n  if (defined(colorRenderbuffers) !== defined(colorTextures)) {\n    throw new DeveloperError(\n      \"Both color renderbuffer and texture attachments must be provided.\",\n    );\n  }\n\n  if (defined(depthStencilRenderbuffer) !== defined(depthStencilTexture)) {\n    throw new DeveloperError(\n      \"Both depth-stencil renderbuffer and texture attachments must be provided.\",\n    );\n  }\n\n  this._renderFramebuffer = new Framebuffer({\n    context: context,\n    colorRenderbuffers: colorRenderbuffers,\n    depthStencilRenderbuffer: depthStencilRenderbuffer,\n    destroyAttachments: destroyAttachments,\n  });\n  this._colorFramebuffer = new Framebuffer({\n    context: context,\n    colorTextures: colorTextures,\n    depthStencilTexture: depthStencilTexture,\n    destroyAttachments: destroyAttachments,\n  });\n}\n\nMultisampleFramebuffer.prototype.getRenderFramebuffer = function () {\n  return this._renderFramebuffer;\n};\n\nMultisampleFramebuffer.prototype.getColorFramebuffer = function () {\n  return this._colorFramebuffer;\n};\n\n/**\n * Copy from the render framebuffer to the color framebuffer, resolving the stencil.\n *\n * @param {Context} context\n * @param {boolean} blitStencil <code>true</code> if the stencil mask should be applied.\n *\n * @private\n */\nMultisampleFramebuffer.prototype.blitFramebuffers = function (\n  context,\n  blitStencil,\n) {\n  this._renderFramebuffer.bindRead();\n  this._colorFramebuffer.bindDraw();\n  const gl = context._gl;\n  let mask = 0;\n  if (this._colorFramebuffer._colorTextures.length > 0) {\n    mask |= gl.COLOR_BUFFER_BIT;\n  }\n  if (defined(this._colorFramebuffer.depthStencilTexture)) {\n    mask |= gl.DEPTH_BUFFER_BIT | (blitStencil ? gl.STENCIL_BUFFER_BIT : 0);\n  }\n  gl.blitFramebuffer(\n    0,\n    0,\n    this._width,\n    this._height,\n    0,\n    0,\n    this._width,\n    this._height,\n    mask,\n    gl.NEAREST,\n  );\n  gl.bindFramebuffer(gl.READ_FRAMEBUFFER, null);\n  gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);\n};\n\nMultisampleFramebuffer.prototype.isDestroyed = function () {\n  return false;\n};\n\nMultisampleFramebuffer.prototype.destroy = function () {\n  this._renderFramebuffer.destroy();\n  this._colorFramebuffer.destroy();\n  return destroyObject(this);\n};\n\nexport default MultisampleFramebuffer;\n"],"names":["MultisampleFramebuffer","options","EMPTY_OBJECT","context","width","height","colorRenderbuffers","colorTextures","depthStencilRenderbuffer","depthStencilTexture","destroyAttachments","defined","_width","_height","_renderFramebuffer","_colorFramebuffer","prototype","getRenderFramebuffer","getColorFramebuffer","blitFramebuffers","blitStencil","bindRead","bindDraw","gl","_gl","mask","_colorTextures","length","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","blitFramebuffer","NEAREST","bindFramebuffer","READ_FRAMEBUFFER","DRAW_FRAMEBUFFER","isDestroyed","destroy"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAEA;;;;;;;;;;;;;;;;;;;;;;CAsBC,GACD,SAASA,uBAAuBC,OAAO;IACrCA,UAAUA,WAAW,4KAAM,CAACC,YAAY;IAExC,MAAM,EACJC,OAAO,EACPC,KAAK,EACLC,MAAM,EACNC,kBAAkB,EAClBC,aAAa,EACbC,wBAAwB,EACxBC,mBAAmB,EACnBC,kBAAkB,EACnB,GAAGT;IAEJ,yCAAyC;IACzC,2KAAK,CAACU,OAAO,CAAC,mBAAmBR;IACjC,2KAAK,CAACQ,OAAO,CAAC,iBAAiBP;IAC/B,2KAAK,CAACO,OAAO,CAAC,kBAAkBN;IAChC,wBAAwB;IAExB,IAAI,CAACO,MAAM,GAAGR;IACd,IAAI,CAACS,OAAO,GAAGR;IAEf,IAAI,IAAA,6KAAO,EAACC,wBAAwB,IAAA,6KAAO,EAACC,gBAAgB;QAC1D,MAAM,IAAI,oLAAc,CACtB;IAEJ;IAEA,IAAI,IAAA,6KAAO,EAACC,8BAA8B,IAAA,6KAAO,EAACC,sBAAsB;QACtE,MAAM,IAAI,oLAAc,CACtB;IAEJ;IAEA,IAAI,CAACK,kBAAkB,GAAG,IAAI,qLAAW,CAAC;QACxCX,SAASA;QACTG,oBAAoBA;QACpBE,0BAA0BA;QAC1BE,oBAAoBA;IACtB;IACA,IAAI,CAACK,iBAAiB,GAAG,IAAI,qLAAW,CAAC;QACvCZ,SAASA;QACTI,eAAeA;QACfE,qBAAqBA;QACrBC,oBAAoBA;IACtB;AACF;AAEAV,uBAAuBgB,SAAS,CAACC,oBAAoB,GAAG;IACtD,OAAO,IAAI,CAACH,kBAAkB;AAChC;AAEAd,uBAAuBgB,SAAS,CAACE,mBAAmB,GAAG;IACrD,OAAO,IAAI,CAACH,iBAAiB;AAC/B;AAEA;;;;;;;CAOC,GACDf,uBAAuBgB,SAAS,CAACG,gBAAgB,GAAG,SAClDhB,OAAO,EACPiB,WAAW;IAEX,IAAI,CAACN,kBAAkB,CAACO,QAAQ;IAChC,IAAI,CAACN,iBAAiB,CAACO,QAAQ;IAC/B,MAAMC,KAAKpB,QAAQqB,GAAG;IACtB,IAAIC,OAAO;IACX,IAAI,IAAI,CAACV,iBAAiB,CAACW,cAAc,CAACC,MAAM,GAAG,GAAG;QACpDF,QAAQF,GAAGK,gBAAgB;IAC7B;IACA,IAAI,IAAA,6KAAO,EAAC,IAAI,CAACb,iBAAiB,CAACN,mBAAmB,GAAG;QACvDgB,QAAQF,GAAGM,gBAAgB,GAAG,CAACT,cAAcG,GAAGO,kBAAkB,GAAG,CAAC;IACxE;IACAP,GAAGQ,eAAe,CAChB,GACA,GACA,IAAI,CAACnB,MAAM,EACX,IAAI,CAACC,OAAO,EACZ,GACA,GACA,IAAI,CAACD,MAAM,EACX,IAAI,CAACC,OAAO,EACZY,MACAF,GAAGS,OAAO;IAEZT,GAAGU,eAAe,CAACV,GAAGW,gBAAgB,EAAE;IACxCX,GAAGU,eAAe,CAACV,GAAGY,gBAAgB,EAAE;AAC1C;AAEAnC,uBAAuBgB,SAAS,CAACoB,WAAW,GAAG;IAC7C,OAAO;AACT;AAEApC,uBAAuBgB,SAAS,CAACqB,OAAO,GAAG;IACzC,IAAI,CAACvB,kBAAkB,CAACuB,OAAO;IAC/B,IAAI,CAACtB,iBAAiB,CAACsB,OAAO;IAC9B,OAAO,IAAA,mLAAa,EAAC,IAAI;AAC3B;uCAEerC","ignoreList":[0]}},
    {"offset": {"line": 9757, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/RenderbufferFormat.js"],"sourcesContent":["import WebGLConstants from \"../Core/WebGLConstants.js\";\n\n/**\n * @private\n */\nconst RenderbufferFormat = {\n  RGBA4: WebGLConstants.RGBA4,\n  RGBA8: WebGLConstants.RGBA8,\n  RGBA16F: WebGLConstants.RGBA16F,\n  RGBA32F: WebGLConstants.RGBA32F,\n  RGB5_A1: WebGLConstants.RGB5_A1,\n  RGB565: WebGLConstants.RGB565,\n  DEPTH_COMPONENT16: WebGLConstants.DEPTH_COMPONENT16,\n  STENCIL_INDEX8: WebGLConstants.STENCIL_INDEX8,\n  DEPTH_STENCIL: WebGLConstants.DEPTH_STENCIL,\n  DEPTH24_STENCIL8: WebGLConstants.DEPTH24_STENCIL8,\n\n  validate: function (renderbufferFormat) {\n    return (\n      renderbufferFormat === RenderbufferFormat.RGBA4 ||\n      renderbufferFormat === RenderbufferFormat.RGBA8 ||\n      renderbufferFormat === RenderbufferFormat.RGBA16F ||\n      renderbufferFormat === RenderbufferFormat.RGBA32F ||\n      renderbufferFormat === RenderbufferFormat.RGB5_A1 ||\n      renderbufferFormat === RenderbufferFormat.RGB565 ||\n      renderbufferFormat === RenderbufferFormat.DEPTH_COMPONENT16 ||\n      renderbufferFormat === RenderbufferFormat.STENCIL_INDEX8 ||\n      renderbufferFormat === RenderbufferFormat.DEPTH_STENCIL ||\n      renderbufferFormat === RenderbufferFormat.DEPTH24_STENCIL8\n    );\n  },\n\n  getColorFormat: function (datatype) {\n    if (datatype === WebGLConstants.FLOAT) {\n      return RenderbufferFormat.RGBA32F;\n    } else if (datatype === WebGLConstants.HALF_FLOAT_OES) {\n      return RenderbufferFormat.RGBA16F;\n    }\n    return RenderbufferFormat.RGBA8;\n  },\n};\nexport default Object.freeze(RenderbufferFormat);\n"],"names":["RenderbufferFormat","RGBA4","RGBA8","RGBA16F","RGBA32F","RGB5_A1","RGB565","DEPTH_COMPONENT16","STENCIL_INDEX8","DEPTH_STENCIL","DEPTH24_STENCIL8","validate","renderbufferFormat","getColorFormat","datatype","FLOAT","HALF_FLOAT_OES","Object","freeze"],"mappings":";;;;AAAA;;AAEA;;CAEC,GACD,MAAMA,qBAAqB;IACzBC,OAAO,oLAAc,CAACA,KAAK;IAC3BC,OAAO,oLAAc,CAACA,KAAK;IAC3BC,SAAS,oLAAc,CAACA,OAAO;IAC/BC,SAAS,oLAAc,CAACA,OAAO;IAC/BC,SAAS,oLAAc,CAACA,OAAO;IAC/BC,QAAQ,oLAAc,CAACA,MAAM;IAC7BC,mBAAmB,oLAAc,CAACA,iBAAiB;IACnDC,gBAAgB,oLAAc,CAACA,cAAc;IAC7CC,eAAe,oLAAc,CAACA,aAAa;IAC3CC,kBAAkB,oLAAc,CAACA,gBAAgB;IAEjDC,UAAU,SAAUC,kBAAkB;QACpC,OACEA,uBAAuBZ,mBAAmBC,KAAK,IAC/CW,uBAAuBZ,mBAAmBE,KAAK,IAC/CU,uBAAuBZ,mBAAmBG,OAAO,IACjDS,uBAAuBZ,mBAAmBI,OAAO,IACjDQ,uBAAuBZ,mBAAmBK,OAAO,IACjDO,uBAAuBZ,mBAAmBM,MAAM,IAChDM,uBAAuBZ,mBAAmBO,iBAAiB,IAC3DK,uBAAuBZ,mBAAmBQ,cAAc,IACxDI,uBAAuBZ,mBAAmBS,aAAa,IACvDG,uBAAuBZ,mBAAmBU,gBAAgB;IAE9D;IAEAG,gBAAgB,SAAUC,QAAQ;QAChC,IAAIA,aAAa,oLAAc,CAACC,KAAK,EAAE;YACrC,OAAOf,mBAAmBI,OAAO;QACnC,OAAO,IAAIU,aAAa,oLAAc,CAACE,cAAc,EAAE;YACrD,OAAOhB,mBAAmBG,OAAO;QACnC;QACA,OAAOH,mBAAmBE,KAAK;IACjC;AACF;uCACee,OAAOC,MAAM,CAAClB","ignoreList":[0]}},
    {"offset": {"line": 9793, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/Renderbuffer.js"],"sourcesContent":["import Check from \"../Core/Check.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport ContextLimits from \"./ContextLimits.js\";\nimport RenderbufferFormat from \"./RenderbufferFormat.js\";\n\n/**\n * @private\n */\nfunction Renderbuffer(options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options.context\", options.context);\n  //>>includeEnd('debug');\n\n  const context = options.context;\n  const gl = context._gl;\n  const maximumRenderbufferSize = ContextLimits.maximumRenderbufferSize;\n\n  const format = options.format ?? RenderbufferFormat.RGBA4;\n  const width = defined(options.width)\n    ? options.width\n    : context.drawingBufferWidth;\n  const height = defined(options.height)\n    ? options.height\n    : context.drawingBufferHeight;\n  const numSamples = options.numSamples ?? 1;\n\n  //>>includeStart('debug', pragmas.debug);\n  if (!RenderbufferFormat.validate(format)) {\n    throw new DeveloperError(\"Invalid format.\");\n  }\n\n  Check.typeOf.number.greaterThan(\"width\", width, 0);\n\n  if (width > maximumRenderbufferSize) {\n    throw new DeveloperError(\n      `Width must be less than or equal to the maximum renderbuffer size (${maximumRenderbufferSize}).  Check maximumRenderbufferSize.`,\n    );\n  }\n\n  Check.typeOf.number.greaterThan(\"height\", height, 0);\n\n  if (height > maximumRenderbufferSize) {\n    throw new DeveloperError(\n      `Height must be less than or equal to the maximum renderbuffer size (${maximumRenderbufferSize}).  Check maximumRenderbufferSize.`,\n    );\n  }\n  //>>includeEnd('debug');\n\n  this._gl = gl;\n  this._format = format;\n  this._width = width;\n  this._height = height;\n  this._renderbuffer = this._gl.createRenderbuffer();\n\n  gl.bindRenderbuffer(gl.RENDERBUFFER, this._renderbuffer);\n  if (numSamples > 1) {\n    gl.renderbufferStorageMultisample(\n      gl.RENDERBUFFER,\n      numSamples,\n      format,\n      width,\n      height,\n    );\n  } else {\n    gl.renderbufferStorage(gl.RENDERBUFFER, format, width, height);\n  }\n  gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n}\n\nObject.defineProperties(Renderbuffer.prototype, {\n  format: {\n    get: function () {\n      return this._format;\n    },\n  },\n  width: {\n    get: function () {\n      return this._width;\n    },\n  },\n  height: {\n    get: function () {\n      return this._height;\n    },\n  },\n});\n\nRenderbuffer.prototype._getRenderbuffer = function () {\n  return this._renderbuffer;\n};\n\nRenderbuffer.prototype.isDestroyed = function () {\n  return false;\n};\n\nRenderbuffer.prototype.destroy = function () {\n  this._gl.deleteRenderbuffer(this._renderbuffer);\n  return destroyObject(this);\n};\nexport default Renderbuffer;\n"],"names":["Renderbuffer","options","EMPTY_OBJECT","defined","context","gl","_gl","maximumRenderbufferSize","format","RGBA4","width","drawingBufferWidth","height","drawingBufferHeight","numSamples","validate","typeOf","number","greaterThan","_format","_width","_height","_renderbuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorageMultisample","renderbufferStorage","Object","defineProperties","prototype","get","_getRenderbuffer","isDestroyed","destroy","deleteRenderbuffer"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAEA;;CAEC,GACD,SAASA,aAAaC,OAAO;IAC3BA,UAAUA,WAAW,4KAAM,CAACC,YAAY;IAExC,yCAAyC;IACzC,2KAAK,CAACC,OAAO,CAAC,mBAAmBF,QAAQG,OAAO;IAChD,wBAAwB;IAExB,MAAMA,UAAUH,QAAQG,OAAO;IAC/B,MAAMC,KAAKD,QAAQE,GAAG;IACtB,MAAMC,0BAA0B,uLAAa,CAACA,uBAAuB;IAErE,MAAMC,SAASP,QAAQO,MAAM,IAAI,4LAAkB,CAACC,KAAK;IACzD,MAAMC,QAAQ,IAAA,6KAAO,EAACT,QAAQS,KAAK,IAC/BT,QAAQS,KAAK,GACbN,QAAQO,kBAAkB;IAC9B,MAAMC,SAAS,IAAA,6KAAO,EAACX,QAAQW,MAAM,IACjCX,QAAQW,MAAM,GACdR,QAAQS,mBAAmB;IAC/B,MAAMC,aAAab,QAAQa,UAAU,IAAI;IAEzC,yCAAyC;IACzC,IAAI,CAAC,4LAAkB,CAACC,QAAQ,CAACP,SAAS;QACxC,MAAM,IAAI,oLAAc,CAAC;IAC3B;IAEA,2KAAK,CAACQ,MAAM,CAACC,MAAM,CAACC,WAAW,CAAC,SAASR,OAAO;IAEhD,IAAIA,QAAQH,yBAAyB;QACnC,MAAM,IAAI,oLAAc,CACtB,CAAC,mEAAmE,EAAEA,wBAAwB,kCAAkC,CAAC;IAErI;IAEA,2KAAK,CAACS,MAAM,CAACC,MAAM,CAACC,WAAW,CAAC,UAAUN,QAAQ;IAElD,IAAIA,SAASL,yBAAyB;QACpC,MAAM,IAAI,oLAAc,CACtB,CAAC,oEAAoE,EAAEA,wBAAwB,kCAAkC,CAAC;IAEtI;IACA,wBAAwB;IAExB,IAAI,CAACD,GAAG,GAAGD;IACX,IAAI,CAACc,OAAO,GAAGX;IACf,IAAI,CAACY,MAAM,GAAGV;IACd,IAAI,CAACW,OAAO,GAAGT;IACf,IAAI,CAACU,aAAa,GAAG,IAAI,CAAChB,GAAG,CAACiB,kBAAkB;IAEhDlB,GAAGmB,gBAAgB,CAACnB,GAAGoB,YAAY,EAAE,IAAI,CAACH,aAAa;IACvD,IAAIR,aAAa,GAAG;QAClBT,GAAGqB,8BAA8B,CAC/BrB,GAAGoB,YAAY,EACfX,YACAN,QACAE,OACAE;IAEJ,OAAO;QACLP,GAAGsB,mBAAmB,CAACtB,GAAGoB,YAAY,EAAEjB,QAAQE,OAAOE;IACzD;IACAP,GAAGmB,gBAAgB,CAACnB,GAAGoB,YAAY,EAAE;AACvC;AAEAG,OAAOC,gBAAgB,CAAC7B,aAAa8B,SAAS,EAAE;IAC9CtB,QAAQ;QACNuB,KAAK;YACH,OAAO,IAAI,CAACZ,OAAO;QACrB;IACF;IACAT,OAAO;QACLqB,KAAK;YACH,OAAO,IAAI,CAACX,MAAM;QACpB;IACF;IACAR,QAAQ;QACNmB,KAAK;YACH,OAAO,IAAI,CAACV,OAAO;QACrB;IACF;AACF;AAEArB,aAAa8B,SAAS,CAACE,gBAAgB,GAAG;IACxC,OAAO,IAAI,CAACV,aAAa;AAC3B;AAEAtB,aAAa8B,SAAS,CAACG,WAAW,GAAG;IACnC,OAAO;AACT;AAEAjC,aAAa8B,SAAS,CAACI,OAAO,GAAG;IAC/B,IAAI,CAAC5B,GAAG,CAAC6B,kBAAkB,CAAC,IAAI,CAACb,aAAa;IAC9C,OAAO,IAAA,mLAAa,EAAC,IAAI;AAC3B;uCACetB","ignoreList":[0]}},
    {"offset": {"line": 9883, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/FramebufferManager.js"],"sourcesContent":["import Framebuffer from \"./Framebuffer.js\";\nimport MultisampleFramebuffer from \"./MultisampleFramebuffer.js\";\nimport PixelDatatype from \"./PixelDatatype.js\";\nimport Renderbuffer from \"./Renderbuffer.js\";\nimport RenderbufferFormat from \"./RenderbufferFormat.js\";\nimport Sampler from \"./Sampler.js\";\nimport Texture from \"./Texture.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport PixelFormat from \"../Core/PixelFormat.js\";\n\n/**\n * Creates a wrapper object around a framebuffer and its resources.\n *\n * @param {object} options Object with the following properties:\n * @param {number} [options.numSamples=1] The multisampling rate of the render targets. Requires a WebGL2 context.\n * @param {number} [options.colorAttachmentsLength=1] The number of color attachments this FramebufferManager will create.\n * @param {boolean} [options.color=true] Whether the FramebufferManager will use color attachments.\n * @param {boolean} [options.depth=false] Whether the FramebufferManager will use depth attachments.\n * @param {boolean} [options.depthStencil=false] Whether the FramebufferManager will use depth-stencil attachments.\n * @param {boolean} [options.supportsDepthTexture=false] Whether the FramebufferManager will create a depth texture when the extension is supported.\n * @param {boolean} [options.createColorAttachments=true] Whether the FramebufferManager will construct its own color attachments.\n * @param {boolean} [options.createDepthAttachments=true] Whether the FramebufferManager will construct its own depth attachments.\n * @param {PixelDatatype} [options.pixelDatatype=undefined] The default pixel datatype to use when creating color attachments.\n * @param {PixelFormat} [options.pixelFormat=undefined] The default pixel format to use when creating color attachments.\n *\n * @exception {DeveloperError} Must enable at least one type of framebuffer attachment.\n * @exception {DeveloperError} Cannot have both a depth and depth-stencil attachment.\n *\n * @private\n * @constructor\n */\nfunction FramebufferManager(options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n  this._numSamples = options.numSamples ?? 1;\n  this._colorAttachmentsLength = options.colorAttachmentsLength ?? 1;\n\n  this._color = options.color ?? true;\n  this._depth = options.depth ?? false;\n  this._depthStencil = options.depthStencil ?? false;\n  this._supportsDepthTexture = options.supportsDepthTexture ?? false;\n  //>>includeStart('debug', pragmas.debug);\n  if (!this._color && !this._depth && !this._depthStencil) {\n    throw new DeveloperError(\n      \"Must enable at least one type of framebuffer attachment.\",\n    );\n  }\n  if (this._depth && this._depthStencil) {\n    throw new DeveloperError(\n      \"Cannot have both a depth and depth-stencil attachment.\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  this._createColorAttachments = options.createColorAttachments ?? true;\n  this._createDepthAttachments = options.createDepthAttachments ?? true;\n\n  this._pixelDatatype = options.pixelDatatype;\n  this._pixelFormat = options.pixelFormat;\n\n  this._width = undefined;\n  this._height = undefined;\n\n  this._framebuffer = undefined;\n  this._multisampleFramebuffer = undefined;\n  this._colorTextures = undefined;\n  if (this._color) {\n    this._colorTextures = new Array(this._colorAttachmentsLength);\n    this._colorRenderbuffers = new Array(this._colorAttachmentsLength);\n  }\n  this._colorRenderbuffer = undefined;\n  this._depthStencilRenderbuffer = undefined;\n  this._depthStencilTexture = undefined;\n  this._depthRenderbuffer = undefined;\n  this._depthTexture = undefined;\n\n  this._attachmentsDirty = false;\n}\n\nObject.defineProperties(FramebufferManager.prototype, {\n  framebuffer: {\n    get: function () {\n      if (this._numSamples > 1) {\n        return this._multisampleFramebuffer.getRenderFramebuffer();\n      }\n      return this._framebuffer;\n    },\n  },\n  numSamples: {\n    get: function () {\n      return this._numSamples;\n    },\n  },\n  status: {\n    get: function () {\n      return this.framebuffer.status;\n    },\n  },\n});\n\nFramebufferManager.prototype.isDirty = function (\n  width,\n  height,\n  numSamples,\n  pixelDatatype,\n  pixelFormat,\n) {\n  numSamples = numSamples ?? 1;\n  const dimensionChanged = this._width !== width || this._height !== height;\n  const samplesChanged = this._numSamples !== numSamples;\n  const pixelChanged =\n    (defined(pixelDatatype) && this._pixelDatatype !== pixelDatatype) ||\n    (defined(pixelFormat) && this._pixelFormat !== pixelFormat);\n  const framebufferDefined =\n    numSamples === 1\n      ? defined(this._framebuffer)\n      : defined(this._multisampleFramebuffer);\n\n  return (\n    this._attachmentsDirty ||\n    dimensionChanged ||\n    samplesChanged ||\n    pixelChanged ||\n    !framebufferDefined ||\n    (this._color && !defined(this._colorTextures[0]))\n  );\n};\n\nFramebufferManager.prototype.update = function (\n  context,\n  width,\n  height,\n  numSamples,\n  pixelDatatype,\n  pixelFormat,\n) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(width) || !defined(height)) {\n    throw new DeveloperError(\"width and height must be defined.\");\n  }\n  //>>includeEnd('debug');\n  numSamples = context.msaa ? (numSamples ?? 1) : 1;\n  pixelDatatype =\n    pixelDatatype ??\n    (this._color\n      ? (this._pixelDatatype ?? PixelDatatype.UNSIGNED_BYTE)\n      : undefined);\n  pixelFormat =\n    pixelFormat ??\n    (this._color ? (this._pixelFormat ?? PixelFormat.RGBA) : undefined);\n\n  if (this.isDirty(width, height, numSamples, pixelDatatype, pixelFormat)) {\n    this.destroy();\n    this._width = width;\n    this._height = height;\n    this._numSamples = numSamples;\n    this._pixelDatatype = pixelDatatype;\n    this._pixelFormat = pixelFormat;\n    this._attachmentsDirty = false;\n\n    // Create color texture\n    if (this._color && this._createColorAttachments) {\n      for (let i = 0; i < this._colorAttachmentsLength; ++i) {\n        this._colorTextures[i] = new Texture({\n          context: context,\n          width: width,\n          height: height,\n          pixelFormat: pixelFormat,\n          pixelDatatype: pixelDatatype,\n          sampler: Sampler.NEAREST,\n        });\n        if (this._numSamples > 1) {\n          const format = RenderbufferFormat.getColorFormat(pixelDatatype);\n          this._colorRenderbuffers[i] = new Renderbuffer({\n            context: context,\n            width: width,\n            height: height,\n            format: format,\n            numSamples: this._numSamples,\n          });\n        }\n      }\n    }\n\n    // Create depth stencil texture or renderbuffer\n    if (this._depthStencil && this._createDepthAttachments) {\n      if (this._supportsDepthTexture && context.depthTexture) {\n        this._depthStencilTexture = new Texture({\n          context: context,\n          width: width,\n          height: height,\n          pixelFormat: PixelFormat.DEPTH_STENCIL,\n          pixelDatatype: PixelDatatype.UNSIGNED_INT_24_8,\n          sampler: Sampler.NEAREST,\n        });\n        if (this._numSamples > 1) {\n          this._depthStencilRenderbuffer = new Renderbuffer({\n            context: context,\n            width: width,\n            height: height,\n            format: RenderbufferFormat.DEPTH24_STENCIL8,\n            numSamples: this._numSamples,\n          });\n        }\n      } else {\n        this._depthStencilRenderbuffer = new Renderbuffer({\n          context: context,\n          width: width,\n          height: height,\n          format: RenderbufferFormat.DEPTH_STENCIL,\n        });\n      }\n    }\n\n    // Create depth texture\n    if (this._depth && this._createDepthAttachments) {\n      if (this._supportsDepthTexture && context.depthTexture) {\n        this._depthTexture = new Texture({\n          context: context,\n          width: width,\n          height: height,\n          pixelFormat: PixelFormat.DEPTH_COMPONENT,\n          pixelDatatype: PixelDatatype.UNSIGNED_INT,\n          sampler: Sampler.NEAREST,\n        });\n      } else {\n        this._depthRenderbuffer = new Renderbuffer({\n          context: context,\n          width: width,\n          height: height,\n          format: RenderbufferFormat.DEPTH_COMPONENT16,\n        });\n      }\n    }\n\n    if (this._numSamples > 1) {\n      this._multisampleFramebuffer = new MultisampleFramebuffer({\n        context: context,\n        width: this._width,\n        height: this._height,\n        colorTextures: this._colorTextures,\n        colorRenderbuffers: this._colorRenderbuffers,\n        depthStencilTexture: this._depthStencilTexture,\n        depthStencilRenderbuffer: this._depthStencilRenderbuffer,\n        destroyAttachments: false,\n      });\n    } else {\n      this._framebuffer = new Framebuffer({\n        context: context,\n        colorTextures: this._colorTextures,\n        depthTexture: this._depthTexture,\n        depthRenderbuffer: this._depthRenderbuffer,\n        depthStencilTexture: this._depthStencilTexture,\n        depthStencilRenderbuffer: this._depthStencilRenderbuffer,\n        destroyAttachments: false,\n      });\n    }\n  }\n};\n\nFramebufferManager.prototype.getColorTexture = function (index) {\n  index = index ?? 0;\n  //>>includeStart('debug', pragmas.debug);\n  if (index >= this._colorAttachmentsLength) {\n    throw new DeveloperError(\n      \"index must be smaller than total number of color attachments.\",\n    );\n  }\n  //>>includeEnd('debug');\n  return this._colorTextures[index];\n};\n\nFramebufferManager.prototype.setColorTexture = function (texture, index) {\n  index = index ?? 0;\n  //>>includeStart('debug', pragmas.debug);\n  if (this._createColorAttachments) {\n    throw new DeveloperError(\n      \"createColorAttachments must be false if setColorTexture is called.\",\n    );\n  }\n  if (index >= this._colorAttachmentsLength) {\n    throw new DeveloperError(\n      \"index must be smaller than total number of color attachments.\",\n    );\n  }\n  //>>includeEnd('debug');\n  this._attachmentsDirty = texture !== this._colorTextures[index];\n  this._colorTextures[index] = texture;\n};\n\nFramebufferManager.prototype.getColorRenderbuffer = function (index) {\n  index = index ?? 0;\n  //>>includeStart('debug', pragmas.debug);\n  if (index >= this._colorAttachmentsLength) {\n    throw new DeveloperError(\n      \"index must be smaller than total number of color attachments.\",\n    );\n  }\n  //>>includeEnd('debug');\n  return this._colorRenderbuffers[index];\n};\n\nFramebufferManager.prototype.setColorRenderbuffer = function (\n  renderbuffer,\n  index,\n) {\n  index = index ?? 0;\n  //>>includeStart('debug', pragmas.debug);\n  if (this._createColorAttachments) {\n    throw new DeveloperError(\n      \"createColorAttachments must be false if setColorRenderbuffer is called.\",\n    );\n  }\n  if (index >= this._colorAttachmentsLength) {\n    throw new DeveloperError(\n      \"index must be smaller than total number of color attachments.\",\n    );\n  }\n  //>>includeEnd('debug');\n  this._attachmentsDirty = renderbuffer !== this._colorRenderbuffers[index];\n  this._colorRenderbuffers[index] = renderbuffer;\n};\n\nFramebufferManager.prototype.getDepthRenderbuffer = function () {\n  return this._depthRenderbuffer;\n};\n\nFramebufferManager.prototype.setDepthRenderbuffer = function (renderbuffer) {\n  //>>includeStart('debug', pragmas.debug);\n  if (this._createDepthAttachments) {\n    throw new DeveloperError(\n      \"createDepthAttachments must be false if setDepthRenderbuffer is called.\",\n    );\n  }\n  //>>includeEnd('debug');\n  this._attachmentsDirty = renderbuffer !== this._depthRenderbuffer;\n  this._depthRenderbuffer = renderbuffer;\n};\n\nFramebufferManager.prototype.getDepthTexture = function () {\n  return this._depthTexture;\n};\n\nFramebufferManager.prototype.setDepthTexture = function (texture) {\n  //>>includeStart('debug', pragmas.debug);\n  if (this._createDepthAttachments) {\n    throw new DeveloperError(\n      \"createDepthAttachments must be false if setDepthTexture is called.\",\n    );\n  }\n  //>>includeEnd('debug');\n  this._attachmentsDirty = texture !== this._depthTexture;\n  this._depthTexture = texture;\n};\n\nFramebufferManager.prototype.getDepthStencilRenderbuffer = function () {\n  return this._depthStencilRenderbuffer;\n};\n\nFramebufferManager.prototype.setDepthStencilRenderbuffer = function (\n  renderbuffer,\n) {\n  //>>includeStart('debug', pragmas.debug);\n  if (this._createDepthAttachments) {\n    throw new DeveloperError(\n      \"createDepthAttachments must be false if setDepthStencilRenderbuffer is called.\",\n    );\n  }\n  //>>includeEnd('debug');\n  this._attachmentsDirty = renderbuffer !== this._depthStencilRenderbuffer;\n  this._depthStencilRenderbuffer = renderbuffer;\n};\n\nFramebufferManager.prototype.getDepthStencilTexture = function () {\n  return this._depthStencilTexture;\n};\n\nFramebufferManager.prototype.setDepthStencilTexture = function (texture) {\n  //>>includeStart('debug', pragmas.debug);\n  if (this._createDepthAttachments) {\n    throw new DeveloperError(\n      \"createDepthAttachments must be false if setDepthStencilTexture is called.\",\n    );\n  }\n  //>>includeEnd('debug');\n  this._attachmentsDirty = texture !== this._depthStencilTexture;\n  this._depthStencilTexture = texture;\n};\n\n/**\n * If using MSAA, resolve the stencil.\n *\n * @param {Context} context\n * @param {boolean} blitStencil\n *\n * @private\n */\nFramebufferManager.prototype.prepareTextures = function (context, blitStencil) {\n  if (this._numSamples > 1) {\n    this._multisampleFramebuffer.blitFramebuffers(context, blitStencil);\n  }\n};\n\nFramebufferManager.prototype.clear = function (\n  context,\n  clearCommand,\n  passState,\n) {\n  const framebuffer = clearCommand.framebuffer;\n  clearCommand.framebuffer = this.framebuffer;\n  clearCommand.execute(context, passState);\n  clearCommand.framebuffer = framebuffer;\n};\n\nFramebufferManager.prototype.destroyFramebuffer = function () {\n  this._framebuffer = this._framebuffer && this._framebuffer.destroy();\n  this._multisampleFramebuffer =\n    this._multisampleFramebuffer && this._multisampleFramebuffer.destroy();\n};\n\nFramebufferManager.prototype.destroy = function () {\n  if (this._color) {\n    const colorTextures = this._colorTextures;\n    const colorRenderbuffers = this._colorRenderbuffers;\n    for (let i = 0; i < colorTextures.length; ++i) {\n      const texture = colorTextures[i];\n      if (this._createColorAttachments) {\n        if (defined(texture) && !texture.isDestroyed()) {\n          texture.destroy();\n        }\n      }\n      if (defined(texture) && texture.isDestroyed()) {\n        colorTextures[i] = undefined;\n      }\n      const renderbuffer = colorRenderbuffers[i];\n      if (this._createColorAttachments) {\n        if (defined(renderbuffer) && !renderbuffer.isDestroyed()) {\n          renderbuffer.destroy();\n        }\n      }\n      if (defined(renderbuffer) && renderbuffer.isDestroyed()) {\n        colorRenderbuffers[i] = undefined;\n      }\n    }\n  }\n\n  if (this._depthStencil) {\n    if (this._createDepthAttachments) {\n      this._depthStencilTexture =\n        this._depthStencilTexture && this._depthStencilTexture.destroy();\n      this._depthStencilRenderbuffer =\n        this._depthStencilRenderbuffer &&\n        this._depthStencilRenderbuffer.destroy();\n    }\n    if (\n      defined(this._depthStencilTexture) &&\n      this._depthStencilTexture.isDestroyed()\n    ) {\n      this._depthStencilTexture = undefined;\n    }\n    if (\n      defined(this._depthStencilRenderbuffer) &&\n      this._depthStencilRenderbuffer.isDestroyed()\n    ) {\n      this._depthStencilRenderbuffer = undefined;\n    }\n  }\n\n  if (this._depth) {\n    if (this._createDepthAttachments) {\n      this._depthTexture = this._depthTexture && this._depthTexture.destroy();\n      this._depthRenderbuffer =\n        this._depthRenderbuffer && this._depthRenderbuffer.destroy();\n    }\n    if (defined(this._depthTexture) && this._depthTexture.isDestroyed()) {\n      this._depthTexture = undefined;\n    }\n    if (\n      defined(this._depthRenderbuffer) &&\n      this._depthRenderbuffer.isDestroyed()\n    ) {\n      this._depthRenderbuffer = undefined;\n    }\n  }\n\n  this.destroyFramebuffer();\n};\nexport default FramebufferManager;\n"],"names":["FramebufferManager","options","EMPTY_OBJECT","_numSamples","numSamples","_colorAttachmentsLength","colorAttachmentsLength","_color","color","_depth","depth","_depthStencil","depthStencil","_supportsDepthTexture","supportsDepthTexture","_createColorAttachments","createColorAttachments","_createDepthAttachments","createDepthAttachments","_pixelDatatype","pixelDatatype","_pixelFormat","pixelFormat","_width","undefined","_height","_framebuffer","_multisampleFramebuffer","_colorTextures","Array","_colorRenderbuffers","_colorRenderbuffer","_depthStencilRenderbuffer","_depthStencilTexture","_depthRenderbuffer","_depthTexture","_attachmentsDirty","Object","defineProperties","prototype","framebuffer","get","getRenderFramebuffer","status","isDirty","width","height","dimensionChanged","samplesChanged","pixelChanged","framebufferDefined","update","context","msaa","UNSIGNED_BYTE","RGBA","destroy","i","sampler","NEAREST","format","getColorFormat","depthTexture","DEPTH_STENCIL","UNSIGNED_INT_24_8","DEPTH24_STENCIL8","DEPTH_COMPONENT","UNSIGNED_INT","DEPTH_COMPONENT16","colorTextures","colorRenderbuffers","depthStencilTexture","depthStencilRenderbuffer","destroyAttachments","depthRenderbuffer","getColorTexture","index","setColorTexture","texture","getColorRenderbuffer","setColorRenderbuffer","renderbuffer","getDepthRenderbuffer","setDepthRenderbuffer","getDepthTexture","setDepthTexture","getDepthStencilRenderbuffer","setDepthStencilRenderbuffer","getDepthStencilTexture","setDepthStencilTexture","prepareTextures","blitStencil","blitFramebuffers","clear","clearCommand","passState","execute","destroyFramebuffer","length","isDestroyed"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 10276, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/ShaderDestination.js"],"sourcesContent":["import Check from \"../Core/Check.js\";\n\n/**\n * An enum describing whether a variable should be added to the\n * vertex shader, the fragment shader, or both.\n *\n * @private\n */\nconst ShaderDestination = {\n  VERTEX: 0,\n  FRAGMENT: 1,\n  BOTH: 2,\n};\n\n/**\n * Check if a variable should be included in the vertex shader.\n *\n * @param {ShaderDestination} destination The ShaderDestination to check\n * @return {boolean} <code>true</code> if the variable appears in the vertex shader, or <code>false</code> otherwise\n * @private\n */\nShaderDestination.includesVertexShader = function (destination) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.number(\"destination\", destination);\n  //>>includeEnd('debug');\n\n  return (\n    destination === ShaderDestination.VERTEX ||\n    destination === ShaderDestination.BOTH\n  );\n};\n\n/**\n * Check if a variable should be included in the vertex shader.\n *\n * @param {ShaderDestination} destination The ShaderDestination to check\n * @return {boolean} <code>true</code> if the variable appears in the vertex shader, or <code>false</code> otherwise\n * @private\n */\nShaderDestination.includesFragmentShader = function (destination) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.number(\"destination\", destination);\n  //>>includeEnd('debug');\n  //\n  return (\n    destination === ShaderDestination.FRAGMENT ||\n    destination === ShaderDestination.BOTH\n  );\n};\n\nexport default Object.freeze(ShaderDestination);\n"],"names":["ShaderDestination","VERTEX","FRAGMENT","BOTH","includesVertexShader","destination","typeOf","number","includesFragmentShader","Object","freeze"],"mappings":";;;;AAAA;;AAEA;;;;;CAKC,GACD,MAAMA,oBAAoB;IACxBC,QAAQ;IACRC,UAAU;IACVC,MAAM;AACR;AAEA;;;;;;CAMC,GACDH,kBAAkBI,oBAAoB,GAAG,SAAUC,WAAW;IAC5D,yCAAyC;IACzC,2KAAK,CAACC,MAAM,CAACC,MAAM,CAAC,eAAeF;IACnC,wBAAwB;IAExB,OACEA,gBAAgBL,kBAAkBC,MAAM,IACxCI,gBAAgBL,kBAAkBG,IAAI;AAE1C;AAEA;;;;;;CAMC,GACDH,kBAAkBQ,sBAAsB,GAAG,SAAUH,WAAW;IAC9D,yCAAyC;IACzC,2KAAK,CAACC,MAAM,CAACC,MAAM,CAAC,eAAeF;IACnC,wBAAwB;IACxB,EAAE;IACF,OACEA,gBAAgBL,kBAAkBE,QAAQ,IAC1CG,gBAAgBL,kBAAkBG,IAAI;AAE1C;uCAEeM,OAAOC,MAAM,CAACV","ignoreList":[0]}},
    {"offset": {"line": 10322, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/ShaderStruct.js"],"sourcesContent":["/**\n * A utility for dynamically-generating a GLSL struct.\n *\n * @alias ShaderStruct\n * @constructor\n *\n * @see {@link ShaderBuilder}\n * @param {string} name The name of the struct as it will appear in the shader.\n * @example\n * // Generate the struct:\n * //\n * // struct Attributes\n * // {\n * //     vec3 position;\n * //     vec3 normal;\n * //     vec2 texCoord;\n * // };\n * const struct = new ShaderStruct(\"Attributes\");\n * struct.addField(\"vec3\", \"position\");\n * struct.addField(\"vec3\", \"normal\");\n * struct.addField(\"vec2\", \"texCoord\");\n * const generatedLines = struct.generateGlslLines();\n *\n * @private\n */\nfunction ShaderStruct(name) {\n  this.name = name;\n  this.fields = [];\n}\n\n/**\n * Add a field to the struct\n * @param {string} type The type of the struct field\n * @param {string} identifier The identifier of the struct field\n */\nShaderStruct.prototype.addField = function (type, identifier) {\n  const field = `    ${type} ${identifier};`;\n  this.fields.push(field);\n};\n\n/**\n * Generate a list of lines of GLSL code for use with {@link ShaderBuilder}\n * @return {string[]} The generated GLSL code.\n */\nShaderStruct.prototype.generateGlslLines = function () {\n  let fields = this.fields;\n  if (fields.length === 0) {\n    // GLSL requires structs to have at least one field\n    fields = [\"    float _empty;\"];\n  }\n\n  return [].concat(`struct ${this.name}`, \"{\", fields, \"};\");\n};\n\nexport default ShaderStruct;\n"],"names":["ShaderStruct","name","fields","prototype","addField","type","identifier","field","push","generateGlslLines","length","concat"],"mappings":";;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;CAwBC,GACD,SAASA,aAAaC,IAAI;IACxB,IAAI,CAACA,IAAI,GAAGA;IACZ,IAAI,CAACC,MAAM,GAAG,EAAE;AAClB;AAEA;;;;CAIC,GACDF,aAAaG,SAAS,CAACC,QAAQ,GAAG,SAAUC,IAAI,EAAEC,UAAU;IAC1D,MAAMC,QAAQ,CAAC,IAAI,EAAEF,KAAK,CAAC,EAAEC,WAAW,CAAC,CAAC;IAC1C,IAAI,CAACJ,MAAM,CAACM,IAAI,CAACD;AACnB;AAEA;;;CAGC,GACDP,aAAaG,SAAS,CAACM,iBAAiB,GAAG;IACzC,IAAIP,SAAS,IAAI,CAACA,MAAM;IACxB,IAAIA,OAAOQ,MAAM,KAAK,GAAG;QACvB,mDAAmD;QACnDR,SAAS;YAAC;SAAoB;IAChC;IAEA,OAAO,EAAE,CAACS,MAAM,CAAC,CAAC,OAAO,EAAE,IAAI,CAACV,IAAI,EAAE,EAAE,KAAKC,QAAQ;AACvD;uCAEeF","ignoreList":[0]}},
    {"offset": {"line": 10380, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/ShaderFunction.js"],"sourcesContent":["import DeveloperError from \"../Core/DeveloperError.js\";\n\n/**\n * A utility for dynamically-generating a GLSL function\n *\n * @alias ShaderFunction\n * @constructor\n *\n * @see {@link ShaderBuilder}\n * @param {string} signature The full signature of the function as it will appear in the shader. Do not include the curly braces.\n * @example\n * // generate the following function\n * //\n * // void assignVaryings(vec3 position)\n * // {\n * //    v_positionEC = (czm_modelView * vec4(a_position, 1.0)).xyz;\n * //    v_texCoord = a_texCoord;\n * // }\n * const signature = \"void assignVaryings(vec3 position)\";\n * const func = new ShaderFunction(signature);\n * func.addLine(\"v_positionEC = (czm_modelView * vec4(a_position, 1.0)).xyz;\");\n * func.addLine(\"v_texCoord = a_texCoord;\");\n * const generatedLines = func.generateGlslLines();\n *\n * @private\n */\nfunction ShaderFunction(signature) {\n  this.signature = signature;\n  this.body = [];\n}\n\n/**\n * Adds one or more lines to the body of the function\n * @param {string|string[]} lines One or more lines of GLSL code to add to the function body. Do not include any preceding or ending whitespace, but do include the semicolon for each line.\n */\nShaderFunction.prototype.addLines = function (lines) {\n  //>>includeStart('debug', pragmas.debug);\n  if (typeof lines !== \"string\" && !Array.isArray(lines)) {\n    throw new DeveloperError(\n      `Expected lines to be a string or an array of strings, actual value was ${lines}`,\n    );\n  }\n  //>>includeEnd('debug');\n  const body = this.body;\n\n  // Indent the body of the function by 4 spaces\n  if (Array.isArray(lines)) {\n    const length = lines.length;\n    for (let i = 0; i < length; i++) {\n      body.push(`    ${lines[i]}`);\n    }\n  } else {\n    // Single string case\n    body.push(`    ${lines}`);\n  }\n};\n\n/**\n * Generate lines of GLSL code for use with {@link ShaderBuilder}\n * @return {string[]}\n */\nShaderFunction.prototype.generateGlslLines = function () {\n  return [].concat(this.signature, \"{\", this.body, \"}\");\n};\n\nexport default ShaderFunction;\n"],"names":["ShaderFunction","signature","body","prototype","addLines","lines","Array","isArray","length","i","push","generateGlslLines","concat"],"mappings":";;;;AAAA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;CAuBC,GACD,SAASA,eAAeC,SAAS;IAC/B,IAAI,CAACA,SAAS,GAAGA;IACjB,IAAI,CAACC,IAAI,GAAG,EAAE;AAChB;AAEA;;;CAGC,GACDF,eAAeG,SAAS,CAACC,QAAQ,GAAG,SAAUC,KAAK;IACjD,yCAAyC;IACzC,IAAI,OAAOA,UAAU,YAAY,CAACC,MAAMC,OAAO,CAACF,QAAQ;QACtD,MAAM,IAAI,oLAAc,CACtB,CAAC,uEAAuE,EAAEA,OAAO;IAErF;IACA,wBAAwB;IACxB,MAAMH,OAAO,IAAI,CAACA,IAAI;IAEtB,8CAA8C;IAC9C,IAAII,MAAMC,OAAO,CAACF,QAAQ;QACxB,MAAMG,SAASH,MAAMG,MAAM;QAC3B,IAAK,IAAIC,IAAI,GAAGA,IAAID,QAAQC,IAAK;YAC/BP,KAAKQ,IAAI,CAAC,CAAC,IAAI,EAAEL,KAAK,CAACI,EAAE,EAAE;QAC7B;IACF,OAAO;QACL,qBAAqB;QACrBP,KAAKQ,IAAI,CAAC,CAAC,IAAI,EAAEL,OAAO;IAC1B;AACF;AAEA;;;CAGC,GACDL,eAAeG,SAAS,CAACQ,iBAAiB,GAAG;IAC3C,OAAO,EAAE,CAACC,MAAM,CAAC,IAAI,CAACX,SAAS,EAAE,KAAK,IAAI,CAACC,IAAI,EAAE;AACnD;uCAEeF","ignoreList":[0]}},
    {"offset": {"line": 10445, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/ShaderBuilder.js"],"sourcesContent":["import Check from \"../Core/Check.js\";\nimport clone from \"../Core/clone.js\";\nimport defined from \"../Core/defined.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport ShaderDestination from \"./ShaderDestination.js\";\nimport ShaderProgram from \"./ShaderProgram.js\";\nimport ShaderSource from \"./ShaderSource.js\";\nimport ShaderStruct from \"./ShaderStruct.js\";\nimport ShaderFunction from \"./ShaderFunction.js\";\nimport addAllToArray from \"../Core/addAllToArray.js\";\n\n/**\n * An object that makes it easier to build the text of a {@link ShaderProgram}. This tracks GLSL code for both the vertex shader and the fragment shader.\n * <p>\n * For vertex shaders, the shader builder tracks a list of <code>#defines</code>,\n * a list of attributes, a list of uniforms, and a list of shader lines. It also\n * tracks the location of each attribute so the caller can easily build the {@link VertexArray}\n * </p>\n * <p>\n * For fragment shaders, the shader builder tracks a list of <code>#defines</code>,\n * a list of attributes, a list of uniforms, and a list of shader lines.\n * </p>\n *\n * @alias ShaderBuilder\n * @constructor\n *\n * @example\n * const shaderBuilder = new ShaderBuilder();\n * shaderBuilder.addDefine(\"SOLID_COLOR\", undefined, ShaderDestination.FRAGMENT);\n * shaderBuilder.addUniform(\"vec3\", \"u_color\", ShaderDestination.FRAGMENT);\n * shaderBuilder.addVarying(\"vec3\", v_color\");\n * // These locations can be used when creating the VertexArray\n * const positionLocation = shaderBuilder.addPositionAttribute(\"vec3\", \"a_position\");\n * const colorLocation = shaderBuilder.addAttribute(\"vec3\", \"a_color\");\n * shaderBuilder.addVertexLines([\n *  \"void main()\",\n *  \"{\",\n *  \"    v_color = a_color;\",\n *  \"    gl_Position = vec4(a_position, 1.0);\",\n *  \"}\"\n * ]);\n * shaderBuilder.addFragmentLines([\n *  \"void main()\",\n *  \"{\",\n *  \"    #ifdef SOLID_COLOR\",\n *  \"    out_FragColor = vec4(u_color, 1.0);\",\n *  \"    #else\",\n *  \"    out_FragColor = vec4(v_color, 1.0);\",\n *  \"    #endif\",\n *  \"}\"\n * ]);\n * const shaderProgram = shaderBuilder.build(context);\n *\n * @private\n */\nfunction ShaderBuilder() {\n  // Some WebGL implementations require attribute 0 to always\n  // be active, so the position attribute is tracked separately\n  this._positionAttributeLine = undefined;\n  this._nextAttributeLocation = 1;\n  this._attributeLocations = {};\n  this._attributeLines = [];\n\n  // Dynamically-generated structs and functions\n  // these are dictionaries of id -> ShaderStruct or ShaderFunction respectively\n  this._structs = {};\n  this._functions = {};\n\n  this._vertexShaderParts = {\n    defineLines: [],\n    uniformLines: [],\n    shaderLines: [],\n    varyingLines: [],\n    // identifiers of structs/functions to include, listed in insertion order\n    structIds: [],\n    functionIds: [],\n  };\n  this._fragmentShaderParts = {\n    defineLines: [],\n    uniformLines: [],\n    shaderLines: [],\n    varyingLines: [],\n    // identifiers of structs/functions to include, listed in insertion order\n    structIds: [],\n    functionIds: [],\n  };\n}\n\nObject.defineProperties(ShaderBuilder.prototype, {\n  /**\n   * Get a dictionary of attribute names to the integer location in\n   * the vertex shader.\n   *\n   * @memberof ShaderBuilder.prototype\n   * @type {Object<string, number>}\n   * @readonly\n   * @private\n   */\n  attributeLocations: {\n    get: function () {\n      return this._attributeLocations;\n    },\n  },\n});\n\n/**\n * Add a <code>#define</code> macro to one or both of the shaders. These lines\n * will appear at the top of the final shader source.\n *\n * @param {string} identifier An identifier for the macro. Identifiers must use uppercase letters with underscores to be consistent with Cesium's style guide.\n * @param {string} [value] The value of the macro. If undefined, the define will not include a value. The value will be converted to GLSL code via <code>toString()</code>\n * @param {ShaderDestination} [destination=ShaderDestination.BOTH] Whether the define appears in the vertex shader, the fragment shader, or both.\n *\n * @example\n * // creates the line \"#define ENABLE_LIGHTING\" in both shaders\n * shaderBuilder.addDefine(\"ENABLE_LIGHTING\");\n * // creates the line \"#define PI 3.141592\" in the fragment shader\n * shaderBuilder.addDefine(\"PI\", 3.141593, ShaderDestination.FRAGMENT);\n */\nShaderBuilder.prototype.addDefine = function (identifier, value, destination) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"identifier\", identifier);\n  //>>includeEnd('debug');\n\n  destination = destination ?? ShaderDestination.BOTH;\n\n  // The ShaderSource created in build() will add the #define part\n  let line = identifier;\n  if (defined(value)) {\n    line += ` ${value.toString()}`;\n  }\n\n  if (ShaderDestination.includesVertexShader(destination)) {\n    this._vertexShaderParts.defineLines.push(line);\n  }\n\n  if (ShaderDestination.includesFragmentShader(destination)) {\n    this._fragmentShaderParts.defineLines.push(line);\n  }\n};\n\n/**\n * Add a new dynamically-generated struct to the shader\n * @param {string} structId A unique ID to identify this struct in {@link ShaderBuilder#addStructField}\n * @param {string} structName The name of the struct as it will appear in the shader.\n * @param {ShaderDestination} destination Whether the struct will appear in the vertex shader, the fragment shader, or both.\n *\n * @example\n * // generates the following struct in the fragment shader\n * // struct TestStruct\n * // {\n * // };\n * shaderBuilder.addStruct(\"testStructId\", \"TestStruct\", ShaderDestination.FRAGMENT);\n */\nShaderBuilder.prototype.addStruct = function (\n  structId,\n  structName,\n  destination,\n) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"structId\", structId);\n  Check.typeOf.string(\"structName\", structName);\n  Check.typeOf.number(\"destination\", destination);\n  //>>includeEnd('debug');\n  this._structs[structId] = new ShaderStruct(structName);\n  if (ShaderDestination.includesVertexShader(destination)) {\n    this._vertexShaderParts.structIds.push(structId);\n  }\n\n  if (ShaderDestination.includesFragmentShader(destination)) {\n    this._fragmentShaderParts.structIds.push(structId);\n  }\n};\n\n/**\n * Add a field to a dynamically-generated struct.\n * @param {string} structId The ID of the struct. This must be created first with {@link ShaderBuilder#addStruct}\n * @param {string} type The GLSL type of the field\n * @param {string} identifier The identifier of the field.\n *\n * @example\n * // generates the following struct in the fragment shader\n * // struct TestStruct\n * // {\n * //    float minimum;\n * //    float maximum;\n * // };\n * shaderBuilder.addStruct(\"testStructId\", \"TestStruct\", ShaderDestination.FRAGMENT);\n * shaderBuilder.addStructField(\"testStructId\", \"float\", \"maximum\");\n * shaderBuilder.addStructField(\"testStructId\", \"float\", \"minimum\");\n */\nShaderBuilder.prototype.addStructField = function (structId, type, identifier) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"structId\", structId);\n  Check.typeOf.string(\"type\", type);\n  Check.typeOf.string(\"identifier\", identifier);\n  //>>includeEnd('debug');\n  this._structs[structId].addField(type, identifier);\n};\n\n/**\n * Add a new dynamically-generated function to the shader.\n * @param {string} functionName The name of the function. This will be used to identify the function in {@link ShaderBuilder#addFunctionLines}.\n * @param {string} signature The full signature of the function as it will appear in the shader. Do not include the curly braces.\n * @param {ShaderDestination} destination Whether the struct will appear in the vertex shader, the fragment shader, or both.\n * @example\n * // generates the following function in the vertex shader\n * // vec3 testFunction(float parameter)\n * // {\n * // }\n * shaderBuilder.addStruct(\"testFunction\", \"vec3 testFunction(float parameter)\", ShaderDestination.VERTEX);\n */\nShaderBuilder.prototype.addFunction = function (\n  functionName,\n  signature,\n  destination,\n) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"functionName\", functionName);\n  Check.typeOf.string(\"signature\", signature);\n  Check.typeOf.number(\"destination\", destination);\n  //>>includeEnd('debug');\n  this._functions[functionName] = new ShaderFunction(signature);\n\n  if (ShaderDestination.includesVertexShader(destination)) {\n    this._vertexShaderParts.functionIds.push(functionName);\n  }\n\n  if (ShaderDestination.includesFragmentShader(destination)) {\n    this._fragmentShaderParts.functionIds.push(functionName);\n  }\n};\n\n/**\n * Add lines to a dynamically-generated function\n * @param {string} functionName The name of the function. This must be created beforehand using {@link ShaderBuilder#addFunction}\n * @param {string|string[]} lines One or more lines of GLSL code to add to the function body. Do not include any preceding or ending whitespace, but do include the semicolon for each line.\n *\n * @example\n * // generates the following function in the vertex shader\n * // vec3 testFunction(float parameter)\n * // {\n * //   float signed = 2.0 * parameter - 1.0;\n * //   return vec3(signed, 0.0, 0.0);\n * // }\n * shaderBuilder.addStruct(\"testFunction\", \"vec3 testFunction(float parameter)\", ShaderDestination.VERTEX);\n * shaderBuilder.addFunctionLines(\"testFunction\", [\n *   \"float signed = 2.0 * parameter - 1.0;\",\n *   \"return vec3(parameter);\"\n * ]);\n */\nShaderBuilder.prototype.addFunctionLines = function (functionName, lines) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"functionName\", functionName);\n  if (typeof lines !== \"string\" && !Array.isArray(lines)) {\n    throw new DeveloperError(\n      `Expected lines to be a string or an array of strings, actual value was ${lines}`,\n    );\n  }\n  //>>includeEnd('debug');\n  this._functions[functionName].addLines(lines);\n};\n\n/**\n * Add a uniform declaration to one or both of the shaders. These lines\n * will appear grouped near the top of the final shader source.\n *\n * @param {string} type The GLSL type of the uniform.\n * @param {string} identifier An identifier for the uniform. Identifiers must begin with <code>u_</code> to be consistent with Cesium's style guide.\n * @param {ShaderDestination} [destination=ShaderDestination.BOTH] Whether the uniform appears in the vertex shader, the fragment shader, or both.\n *\n * @example\n * // creates the line \"uniform vec3 u_resolution;\"\n * shaderBuilder.addUniform(\"vec3\", \"u_resolution\", ShaderDestination.FRAGMENT);\n * // creates the line \"uniform float u_time;\" in both shaders\n * shaderBuilder.addUniform(\"float\", \"u_time\", ShaderDestination.BOTH);\n */\nShaderBuilder.prototype.addUniform = function (type, identifier, destination) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"type\", type);\n  Check.typeOf.string(\"identifier\", identifier);\n  //>>includeEnd('debug');\n\n  destination = destination ?? ShaderDestination.BOTH;\n  const line = `uniform ${type} ${identifier};`;\n\n  if (ShaderDestination.includesVertexShader(destination)) {\n    this._vertexShaderParts.uniformLines.push(line);\n  }\n\n  if (ShaderDestination.includesFragmentShader(destination)) {\n    this._fragmentShaderParts.uniformLines.push(line);\n  }\n};\n\n/**\n * Add a position attribute declaration to the vertex shader. These lines\n * will appear grouped near the top of the final shader source.\n * <p>\n * Some WebGL implementations require attribute 0 to be enabled, so this is\n * reserved for the position attribute. For all other attributes, see\n * {@link ShaderBuilder#addAttribute}\n * </p>\n *\n * @param {string} type The GLSL type of the attribute\n * @param {string} identifier An identifier for the attribute. Identifiers must begin with <code>a_</code> to be consistent with Cesium's style guide.\n * @return {number} The integer location of the attribute. This location can be used when creating attributes for a {@link VertexArray}. This will always be 0.\n *\n * @example\n * // creates the line \"in vec3 a_position;\"\n * shaderBuilder.setPositionAttribute(\"vec3\", \"a_position\");\n */\nShaderBuilder.prototype.setPositionAttribute = function (type, identifier) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"type\", type);\n  Check.typeOf.string(\"identifier\", identifier);\n\n  if (defined(this._positionAttributeLine)) {\n    throw new DeveloperError(\n      \"setPositionAttribute() must be called exactly once for the attribute used for gl_Position. For other attributes, use addAttribute()\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  this._positionAttributeLine = `in ${type} ${identifier};`;\n\n  // Some WebGL implementations require attribute 0 to always be active, so\n  // this builder assumes the position will always go in location 0\n  this._attributeLocations[identifier] = 0;\n  return 0;\n};\n\n/**\n * Add an attribute declaration to the vertex shader. These lines\n * will appear grouped near the top of the final shader source.\n * <p>\n * Some WebGL implementations require attribute 0 to be enabled, so this is\n * reserved for the position attribute. See {@link ShaderBuilder#setPositionAttribute}\n * </p>\n *\n * @param {string} type The GLSL type of the attribute\n * @param {string} identifier An identifier for the attribute. Identifiers must begin with <code>a_</code> to be consistent with Cesium's style guide.\n * @return {number} The integer location of the attribute. This location can be used when creating attributes for a {@link VertexArray}\n *\n * @example\n * // creates the line \"in vec2 a_texCoord0;\" in the vertex shader\n * shaderBuilder.addAttribute(\"vec2\", \"a_texCoord0\");\n */\nShaderBuilder.prototype.addAttribute = function (type, identifier) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"type\", type);\n  Check.typeOf.string(\"identifier\", identifier);\n  //>>includeEnd('debug');\n\n  const line = `in ${type} ${identifier};`;\n  this._attributeLines.push(line);\n\n  const location = this._nextAttributeLocation;\n  this._attributeLocations[identifier] = location;\n\n  // Most attributes only require a single attribute location, but matrices\n  // require more.\n  this._nextAttributeLocation += getAttributeLocationCount(type);\n  return location;\n};\n\n/**\n * Add a varying declaration to both the vertex and fragment shaders.\n *\n * @param {string} type The GLSL type of the varying\n * @param {string} identifier An identifier for the varying. Identifiers must begin with <code>v_</code> to be consistent with Cesium's style guide.\n * @param {string} [qualifier] A qualifier for the varying, such as <code>flat</code>.\n *\n * @example\n * // creates the line \"in vec3 v_color;\" in the vertex shader\n * // creates the line \"out vec3 v_color;\" in the fragment shader\n * shaderBuilder.addVarying(\"vec3\", \"v_color\");\n */\nShaderBuilder.prototype.addVarying = function (type, identifier, qualifier) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"type\", type);\n  Check.typeOf.string(\"identifier\", identifier);\n  //>>includeEnd('debug');\n\n  qualifier = defined(qualifier) ? `${qualifier} ` : \"\";\n\n  const line = `${type} ${identifier};`;\n  this._vertexShaderParts.varyingLines.push(`${qualifier}out ${line}`);\n  this._fragmentShaderParts.varyingLines.push(`${qualifier}in ${line}`);\n};\n\n/**\n * Appends lines of GLSL code to the vertex shader\n *\n * @param {string|string[]} lines One or more lines to add to the end of the vertex shader source\n *\n * @example\n * shaderBuilder.addVertexLines([\n *  \"void main()\",\n *  \"{\",\n *  \"    v_color = a_color;\",\n *  \"    gl_Position = vec4(a_position, 1.0);\",\n *  \"}\"\n * ]);\n */\nShaderBuilder.prototype.addVertexLines = function (lines) {\n  //>>includeStart('debug', pragmas.debug);\n  if (typeof lines !== \"string\" && !Array.isArray(lines)) {\n    throw new DeveloperError(\n      `Expected lines to be a string or an array of strings, actual value was ${lines}`,\n    );\n  }\n  //>>includeEnd('debug');\n\n  const vertexLines = this._vertexShaderParts.shaderLines;\n  if (Array.isArray(lines)) {\n    addAllToArray(vertexLines, lines);\n  } else {\n    // Single string case\n    vertexLines.push(lines);\n  }\n};\n\n/**\n * Appends lines of GLSL code to the fragment shader\n *\n * @param {string[]} lines The lines to add to the end of the fragment shader source\n *\n * @example\n * shaderBuilder.addFragmentLines([\n *  \"void main()\",\n *  \"{\",\n *  \"    #ifdef SOLID_COLOR\",\n *  \"    out_FragColor = vec4(u_color, 1.0);\",\n *  \"    #else\",\n *  \"    out_FragColor = vec4(v_color, 1.0);\",\n *  \"    #endif\",\n *  \"}\"\n * ]);\n */\nShaderBuilder.prototype.addFragmentLines = function (lines) {\n  //>>includeStart('debug', pragmas.debug);\n  if (typeof lines !== \"string\" && !Array.isArray(lines)) {\n    throw new DeveloperError(\n      `Expected lines to be a string or an array of strings, actual value was ${lines}`,\n    );\n  }\n  //>>includeEnd('debug');\n\n  const fragmentLines = this._fragmentShaderParts.shaderLines;\n  if (Array.isArray(lines)) {\n    addAllToArray(fragmentLines, lines);\n  } else {\n    // Single string case\n    fragmentLines.push(lines);\n  }\n};\n\n/**\n * Builds the {@link ShaderProgram} from the pieces added by the other methods.\n * Call this one time at the end of modifying the shader through the other\n * methods in this class.\n *\n * @param {Context} context The context to use for creating the shader.\n * @return {ShaderProgram} A shader program to use for rendering.\n *\n * @example\n * const shaderProgram = shaderBuilder.buildShaderProgram(context);\n */\nShaderBuilder.prototype.buildShaderProgram = function (context) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.object(\"context\", context);\n  //>>includeEnd('debug');\n\n  const positionAttribute = defined(this._positionAttributeLine)\n    ? [this._positionAttributeLine]\n    : [];\n\n  const structLines = generateStructLines(this);\n  const functionLines = generateFunctionLines(this);\n\n  // Lines are joined here so the ShaderSource\n  // generates a single #line 0 directive\n  const vertexLines = positionAttribute\n    .concat(\n      this._attributeLines,\n      this._vertexShaderParts.uniformLines,\n      this._vertexShaderParts.varyingLines,\n      structLines.vertexLines,\n      functionLines.vertexLines,\n      this._vertexShaderParts.shaderLines,\n    )\n    .join(\"\\n\");\n  const vertexShaderSource = new ShaderSource({\n    defines: this._vertexShaderParts.defineLines,\n    sources: [vertexLines],\n  });\n\n  const fragmentLines = this._fragmentShaderParts.uniformLines\n    .concat(\n      this._fragmentShaderParts.varyingLines,\n      structLines.fragmentLines,\n      functionLines.fragmentLines,\n      this._fragmentShaderParts.shaderLines,\n    )\n    .join(\"\\n\");\n  const fragmentShaderSource = new ShaderSource({\n    defines: this._fragmentShaderParts.defineLines,\n    sources: [fragmentLines],\n  });\n\n  return ShaderProgram.fromCache({\n    context: context,\n    vertexShaderSource: vertexShaderSource,\n    fragmentShaderSource: fragmentShaderSource,\n    attributeLocations: this._attributeLocations,\n  });\n};\n\nShaderBuilder.prototype.clone = function () {\n  return clone(this, true);\n};\n\nfunction generateStructLines(shaderBuilder) {\n  const vertexLines = [];\n  const fragmentLines = [];\n\n  let i;\n  let structIds = shaderBuilder._vertexShaderParts.structIds;\n  let structId;\n  let struct;\n  let structLines;\n  for (i = 0; i < structIds.length; i++) {\n    structId = structIds[i];\n    struct = shaderBuilder._structs[structId];\n    structLines = struct.generateGlslLines();\n    addAllToArray(vertexLines, structLines);\n  }\n\n  structIds = shaderBuilder._fragmentShaderParts.structIds;\n  for (i = 0; i < structIds.length; i++) {\n    structId = structIds[i];\n    struct = shaderBuilder._structs[structId];\n    structLines = struct.generateGlslLines();\n    addAllToArray(fragmentLines, structLines);\n  }\n\n  return {\n    vertexLines: vertexLines,\n    fragmentLines: fragmentLines,\n  };\n}\n\nfunction getAttributeLocationCount(glslType) {\n  switch (glslType) {\n    case \"mat2\":\n      return 2;\n    case \"mat3\":\n      return 3;\n    case \"mat4\":\n      return 4;\n    default:\n      return 1;\n  }\n}\n\nfunction generateFunctionLines(shaderBuilder) {\n  const vertexLines = [];\n  const fragmentLines = [];\n\n  let i;\n  let functionIds = shaderBuilder._vertexShaderParts.functionIds;\n  let functionId;\n  let func;\n  let functionLines;\n  for (i = 0; i < functionIds.length; i++) {\n    functionId = functionIds[i];\n    func = shaderBuilder._functions[functionId];\n    functionLines = func.generateGlslLines();\n    addAllToArray(vertexLines, functionLines);\n  }\n\n  functionIds = shaderBuilder._fragmentShaderParts.functionIds;\n  for (i = 0; i < functionIds.length; i++) {\n    functionId = functionIds[i];\n    func = shaderBuilder._functions[functionId];\n    functionLines = func.generateGlslLines();\n    addAllToArray(fragmentLines, functionLines);\n  }\n\n  return {\n    vertexLines: vertexLines,\n    fragmentLines: fragmentLines,\n  };\n}\n\nexport default ShaderBuilder;\n"],"names":["ShaderBuilder","_positionAttributeLine","undefined","_nextAttributeLocation","_attributeLocations","_attributeLines","_structs","_functions","_vertexShaderParts","defineLines","uniformLines","shaderLines","varyingLines","structIds","functionIds","_fragmentShaderParts","Object","defineProperties","prototype","attributeLocations","get","addDefine","identifier","value","destination","typeOf","string","BOTH","line","toString","includesVertexShader","push","includesFragmentShader","addStruct","structId","structName","number","addStructField","type","addField","addFunction","functionName","signature","addFunctionLines","lines","Array","isArray","addLines","addUniform","setPositionAttribute","addAttribute","location","getAttributeLocationCount","addVarying","qualifier","addVertexLines","vertexLines","addFragmentLines","fragmentLines","buildShaderProgram","context","object","positionAttribute","structLines","generateStructLines","functionLines","generateFunctionLines","concat","join","vertexShaderSource","defines","sources","fragmentShaderSource","fromCache","clone","shaderBuilder","i","struct","length","generateGlslLines","glslType","functionId","func"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 10966, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/ComputeEngine.js"],"sourcesContent":["import BoundingRectangle from \"../Core/BoundingRectangle.js\";\nimport Check from \"../Core/Check.js\";\nimport Color from \"../Core/Color.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport PrimitiveType from \"../Core/PrimitiveType.js\";\nimport ViewportQuadVS from \"../Shaders/ViewportQuadVS.js\";\nimport ClearCommand from \"./ClearCommand.js\";\nimport DrawCommand from \"./DrawCommand.js\";\nimport Framebuffer from \"./Framebuffer.js\";\nimport RenderState from \"./RenderState.js\";\nimport ShaderProgram from \"./ShaderProgram.js\";\n\n/**\n * @private\n */\nfunction ComputeEngine(context) {\n  this._context = context;\n}\n\nlet renderStateScratch;\nconst drawCommandScratch = new DrawCommand({\n  primitiveType: PrimitiveType.TRIANGLES,\n});\nconst clearCommandScratch = new ClearCommand({\n  color: new Color(0.0, 0.0, 0.0, 0.0),\n});\n\nfunction createFramebuffer(context, outputTexture) {\n  return new Framebuffer({\n    context: context,\n    colorTextures: [outputTexture],\n    destroyAttachments: false,\n  });\n}\n\nfunction createViewportQuadShader(context, fragmentShaderSource) {\n  return ShaderProgram.fromCache({\n    context: context,\n    vertexShaderSource: ViewportQuadVS,\n    fragmentShaderSource: fragmentShaderSource,\n    attributeLocations: {\n      position: 0,\n      textureCoordinates: 1,\n    },\n  });\n}\n\nfunction createRenderState(width, height) {\n  if (\n    !defined(renderStateScratch) ||\n    renderStateScratch.viewport.width !== width ||\n    renderStateScratch.viewport.height !== height\n  ) {\n    renderStateScratch = RenderState.fromCache({\n      viewport: new BoundingRectangle(0, 0, width, height),\n    });\n  }\n  return renderStateScratch;\n}\n\nComputeEngine.prototype.execute = function (computeCommand) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"computeCommand\", computeCommand);\n  //>>includeEnd('debug');\n\n  // This may modify the command's resources, so do error checking afterwards\n  if (defined(computeCommand.preExecute)) {\n    computeCommand.preExecute(computeCommand);\n  }\n\n  //>>includeStart('debug', pragmas.debug);\n  if (\n    !defined(computeCommand.fragmentShaderSource) &&\n    !defined(computeCommand.shaderProgram)\n  ) {\n    throw new DeveloperError(\n      \"computeCommand.fragmentShaderSource or computeCommand.shaderProgram is required.\",\n    );\n  }\n\n  Check.defined(\"computeCommand.outputTexture\", computeCommand.outputTexture);\n  //>>includeEnd('debug');\n\n  const outputTexture = computeCommand.outputTexture;\n  const width = outputTexture.width;\n  const height = outputTexture.height;\n\n  const context = this._context;\n  const vertexArray = defined(computeCommand.vertexArray)\n    ? computeCommand.vertexArray\n    : context.getViewportQuadVertexArray();\n  const shaderProgram = defined(computeCommand.shaderProgram)\n    ? computeCommand.shaderProgram\n    : createViewportQuadShader(context, computeCommand.fragmentShaderSource);\n  const framebuffer = createFramebuffer(context, outputTexture);\n  const renderState = createRenderState(width, height);\n  const uniformMap = computeCommand.uniformMap;\n\n  const clearCommand = clearCommandScratch;\n  clearCommand.framebuffer = framebuffer;\n  clearCommand.renderState = renderState;\n  clearCommand.execute(context);\n\n  const drawCommand = drawCommandScratch;\n  drawCommand.vertexArray = vertexArray;\n  drawCommand.renderState = renderState;\n  drawCommand.shaderProgram = shaderProgram;\n  drawCommand.uniformMap = uniformMap;\n  drawCommand.framebuffer = framebuffer;\n  drawCommand.execute(context);\n\n  framebuffer.destroy();\n\n  if (!computeCommand.persists) {\n    shaderProgram.destroy();\n    if (defined(computeCommand.vertexArray)) {\n      vertexArray.destroy();\n    }\n  }\n\n  if (defined(computeCommand.postExecute)) {\n    computeCommand.postExecute(outputTexture);\n  }\n};\n\nComputeEngine.prototype.isDestroyed = function () {\n  return false;\n};\n\nComputeEngine.prototype.destroy = function () {\n  return destroyObject(this);\n};\nexport default ComputeEngine;\n"],"names":["ComputeEngine","context","_context","renderStateScratch","drawCommandScratch","primitiveType","TRIANGLES","clearCommandScratch","color","createFramebuffer","outputTexture","colorTextures","destroyAttachments","createViewportQuadShader","fragmentShaderSource","fromCache","vertexShaderSource","attributeLocations","position","textureCoordinates","createRenderState","width","height","viewport","prototype","execute","computeCommand","defined","preExecute","shaderProgram","vertexArray","getViewportQuadVertexArray","framebuffer","renderState","uniformMap","clearCommand","drawCommand","destroy","persists","postExecute","isDestroyed"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AAEA;;CAEC,GACD,SAASA,cAAcC,OAAO;IAC5B,IAAI,CAACC,QAAQ,GAAGD;AAClB;AAEA,IAAIE;AACJ,MAAMC,qBAAqB,IAAI,qLAAW,CAAC;IACzCC,eAAe,mLAAa,CAACC,SAAS;AACxC;AACA,MAAMC,sBAAsB,IAAI,sLAAY,CAAC;IAC3CC,OAAO,IAAI,2KAAK,CAAC,KAAK,KAAK,KAAK;AAClC;AAEA,SAASC,kBAAkBR,OAAO,EAAES,aAAa;IAC/C,OAAO,IAAI,qLAAW,CAAC;QACrBT,SAASA;QACTU,eAAe;YAACD;SAAc;QAC9BE,oBAAoB;IACtB;AACF;AAEA,SAASC,yBAAyBZ,OAAO,EAAEa,oBAAoB;IAC7D,OAAO,uLAAa,CAACC,SAAS,CAAC;QAC7Bd,SAASA;QACTe,oBAAoB,uLAAc;QAClCF,sBAAsBA;QACtBG,oBAAoB;YAClBC,UAAU;YACVC,oBAAoB;QACtB;IACF;AACF;AAEA,SAASC,kBAAkBC,KAAK,EAAEC,MAAM;IACtC,IACE,CAAC,IAAA,6KAAO,EAACnB,uBACTA,mBAAmBoB,QAAQ,CAACF,KAAK,KAAKA,SACtClB,mBAAmBoB,QAAQ,CAACD,MAAM,KAAKA,QACvC;QACAnB,qBAAqB,qLAAW,CAACY,SAAS,CAAC;YACzCQ,UAAU,IAAI,uLAAiB,CAAC,GAAG,GAAGF,OAAOC;QAC/C;IACF;IACA,OAAOnB;AACT;AAEAH,cAAcwB,SAAS,CAACC,OAAO,GAAG,SAAUC,cAAc;IACxD,yCAAyC;IACzC,2KAAK,CAACC,OAAO,CAAC,kBAAkBD;IAChC,wBAAwB;IAExB,2EAA2E;IAC3E,IAAI,IAAA,6KAAO,EAACA,eAAeE,UAAU,GAAG;QACtCF,eAAeE,UAAU,CAACF;IAC5B;IAEA,yCAAyC;IACzC,IACE,CAAC,IAAA,6KAAO,EAACA,eAAeZ,oBAAoB,KAC5C,CAAC,IAAA,6KAAO,EAACY,eAAeG,aAAa,GACrC;QACA,MAAM,IAAI,oLAAc,CACtB;IAEJ;IAEA,2KAAK,CAACF,OAAO,CAAC,gCAAgCD,eAAehB,aAAa;IAC1E,wBAAwB;IAExB,MAAMA,gBAAgBgB,eAAehB,aAAa;IAClD,MAAMW,QAAQX,cAAcW,KAAK;IACjC,MAAMC,SAASZ,cAAcY,MAAM;IAEnC,MAAMrB,UAAU,IAAI,CAACC,QAAQ;IAC7B,MAAM4B,cAAc,IAAA,6KAAO,EAACJ,eAAeI,WAAW,IAClDJ,eAAeI,WAAW,GAC1B7B,QAAQ8B,0BAA0B;IACtC,MAAMF,gBAAgB,IAAA,6KAAO,EAACH,eAAeG,aAAa,IACtDH,eAAeG,aAAa,GAC5BhB,yBAAyBZ,SAASyB,eAAeZ,oBAAoB;IACzE,MAAMkB,cAAcvB,kBAAkBR,SAASS;IAC/C,MAAMuB,cAAcb,kBAAkBC,OAAOC;IAC7C,MAAMY,aAAaR,eAAeQ,UAAU;IAE5C,MAAMC,eAAe5B;IACrB4B,aAAaH,WAAW,GAAGA;IAC3BG,aAAaF,WAAW,GAAGA;IAC3BE,aAAaV,OAAO,CAACxB;IAErB,MAAMmC,cAAchC;IACpBgC,YAAYN,WAAW,GAAGA;IAC1BM,YAAYH,WAAW,GAAGA;IAC1BG,YAAYP,aAAa,GAAGA;IAC5BO,YAAYF,UAAU,GAAGA;IACzBE,YAAYJ,WAAW,GAAGA;IAC1BI,YAAYX,OAAO,CAACxB;IAEpB+B,YAAYK,OAAO;IAEnB,IAAI,CAACX,eAAeY,QAAQ,EAAE;QAC5BT,cAAcQ,OAAO;QACrB,IAAI,IAAA,6KAAO,EAACX,eAAeI,WAAW,GAAG;YACvCA,YAAYO,OAAO;QACrB;IACF;IAEA,IAAI,IAAA,6KAAO,EAACX,eAAea,WAAW,GAAG;QACvCb,eAAea,WAAW,CAAC7B;IAC7B;AACF;AAEAV,cAAcwB,SAAS,CAACgB,WAAW,GAAG;IACpC,OAAO;AACT;AAEAxC,cAAcwB,SAAS,CAACa,OAAO,GAAG;IAChC,OAAO,IAAA,mLAAa,EAAC,IAAI;AAC3B;uCACerC","ignoreList":[0]}},
    {"offset": {"line": 11092, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/PassState.js"],"sourcesContent":["/**\n * The state for a particular rendering pass.  This is used to supplement the state\n * in a command being executed.\n *\n * @private\n * @constructor\n */\nfunction PassState(context) {\n  /**\n   * The context used to execute commands for this pass.\n   *\n   * @type {Context}\n   */\n  this.context = context;\n\n  /**\n   * The framebuffer to render to.  This framebuffer is used unless a {@link DrawCommand}\n   * or {@link ClearCommand} explicitly define a framebuffer, which is used for off-screen\n   * rendering.\n   *\n   * @type {Framebuffer}\n   * @default undefined\n   */\n  this.framebuffer = undefined;\n\n  /**\n   * When defined, this overrides the blending property of a {@link DrawCommand}'s render state.\n   * This is used to, for example, to allow the renderer to turn off blending during the picking pass.\n   * <p>\n   * When this is <code>undefined</code>, the {@link DrawCommand}'s property is used.\n   * </p>\n   *\n   * @type {boolean}\n   * @default undefined\n   */\n  this.blendingEnabled = undefined;\n\n  /**\n   * When defined, this overrides the scissor test property of a {@link DrawCommand}'s render state.\n   * This is used to, for example, to allow the renderer to scissor out the pick region during the picking pass.\n   * <p>\n   * When this is <code>undefined</code>, the {@link DrawCommand}'s property is used.\n   * </p>\n   *\n   * @type {object}\n   * @default undefined\n   */\n  this.scissorTest = undefined;\n\n  /**\n   * The viewport used when one is not defined by a {@link DrawCommand}'s render state.\n   * @type {BoundingRectangle}\n   * @default undefined\n   */\n  this.viewport = undefined;\n}\nexport default PassState;\n"],"names":["PassState","context","framebuffer","undefined","blendingEnabled","scissorTest","viewport"],"mappings":";;;;AAAA;;;;;;CAMC,GACD,SAASA,UAAUC,OAAO;IACxB;;;;GAIC,GACD,IAAI,CAACA,OAAO,GAAGA;IAEf;;;;;;;GAOC,GACD,IAAI,CAACC,WAAW,GAAGC;IAEnB;;;;;;;;;GASC,GACD,IAAI,CAACC,eAAe,GAAGD;IAEvB;;;;;;;;;GASC,GACD,IAAI,CAACE,WAAW,GAAGF;IAEnB;;;;GAIC,GACD,IAAI,CAACG,QAAQ,GAAGH;AAClB;uCACeH","ignoreList":[0]}},
    {"offset": {"line": 11147, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/ShaderCache.js"],"sourcesContent":["import defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport ShaderProgram from \"./ShaderProgram.js\";\nimport ShaderSource from \"./ShaderSource.js\";\n\n/**\n * @private\n */\nfunction ShaderCache(context) {\n  this._context = context;\n  this._shaders = {};\n  this._numberOfShaders = 0;\n  this._shadersToRelease = {};\n}\n\nObject.defineProperties(ShaderCache.prototype, {\n  numberOfShaders: {\n    get: function () {\n      return this._numberOfShaders;\n    },\n  },\n});\n\n/**\n     * Returns a shader program from the cache, or creates and caches a new shader program,\n     * given the GLSL vertex and fragment shader source and attribute locations.\n     * <p>\n     * The difference between this and {@link ShaderCache#getShaderProgram}, is this is used to\n     * replace an existing reference to a shader program, which is passed as the first argument.\n     * </p>\n     *\n     * @param {object} options Object with the following properties:\n     * @param {ShaderProgram} [options.shaderProgram] The shader program that is being reassigned.\n     * @param {string|ShaderSource} options.vertexShaderSource The GLSL source for the vertex shader.\n     * @param {string|ShaderSource} options.fragmentShaderSource The GLSL source for the fragment shader.\n     * @param {object} options.attributeLocations Indices for the attribute inputs to the vertex shader.\n\n     * @returns {ShaderProgram} The cached or newly created shader program.\n     *\n     *\n     * @example\n     * this._shaderProgram = context.shaderCache.replaceShaderProgram({\n     *     shaderProgram : this._shaderProgram,\n     *     vertexShaderSource : vs,\n     *     fragmentShaderSource : fs,\n     *     attributeLocations : attributeLocations\n     * });\n     *\n     * @see ShaderCache#getShaderProgram\n     */\nShaderCache.prototype.replaceShaderProgram = function (options) {\n  if (defined(options.shaderProgram)) {\n    options.shaderProgram.destroy();\n  }\n\n  return this.getShaderProgram(options);\n};\n\nfunction toSortedJson(dictionary) {\n  const sortedKeys = Object.keys(dictionary).sort();\n  return JSON.stringify(dictionary, sortedKeys);\n}\n\n/**\n * Returns a shader program from the cache, or creates and caches a new shader program,\n * given the GLSL vertex and fragment shader source and attribute locations.\n *\n * @param {object} options Object with the following properties:\n * @param {string|ShaderSource} options.vertexShaderSource The GLSL source for the vertex shader.\n * @param {string|ShaderSource} options.fragmentShaderSource The GLSL source for the fragment shader.\n * @param {object} options.attributeLocations Indices for the attribute inputs to the vertex shader.\n *\n * @returns {ShaderProgram} The cached or newly created shader program.\n */\nShaderCache.prototype.getShaderProgram = function (options) {\n  // convert shaders which are provided as strings into ShaderSource objects\n  // because ShaderSource handles all the automatic including of built-in functions, etc.\n\n  let vertexShaderSource = options.vertexShaderSource;\n  let fragmentShaderSource = options.fragmentShaderSource;\n  const attributeLocations = options.attributeLocations;\n\n  if (typeof vertexShaderSource === \"string\") {\n    vertexShaderSource = new ShaderSource({\n      sources: [vertexShaderSource],\n    });\n  }\n\n  if (typeof fragmentShaderSource === \"string\") {\n    fragmentShaderSource = new ShaderSource({\n      sources: [fragmentShaderSource],\n    });\n  }\n\n  // Since ShaderSource.createCombinedXxxShader() can be expensive, use a\n  // simpler key for caching. This way, the function does not have to be called\n  // for each cache lookup.\n  const vertexShaderKey = vertexShaderSource.getCacheKey();\n  const fragmentShaderKey = fragmentShaderSource.getCacheKey();\n  // Sort the keys in the JSON to ensure a consistent order\n  const attributeLocationKey = defined(attributeLocations)\n    ? toSortedJson(attributeLocations)\n    : \"\";\n  const keyword = `${vertexShaderKey}:${fragmentShaderKey}:${attributeLocationKey}`;\n\n  let cachedShader;\n  if (defined(this._shaders[keyword])) {\n    cachedShader = this._shaders[keyword];\n\n    // No longer want to release this if it was previously released.\n    delete this._shadersToRelease[keyword];\n  } else {\n    const context = this._context;\n\n    const vertexShaderText =\n      vertexShaderSource.createCombinedVertexShader(context);\n    const fragmentShaderText =\n      fragmentShaderSource.createCombinedFragmentShader(context);\n\n    const shaderProgram = new ShaderProgram({\n      gl: context._gl,\n      logShaderCompilation: context.logShaderCompilation,\n      debugShaders: context.debugShaders,\n      vertexShaderSource: vertexShaderSource,\n      vertexShaderText: vertexShaderText,\n      fragmentShaderSource: fragmentShaderSource,\n      fragmentShaderText: fragmentShaderText,\n      attributeLocations: attributeLocations,\n    });\n\n    cachedShader = {\n      cache: this,\n      shaderProgram: shaderProgram,\n      keyword: keyword,\n      derivedKeywords: [],\n      count: 0,\n    };\n\n    // A shader can't be in more than one cache.\n    shaderProgram._cachedShader = cachedShader;\n    this._shaders[keyword] = cachedShader;\n    ++this._numberOfShaders;\n  }\n\n  ++cachedShader.count;\n  return cachedShader.shaderProgram;\n};\n\nShaderCache.prototype.replaceDerivedShaderProgram = function (\n  shaderProgram,\n  keyword,\n  options,\n) {\n  const cachedShader = shaderProgram._cachedShader;\n  const derivedKeyword = keyword + cachedShader.keyword;\n  const cachedDerivedShader = this._shaders[derivedKeyword];\n  if (defined(cachedDerivedShader)) {\n    destroyShader(this, cachedDerivedShader);\n    const index = cachedShader.derivedKeywords.indexOf(keyword);\n    if (index > -1) {\n      cachedShader.derivedKeywords.splice(index, 1);\n    }\n  }\n\n  return this.createDerivedShaderProgram(shaderProgram, keyword, options);\n};\n\nShaderCache.prototype.getDerivedShaderProgram = function (\n  shaderProgram,\n  keyword,\n) {\n  const cachedShader = shaderProgram._cachedShader;\n  const derivedKeyword = keyword + cachedShader.keyword;\n  const cachedDerivedShader = this._shaders[derivedKeyword];\n  if (!defined(cachedDerivedShader)) {\n    return undefined;\n  }\n\n  return cachedDerivedShader.shaderProgram;\n};\n\nShaderCache.prototype.createDerivedShaderProgram = function (\n  shaderProgram,\n  keyword,\n  options,\n) {\n  const cachedShader = shaderProgram._cachedShader;\n  const derivedKeyword = keyword + cachedShader.keyword;\n\n  let vertexShaderSource = options.vertexShaderSource;\n  let fragmentShaderSource = options.fragmentShaderSource;\n  const attributeLocations = options.attributeLocations;\n\n  if (typeof vertexShaderSource === \"string\") {\n    vertexShaderSource = new ShaderSource({\n      sources: [vertexShaderSource],\n    });\n  }\n\n  if (typeof fragmentShaderSource === \"string\") {\n    fragmentShaderSource = new ShaderSource({\n      sources: [fragmentShaderSource],\n    });\n  }\n\n  const context = this._context;\n\n  const vertexShaderText =\n    vertexShaderSource.createCombinedVertexShader(context);\n  const fragmentShaderText =\n    fragmentShaderSource.createCombinedFragmentShader(context);\n\n  const derivedShaderProgram = new ShaderProgram({\n    gl: context._gl,\n    logShaderCompilation: context.logShaderCompilation,\n    debugShaders: context.debugShaders,\n    vertexShaderSource: vertexShaderSource,\n    vertexShaderText: vertexShaderText,\n    fragmentShaderSource: fragmentShaderSource,\n    fragmentShaderText: fragmentShaderText,\n    attributeLocations: attributeLocations,\n  });\n\n  const derivedCachedShader = {\n    cache: this,\n    shaderProgram: derivedShaderProgram,\n    keyword: derivedKeyword,\n    derivedKeywords: [],\n    count: 0,\n  };\n\n  cachedShader.derivedKeywords.push(keyword);\n  derivedShaderProgram._cachedShader = derivedCachedShader;\n  this._shaders[derivedKeyword] = derivedCachedShader;\n  return derivedShaderProgram;\n};\n\nfunction destroyShader(cache, cachedShader) {\n  const derivedKeywords = cachedShader.derivedKeywords;\n  const length = derivedKeywords.length;\n  for (let i = 0; i < length; ++i) {\n    const keyword = derivedKeywords[i] + cachedShader.keyword;\n    const derivedCachedShader = cache._shaders[keyword];\n    destroyShader(cache, derivedCachedShader);\n  }\n\n  delete cache._shaders[cachedShader.keyword];\n  cachedShader.shaderProgram.finalDestroy();\n}\n\nShaderCache.prototype.destroyReleasedShaderPrograms = function () {\n  const shadersToRelease = this._shadersToRelease;\n\n  for (const keyword in shadersToRelease) {\n    if (shadersToRelease.hasOwnProperty(keyword)) {\n      const cachedShader = shadersToRelease[keyword];\n      destroyShader(this, cachedShader);\n      --this._numberOfShaders;\n    }\n  }\n\n  this._shadersToRelease = {};\n};\n\nShaderCache.prototype.releaseShaderProgram = function (shaderProgram) {\n  if (defined(shaderProgram)) {\n    const cachedShader = shaderProgram._cachedShader;\n    if (cachedShader && --cachedShader.count === 0) {\n      this._shadersToRelease[cachedShader.keyword] = cachedShader;\n    }\n  }\n};\n\nShaderCache.prototype.isDestroyed = function () {\n  return false;\n};\n\nShaderCache.prototype.destroy = function () {\n  const shaders = this._shaders;\n  for (const keyword in shaders) {\n    if (shaders.hasOwnProperty(keyword)) {\n      shaders[keyword].shaderProgram.finalDestroy();\n    }\n  }\n  return destroyObject(this);\n};\nexport default ShaderCache;\n"],"names":["ShaderCache","context","_context","_shaders","_numberOfShaders","_shadersToRelease","Object","defineProperties","prototype","numberOfShaders","get","replaceShaderProgram","options","shaderProgram","destroy","getShaderProgram","toSortedJson","dictionary","sortedKeys","keys","sort","JSON","stringify","vertexShaderSource","fragmentShaderSource","attributeLocations","sources","vertexShaderKey","getCacheKey","fragmentShaderKey","attributeLocationKey","keyword","cachedShader","vertexShaderText","createCombinedVertexShader","fragmentShaderText","createCombinedFragmentShader","gl","_gl","logShaderCompilation","debugShaders","cache","derivedKeywords","count","_cachedShader","replaceDerivedShaderProgram","derivedKeyword","cachedDerivedShader","destroyShader","index","indexOf","splice","createDerivedShaderProgram","getDerivedShaderProgram","undefined","derivedShaderProgram","derivedCachedShader","push","length","i","finalDestroy","destroyReleasedShaderPrograms","shadersToRelease","hasOwnProperty","releaseShaderProgram","isDestroyed","shaders"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 11396, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/TextureCache.js"],"sourcesContent":["import defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\n\n/**\n * @private\n */\nfunction TextureCache() {\n  this._textures = {};\n  this._numberOfTextures = 0;\n  this._texturesToRelease = {};\n}\n\nObject.defineProperties(TextureCache.prototype, {\n  numberOfTextures: {\n    get: function () {\n      return this._numberOfTextures;\n    },\n  },\n});\n\nTextureCache.prototype.getTexture = function (keyword) {\n  const cachedTexture = this._textures[keyword];\n  if (!defined(cachedTexture)) {\n    return undefined;\n  }\n\n  // No longer want to release this if it was previously released.\n  delete this._texturesToRelease[keyword];\n\n  ++cachedTexture.count;\n  return cachedTexture.texture;\n};\n\nTextureCache.prototype.addTexture = function (keyword, texture) {\n  const cachedTexture = {\n    texture: texture,\n    count: 1,\n  };\n\n  texture.finalDestroy = texture.destroy;\n\n  const that = this;\n  texture.destroy = function () {\n    if (--cachedTexture.count === 0) {\n      that._texturesToRelease[keyword] = cachedTexture;\n    }\n  };\n\n  this._textures[keyword] = cachedTexture;\n  ++this._numberOfTextures;\n};\n\nTextureCache.prototype.destroyReleasedTextures = function () {\n  const texturesToRelease = this._texturesToRelease;\n\n  for (const keyword in texturesToRelease) {\n    if (texturesToRelease.hasOwnProperty(keyword)) {\n      const cachedTexture = texturesToRelease[keyword];\n      delete this._textures[keyword];\n      cachedTexture.texture.finalDestroy();\n      --this._numberOfTextures;\n    }\n  }\n\n  this._texturesToRelease = {};\n};\n\nTextureCache.prototype.isDestroyed = function () {\n  return false;\n};\n\nTextureCache.prototype.destroy = function () {\n  const textures = this._textures;\n  for (const keyword in textures) {\n    if (textures.hasOwnProperty(keyword)) {\n      textures[keyword].texture.finalDestroy();\n    }\n  }\n  return destroyObject(this);\n};\nexport default TextureCache;\n"],"names":["TextureCache","_textures","_numberOfTextures","_texturesToRelease","Object","defineProperties","prototype","numberOfTextures","get","getTexture","keyword","cachedTexture","undefined","count","texture","addTexture","finalDestroy","destroy","that","destroyReleasedTextures","texturesToRelease","hasOwnProperty","isDestroyed","textures"],"mappings":";;;;AAAA;AACA;;;AAEA;;CAEC,GACD,SAASA;IACP,IAAI,CAACC,SAAS,GAAG,CAAC;IAClB,IAAI,CAACC,iBAAiB,GAAG;IACzB,IAAI,CAACC,kBAAkB,GAAG,CAAC;AAC7B;AAEAC,OAAOC,gBAAgB,CAACL,aAAaM,SAAS,EAAE;IAC9CC,kBAAkB;QAChBC,KAAK;YACH,OAAO,IAAI,CAACN,iBAAiB;QAC/B;IACF;AACF;AAEAF,aAAaM,SAAS,CAACG,UAAU,GAAG,SAAUC,OAAO;IACnD,MAAMC,gBAAgB,IAAI,CAACV,SAAS,CAACS,QAAQ;IAC7C,IAAI,CAAC,IAAA,6KAAO,EAACC,gBAAgB;QAC3B,OAAOC;IACT;IAEA,gEAAgE;IAChE,OAAO,IAAI,CAACT,kBAAkB,CAACO,QAAQ;IAEvC,EAAEC,cAAcE,KAAK;IACrB,OAAOF,cAAcG,OAAO;AAC9B;AAEAd,aAAaM,SAAS,CAACS,UAAU,GAAG,SAAUL,OAAO,EAAEI,OAAO;IAC5D,MAAMH,gBAAgB;QACpBG,SAASA;QACTD,OAAO;IACT;IAEAC,QAAQE,YAAY,GAAGF,QAAQG,OAAO;IAEtC,MAAMC,OAAO,IAAI;IACjBJ,QAAQG,OAAO,GAAG;QAChB,IAAI,EAAEN,cAAcE,KAAK,KAAK,GAAG;YAC/BK,KAAKf,kBAAkB,CAACO,QAAQ,GAAGC;QACrC;IACF;IAEA,IAAI,CAACV,SAAS,CAACS,QAAQ,GAAGC;IAC1B,EAAE,IAAI,CAACT,iBAAiB;AAC1B;AAEAF,aAAaM,SAAS,CAACa,uBAAuB,GAAG;IAC/C,MAAMC,oBAAoB,IAAI,CAACjB,kBAAkB;IAEjD,IAAK,MAAMO,WAAWU,kBAAmB;QACvC,IAAIA,kBAAkBC,cAAc,CAACX,UAAU;YAC7C,MAAMC,gBAAgBS,iBAAiB,CAACV,QAAQ;YAChD,OAAO,IAAI,CAACT,SAAS,CAACS,QAAQ;YAC9BC,cAAcG,OAAO,CAACE,YAAY;YAClC,EAAE,IAAI,CAACd,iBAAiB;QAC1B;IACF;IAEA,IAAI,CAACC,kBAAkB,GAAG,CAAC;AAC7B;AAEAH,aAAaM,SAAS,CAACgB,WAAW,GAAG;IACnC,OAAO;AACT;AAEAtB,aAAaM,SAAS,CAACW,OAAO,GAAG;IAC/B,MAAMM,WAAW,IAAI,CAACtB,SAAS;IAC/B,IAAK,MAAMS,WAAWa,SAAU;QAC9B,IAAIA,SAASF,cAAc,CAACX,UAAU;YACpCa,QAAQ,CAACb,QAAQ,CAACI,OAAO,CAACE,YAAY;QACxC;IACF;IACA,OAAO,IAAA,mLAAa,EAAC,IAAI;AAC3B;uCACehB","ignoreList":[0]}},
    {"offset": {"line": 11472, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/UniformState.js"],"sourcesContent":["import BoundingRectangle from \"../Core/BoundingRectangle.js\";\nimport Cartesian2 from \"../Core/Cartesian2.js\";\nimport Cartesian3 from \"../Core/Cartesian3.js\";\nimport Cartesian4 from \"../Core/Cartesian4.js\";\nimport Cartographic from \"../Core/Cartographic.js\";\nimport Color from \"../Core/Color.js\";\nimport defined from \"../Core/defined.js\";\nimport Ellipsoid from \"../Core/Ellipsoid.js\";\nimport EncodedCartesian3 from \"../Core/EncodedCartesian3.js\";\nimport CesiumMath from \"../Core/Math.js\";\nimport Matrix3 from \"../Core/Matrix3.js\";\nimport Matrix4 from \"../Core/Matrix4.js\";\nimport OrthographicFrustum from \"../Core/OrthographicFrustum.js\";\nimport Simon1994PlanetaryPositions from \"../Core/Simon1994PlanetaryPositions.js\";\nimport Transforms from \"../Core/Transforms.js\";\nimport SceneMode from \"../Scene/SceneMode.js\";\nimport SunLight from \"../Scene/SunLight.js\";\n\n/**\n * @private\n * @constructor\n */\nfunction UniformState() {\n  /**\n   * @type {Texture}\n   */\n  this.globeDepthTexture = undefined;\n  /**\n   * @type {Texture}\n   */\n  this.edgeIdTexture = undefined;\n  /**\n   * @type {Texture}\n   */\n  this.edgeColorTexture = undefined;\n  /**\n   * @type {Texture}\n   */\n  this.edgeDepthTexture = undefined; // packed depth color attachment from edge pass\n  /**\n   * @type {number}\n   */\n  this.gamma = undefined;\n\n  this._viewport = new BoundingRectangle();\n  this._viewportCartesian4 = new Cartesian4();\n  this._viewportDirty = false;\n  this._viewportOrthographicMatrix = Matrix4.clone(Matrix4.IDENTITY);\n  this._viewportTransformation = Matrix4.clone(Matrix4.IDENTITY);\n\n  this._model = Matrix4.clone(Matrix4.IDENTITY);\n  this._view = Matrix4.clone(Matrix4.IDENTITY);\n  this._inverseView = Matrix4.clone(Matrix4.IDENTITY);\n  this._projection = Matrix4.clone(Matrix4.IDENTITY);\n  this._infiniteProjection = Matrix4.clone(Matrix4.IDENTITY);\n  this._entireFrustum = new Cartesian2();\n  this._currentFrustum = new Cartesian2();\n  this._frustumPlanes = new Cartesian4();\n  this._farDepthFromNearPlusOne = undefined;\n  this._log2FarDepthFromNearPlusOne = undefined;\n  this._oneOverLog2FarDepthFromNearPlusOne = undefined;\n\n  this._frameState = undefined;\n  this._temeToPseudoFixed = Matrix3.clone(Matrix4.IDENTITY);\n\n  // Derived members\n  this._view3DDirty = true;\n  this._view3D = new Matrix4();\n\n  this._inverseView3DDirty = true;\n  this._inverseView3D = new Matrix4();\n\n  this._inverseModelDirty = true;\n  this._inverseModel = new Matrix4();\n\n  this._inverseTransposeModelDirty = true;\n  this._inverseTransposeModel = new Matrix3();\n\n  this._viewRotation = new Matrix3();\n  this._inverseViewRotation = new Matrix3();\n\n  this._viewRotation3D = new Matrix3();\n  this._inverseViewRotation3D = new Matrix3();\n\n  this._inverseProjectionDirty = true;\n  this._inverseProjection = new Matrix4();\n\n  this._modelViewDirty = true;\n  this._modelView = new Matrix4();\n\n  this._modelView3DDirty = true;\n  this._modelView3D = new Matrix4();\n\n  this._modelViewRelativeToEyeDirty = true;\n  this._modelViewRelativeToEye = new Matrix4();\n\n  this._inverseModelViewDirty = true;\n  this._inverseModelView = new Matrix4();\n\n  this._inverseModelView3DDirty = true;\n  this._inverseModelView3D = new Matrix4();\n\n  this._viewProjectionDirty = true;\n  this._viewProjection = new Matrix4();\n\n  this._inverseViewProjectionDirty = true;\n  this._inverseViewProjection = new Matrix4();\n\n  this._modelViewProjectionDirty = true;\n  this._modelViewProjection = new Matrix4();\n\n  this._inverseModelViewProjectionDirty = true;\n  this._inverseModelViewProjection = new Matrix4();\n\n  this._modelViewProjectionRelativeToEyeDirty = true;\n  this._modelViewProjectionRelativeToEye = new Matrix4();\n\n  this._modelViewInfiniteProjectionDirty = true;\n  this._modelViewInfiniteProjection = new Matrix4();\n\n  this._normalDirty = true;\n  this._normal = new Matrix3();\n\n  this._normal3DDirty = true;\n  this._normal3D = new Matrix3();\n\n  this._inverseNormalDirty = true;\n  this._inverseNormal = new Matrix3();\n\n  this._inverseNormal3DDirty = true;\n  this._inverseNormal3D = new Matrix3();\n\n  this._encodedCameraPositionMCDirty = true;\n  this._encodedCameraPositionMC = new EncodedCartesian3();\n  this._cameraPosition = new Cartesian3();\n\n  this._sunPositionWC = new Cartesian3();\n  this._sunPositionColumbusView = new Cartesian3();\n  this._sunDirectionWC = new Cartesian3();\n  this._sunDirectionEC = new Cartesian3();\n  this._moonDirectionEC = new Cartesian3();\n\n  this._lightDirectionWC = new Cartesian3();\n  this._lightDirectionEC = new Cartesian3();\n  this._lightColor = new Cartesian3();\n  this._lightColorHdr = new Cartesian3();\n\n  this._pass = undefined;\n  this._mode = undefined;\n  this._mapProjection = undefined;\n  this._ellipsoid = undefined;\n  this._cameraDirection = new Cartesian3();\n  this._cameraRight = new Cartesian3();\n  this._cameraUp = new Cartesian3();\n  this._frustum2DWidth = 0.0;\n  this._eyeHeight = 0.0;\n  this._eyeHeight2D = new Cartesian2();\n  this._eyeEllipsoidNormalEC = new Cartesian3();\n  this._eyeEllipsoidCurvature = new Cartesian2();\n  this._modelToEnu = new Matrix4();\n  this._enuToModel = new Matrix4();\n  this._pixelRatio = 1.0;\n  this._orthographicIn3D = false;\n  this._backgroundColor = new Color();\n\n  this._brdfLut = undefined;\n  this._environmentMap = undefined;\n\n  this._sphericalHarmonicCoefficients = undefined;\n  this._specularEnvironmentMaps = undefined;\n  this._specularEnvironmentMapsMaximumLOD = undefined;\n\n  this._fogDensity = undefined;\n  this._fogVisualDensityScalar = undefined;\n  this._fogMinimumBrightness = undefined;\n\n  this._atmosphereHsbShift = undefined;\n  this._atmosphereLightIntensity = undefined;\n  this._atmosphereRayleighCoefficient = new Cartesian3();\n  this._atmosphereRayleighScaleHeight = new Cartesian3();\n  this._atmosphereMieCoefficient = new Cartesian3();\n  this._atmosphereMieScaleHeight = undefined;\n  this._atmosphereMieAnisotropy = undefined;\n  this._atmosphereDynamicLighting = undefined;\n\n  this._invertClassificationColor = undefined;\n\n  this._splitPosition = 0.0;\n  this._pixelSizePerMeter = undefined;\n  this._geometricToleranceOverMeter = undefined;\n\n  this._minimumDisableDepthTestDistance = undefined;\n}\n\nObject.defineProperties(UniformState.prototype, {\n  /**\n   * @memberof UniformState.prototype\n   * @type {FrameState}\n   * @readonly\n   */\n  frameState: {\n    get: function () {\n      return this._frameState;\n    },\n  },\n  /**\n   * @memberof UniformState.prototype\n   * @type {BoundingRectangle}\n   */\n  viewport: {\n    get: function () {\n      return this._viewport;\n    },\n    set: function (viewport) {\n      if (!BoundingRectangle.equals(viewport, this._viewport)) {\n        BoundingRectangle.clone(viewport, this._viewport);\n\n        const v = this._viewport;\n        const vc = this._viewportCartesian4;\n        vc.x = v.x;\n        vc.y = v.y;\n        vc.z = v.width;\n        vc.w = v.height;\n\n        this._viewportDirty = true;\n      }\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @private\n   */\n  viewportCartesian4: {\n    get: function () {\n      return this._viewportCartesian4;\n    },\n  },\n\n  viewportOrthographic: {\n    get: function () {\n      cleanViewport(this);\n      return this._viewportOrthographicMatrix;\n    },\n  },\n\n  viewportTransformation: {\n    get: function () {\n      cleanViewport(this);\n      return this._viewportTransformation;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  model: {\n    get: function () {\n      return this._model;\n    },\n    set: function (matrix) {\n      Matrix4.clone(matrix, this._model);\n\n      this._modelView3DDirty = true;\n      this._inverseModelView3DDirty = true;\n      this._inverseModelDirty = true;\n      this._inverseTransposeModelDirty = true;\n      this._modelViewDirty = true;\n      this._inverseModelViewDirty = true;\n      this._modelViewRelativeToEyeDirty = true;\n      this._inverseModelViewDirty = true;\n      this._modelViewProjectionDirty = true;\n      this._inverseModelViewProjectionDirty = true;\n      this._modelViewProjectionRelativeToEyeDirty = true;\n      this._modelViewInfiniteProjectionDirty = true;\n      this._normalDirty = true;\n      this._inverseNormalDirty = true;\n      this._normal3DDirty = true;\n      this._inverseNormal3DDirty = true;\n      this._encodedCameraPositionMCDirty = true;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  inverseModel: {\n    get: function () {\n      if (this._inverseModelDirty) {\n        this._inverseModelDirty = false;\n\n        Matrix4.inverse(this._model, this._inverseModel);\n      }\n\n      return this._inverseModel;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @private\n   */\n  inverseTransposeModel: {\n    get: function () {\n      const m = this._inverseTransposeModel;\n      if (this._inverseTransposeModelDirty) {\n        this._inverseTransposeModelDirty = false;\n\n        Matrix4.getMatrix3(this.inverseModel, m);\n        Matrix3.transpose(m, m);\n      }\n\n      return m;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  view: {\n    get: function () {\n      return this._view;\n    },\n  },\n\n  /**\n   * The 3D view matrix.  In 3D mode, this is identical to {@link UniformState#view},\n   * but in 2D and Columbus View it is a synthetic matrix based on the equivalent position\n   * of the camera in the 3D world.\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  view3D: {\n    get: function () {\n      updateView3D(this);\n      return this._view3D;\n    },\n  },\n\n  /**\n   * The 3x3 rotation matrix of the current view matrix ({@link UniformState#view}).\n   * @memberof UniformState.prototype\n   * @type {Matrix3}\n   */\n  viewRotation: {\n    get: function () {\n      updateView3D(this);\n      return this._viewRotation;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @type {Matrix3}\n   */\n  viewRotation3D: {\n    get: function () {\n      updateView3D(this);\n      return this._viewRotation3D;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  inverseView: {\n    get: function () {\n      return this._inverseView;\n    },\n  },\n\n  /**\n   * the 4x4 inverse-view matrix that transforms from eye to 3D world coordinates.  In 3D mode, this is\n   * identical to {@link UniformState#inverseView}, but in 2D and Columbus View it is a synthetic matrix\n   * based on the equivalent position of the camera in the 3D world.\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  inverseView3D: {\n    get: function () {\n      updateInverseView3D(this);\n      return this._inverseView3D;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @type {Matrix3}\n   */\n  inverseViewRotation: {\n    get: function () {\n      return this._inverseViewRotation;\n    },\n  },\n\n  /**\n   * The 3x3 rotation matrix of the current 3D inverse-view matrix ({@link UniformState#inverseView3D}).\n   * @memberof UniformState.prototype\n   * @type {Matrix3}\n   */\n  inverseViewRotation3D: {\n    get: function () {\n      updateInverseView3D(this);\n      return this._inverseViewRotation3D;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  projection: {\n    get: function () {\n      return this._projection;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  inverseProjection: {\n    get: function () {\n      cleanInverseProjection(this);\n      return this._inverseProjection;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  infiniteProjection: {\n    get: function () {\n      return this._infiniteProjection;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  modelView: {\n    get: function () {\n      cleanModelView(this);\n      return this._modelView;\n    },\n  },\n\n  /**\n   * The 3D model-view matrix.  In 3D mode, this is equivalent to {@link UniformState#modelView}.  In 2D and\n   * Columbus View, however, it is a synthetic matrix based on the equivalent position of the camera in the 3D world.\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  modelView3D: {\n    get: function () {\n      cleanModelView3D(this);\n      return this._modelView3D;\n    },\n  },\n\n  /**\n   * Model-view relative to eye matrix.\n   *\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  modelViewRelativeToEye: {\n    get: function () {\n      cleanModelViewRelativeToEye(this);\n      return this._modelViewRelativeToEye;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  inverseModelView: {\n    get: function () {\n      cleanInverseModelView(this);\n      return this._inverseModelView;\n    },\n  },\n\n  /**\n   * The inverse of the 3D model-view matrix.  In 3D mode, this is equivalent to {@link UniformState#inverseModelView}.\n   * In 2D and Columbus View, however, it is a synthetic matrix based on the equivalent position of the camera in the 3D world.\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  inverseModelView3D: {\n    get: function () {\n      cleanInverseModelView3D(this);\n      return this._inverseModelView3D;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  viewProjection: {\n    get: function () {\n      cleanViewProjection(this);\n      return this._viewProjection;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  inverseViewProjection: {\n    get: function () {\n      cleanInverseViewProjection(this);\n      return this._inverseViewProjection;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  modelViewProjection: {\n    get: function () {\n      cleanModelViewProjection(this);\n      return this._modelViewProjection;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  inverseModelViewProjection: {\n    get: function () {\n      cleanInverseModelViewProjection(this);\n      return this._inverseModelViewProjection;\n    },\n  },\n\n  /**\n   * Model-view-projection relative to eye matrix.\n   *\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  modelViewProjectionRelativeToEye: {\n    get: function () {\n      cleanModelViewProjectionRelativeToEye(this);\n      return this._modelViewProjectionRelativeToEye;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  modelViewInfiniteProjection: {\n    get: function () {\n      cleanModelViewInfiniteProjection(this);\n      return this._modelViewInfiniteProjection;\n    },\n  },\n\n  /**\n   * A 3x3 normal transformation matrix that transforms normal vectors in model coordinates to\n   * eye coordinates.\n   * @memberof UniformState.prototype\n   * @type {Matrix3}\n   */\n  normal: {\n    get: function () {\n      cleanNormal(this);\n      return this._normal;\n    },\n  },\n\n  /**\n   * A 3x3 normal transformation matrix that transforms normal vectors in 3D model\n   * coordinates to eye coordinates.  In 3D mode, this is identical to\n   * {@link UniformState#normal}, but in 2D and Columbus View it represents the normal transformation\n   * matrix as if the camera were at an equivalent location in 3D mode.\n   * @memberof UniformState.prototype\n   * @type {Matrix3}\n   */\n  normal3D: {\n    get: function () {\n      cleanNormal3D(this);\n      return this._normal3D;\n    },\n  },\n\n  /**\n   * An inverse 3x3 normal transformation matrix that transforms normal vectors in model coordinates\n   * to eye coordinates.\n   * @memberof UniformState.prototype\n   * @type {Matrix3}\n   */\n  inverseNormal: {\n    get: function () {\n      cleanInverseNormal(this);\n      return this._inverseNormal;\n    },\n  },\n\n  /**\n   * An inverse 3x3 normal transformation matrix that transforms normal vectors in eye coordinates\n   * to 3D model coordinates.  In 3D mode, this is identical to\n   * {@link UniformState#inverseNormal}, but in 2D and Columbus View it represents the normal transformation\n   * matrix as if the camera were at an equivalent location in 3D mode.\n   * @memberof UniformState.prototype\n   * @type {Matrix3}\n   */\n  inverseNormal3D: {\n    get: function () {\n      cleanInverseNormal3D(this);\n      return this._inverseNormal3D;\n    },\n  },\n\n  /**\n   * The near distance (<code>x</code>) and the far distance (<code>y</code>) of the frustum defined by the camera.\n   * This is the largest possible frustum, not an individual frustum used for multi-frustum rendering.\n   * @memberof UniformState.prototype\n   * @type {Cartesian2}\n   */\n  entireFrustum: {\n    get: function () {\n      return this._entireFrustum;\n    },\n  },\n\n  /**\n   * The near distance (<code>x</code>) and the far distance (<code>y</code>) of the frustum defined by the camera.\n   * This is the individual frustum used for multi-frustum rendering.\n   * @memberof UniformState.prototype\n   * @type {Cartesian2}\n   */\n  currentFrustum: {\n    get: function () {\n      return this._currentFrustum;\n    },\n  },\n\n  /**\n   * The distances to the frustum planes. The top, bottom, left and right distances are\n   * the x, y, z, and w components, respectively.\n   * @memberof UniformState.prototype\n   * @type {Cartesian4}\n   */\n  frustumPlanes: {\n    get: function () {\n      return this._frustumPlanes;\n    },\n  },\n\n  /**\n   * The far plane's distance from the near plane, plus 1.0.\n   *\n   * @memberof UniformState.prototype\n   * @type {number}\n   */\n  farDepthFromNearPlusOne: {\n    get: function () {\n      return this._farDepthFromNearPlusOne;\n    },\n  },\n\n  /**\n   * The log2 of {@link UniformState#farDepthFromNearPlusOne}.\n   *\n   * @memberof UniformState.prototype\n   * @type {number}\n   */\n  log2FarDepthFromNearPlusOne: {\n    get: function () {\n      return this._log2FarDepthFromNearPlusOne;\n    },\n  },\n\n  /**\n   * 1.0 divided by {@link UniformState#log2FarDepthFromNearPlusOne}.\n   *\n   * @memberof UniformState.prototype\n   * @type {number}\n   */\n  oneOverLog2FarDepthFromNearPlusOne: {\n    get: function () {\n      return this._oneOverLog2FarDepthFromNearPlusOne;\n    },\n  },\n\n  /**\n   * The height in meters of the eye (camera) above or below the ellipsoid.\n   * @memberof UniformState.prototype\n   * @type {number}\n   */\n  eyeHeight: {\n    get: function () {\n      return this._eyeHeight;\n    },\n  },\n\n  /**\n   * The height (<code>x</code>) and the height squared (<code>y</code>)\n   * in meters of the eye (camera) above the 2D world plane. This uniform is only valid\n   * when the {@link SceneMode} is <code>SCENE2D</code>.\n   * @memberof UniformState.prototype\n   * @type {Cartesian2}\n   */\n  eyeHeight2D: {\n    get: function () {\n      return this._eyeHeight2D;\n    },\n  },\n\n  /**\n   * The ellipsoid surface normal at the camera position, in model coordinates.\n   * @memberof UniformState.prototype\n   * @type {Cartesian3}\n   */\n  eyeEllipsoidNormalEC: {\n    get: function () {\n      return this._eyeEllipsoidNormalEC;\n    },\n  },\n\n  /**\n   * The ellipsoid radii of curvature at the camera position.\n   * The .x component is the prime vertical radius, .y is the meridional.\n   * @memberof UniformState.prototype\n   * @type {Cartesian2}\n   */\n  eyeEllipsoidCurvature: {\n    get: function () {\n      return this._eyeEllipsoidCurvature;\n    },\n  },\n\n  /**\n   * A transform from model coordinates to an east-north-up coordinate system\n   * centered at the position on the ellipsoid below the camera\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  modelToEnu: {\n    get: function () {\n      return this._modelToEnu;\n    },\n  },\n\n  /**\n   * The inverse of {@link UniformState.prototype.modelToEnu}\n   * @memberof UniformState.prototype\n   * @type {Matrix4}\n   */\n  enuToModel: {\n    get: function () {\n      return this._enuToModel;\n    },\n  },\n\n  /**\n   * The sun position in 3D world coordinates at the current scene time.\n   * @memberof UniformState.prototype\n   * @type {Cartesian3}\n   */\n  sunPositionWC: {\n    get: function () {\n      return this._sunPositionWC;\n    },\n  },\n\n  /**\n   * The sun position in 2D world coordinates at the current scene time.\n   * @memberof UniformState.prototype\n   * @type {Cartesian3}\n   */\n  sunPositionColumbusView: {\n    get: function () {\n      return this._sunPositionColumbusView;\n    },\n  },\n\n  /**\n   * A normalized vector to the sun in 3D world coordinates at the current scene time.  Even in 2D or\n   * Columbus View mode, this returns the direction to the sun in the 3D scene.\n   * @memberof UniformState.prototype\n   * @type {Cartesian3}\n   */\n  sunDirectionWC: {\n    get: function () {\n      return this._sunDirectionWC;\n    },\n  },\n\n  /**\n   * A normalized vector to the sun in eye coordinates at the current scene time.  In 3D mode, this\n   * returns the actual vector from the camera position to the sun position.  In 2D and Columbus View, it returns\n   * the vector from the equivalent 3D camera position to the position of the sun in the 3D scene.\n   * @memberof UniformState.prototype\n   * @type {Cartesian3}\n   */\n  sunDirectionEC: {\n    get: function () {\n      return this._sunDirectionEC;\n    },\n  },\n\n  /**\n   * A normalized vector to the moon in eye coordinates at the current scene time.  In 3D mode, this\n   * returns the actual vector from the camera position to the moon position.  In 2D and Columbus View, it returns\n   * the vector from the equivalent 3D camera position to the position of the moon in the 3D scene.\n   * @memberof UniformState.prototype\n   * @type {Cartesian3}\n   */\n  moonDirectionEC: {\n    get: function () {\n      return this._moonDirectionEC;\n    },\n  },\n\n  /**\n   * A normalized vector to the scene's light source in 3D world coordinates.  Even in 2D or\n   * Columbus View mode, this returns the direction to the light in the 3D scene.\n   * @memberof UniformState.prototype\n   * @type {Cartesian3}\n   */\n  lightDirectionWC: {\n    get: function () {\n      return this._lightDirectionWC;\n    },\n  },\n\n  /**\n   * A normalized vector to the scene's light source in eye coordinates.  In 3D mode, this\n   * returns the actual vector from the camera position to the light.  In 2D and Columbus View, it returns\n   * the vector from the equivalent 3D camera position in the 3D scene.\n   * @memberof UniformState.prototype\n   * @type {Cartesian3}\n   */\n  lightDirectionEC: {\n    get: function () {\n      return this._lightDirectionEC;\n    },\n  },\n\n  /**\n   * The color of light emitted by the scene's light source. This is equivalent to the light\n   * color multiplied by the light intensity limited to a maximum luminance of 1.0 suitable\n   * for non-HDR lighting.\n   * @memberof UniformState.prototype\n   * @type {Cartesian3}\n   */\n  lightColor: {\n    get: function () {\n      return this._lightColor;\n    },\n  },\n\n  /**\n   * The high dynamic range color of light emitted by the scene's light source. This is equivalent to\n   * the light color multiplied by the light intensity suitable for HDR lighting.\n   * @memberof UniformState.prototype\n   * @type {Cartesian3}\n   */\n  lightColorHdr: {\n    get: function () {\n      return this._lightColorHdr;\n    },\n  },\n\n  /**\n   * The high bits of the camera position.\n   * @memberof UniformState.prototype\n   * @type {Cartesian3}\n   */\n  encodedCameraPositionMCHigh: {\n    get: function () {\n      cleanEncodedCameraPositionMC(this);\n      return this._encodedCameraPositionMC.high;\n    },\n  },\n\n  /**\n   * The low bits of the camera position.\n   * @memberof UniformState.prototype\n   * @type {Cartesian3}\n   */\n  encodedCameraPositionMCLow: {\n    get: function () {\n      cleanEncodedCameraPositionMC(this);\n      return this._encodedCameraPositionMC.low;\n    },\n  },\n\n  /**\n   * A 3x3 matrix that transforms from True Equator Mean Equinox (TEME) axes to the\n   * pseudo-fixed axes at the Scene's current time.\n   * @memberof UniformState.prototype\n   * @type {Matrix3}\n   */\n  temeToPseudoFixedMatrix: {\n    get: function () {\n      return this._temeToPseudoFixed;\n    },\n  },\n\n  /**\n   * Gets the scaling factor for transforming from the canvas\n   * pixel space to canvas coordinate space.\n   * @memberof UniformState.prototype\n   * @type {number}\n   */\n  pixelRatio: {\n    get: function () {\n      return this._pixelRatio;\n    },\n  },\n\n  /**\n   * A scalar used to mix a color with the fog color based on the distance to the camera.\n   * @memberof UniformState.prototype\n   * @type {number}\n   */\n  fogDensity: {\n    get: function () {\n      return this._fogDensity;\n    },\n  },\n\n  /**\n   * A scalar used to mix a color with the fog color based on the distance to the camera.\n   * @memberof UniformState.prototype\n   * @type {number}\n   */\n  fogVisualDensityScalar: {\n    get: function () {\n      return this._fogVisualDensityScalar;\n    },\n  },\n\n  /**\n   * A scalar used as a minimum value when brightening fog\n   * @memberof UniformState.prototype\n   * @type {number}\n   */\n  fogMinimumBrightness: {\n    get: function () {\n      return this._fogMinimumBrightness;\n    },\n  },\n\n  /**\n   * A color shift to apply to the atmosphere color in HSB.\n   * @memberof UniformState.prototype\n   * @type {Cartesian3}\n   */\n  atmosphereHsbShift: {\n    get: function () {\n      return this._atmosphereHsbShift;\n    },\n  },\n  /**\n   * The intensity of the light that is used for computing the atmosphere color\n   * @memberof UniformState.prototype\n   * @type {number}\n   */\n  atmosphereLightIntensity: {\n    get: function () {\n      return this._atmosphereLightIntensity;\n    },\n  },\n  /**\n   * The Rayleigh scattering coefficient used in the atmospheric scattering equations for the sky atmosphere.\n   * @memberof UniformState.prototype\n   * @type {Cartesian3}\n   */\n  atmosphereRayleighCoefficient: {\n    get: function () {\n      return this._atmosphereRayleighCoefficient;\n    },\n  },\n  /**\n   * The Rayleigh scale height used in the atmospheric scattering equations for the sky atmosphere, in meters.\n   * @memberof UniformState.prototype\n   * @type {number}\n   */\n  atmosphereRayleighScaleHeight: {\n    get: function () {\n      return this._atmosphereRayleighScaleHeight;\n    },\n  },\n  /**\n   * The Mie scattering coefficient used in the atmospheric scattering equations for the sky atmosphere.\n   * @memberof UniformState.prototype\n   * @type {Cartesian3}\n   */\n  atmosphereMieCoefficient: {\n    get: function () {\n      return this._atmosphereMieCoefficient;\n    },\n  },\n  /**\n   * The Mie scale height used in the atmospheric scattering equations for the sky atmosphere, in meters.\n   * @memberof UniformState.prototype\n   * @type {number}\n   */\n  atmosphereMieScaleHeight: {\n    get: function () {\n      return this._atmosphereMieScaleHeight;\n    },\n  },\n  /**\n   * The anisotropy of the medium to consider for Mie scattering.\n   * @memberof UniformState.prototype\n   * @type {number}\n   */\n  atmosphereMieAnisotropy: {\n    get: function () {\n      return this._atmosphereMieAnisotropy;\n    },\n  },\n  /**\n   * Which light source to use for dynamically lighting the atmosphere\n   *\n   * @memberof UniformState.prototype\n   * @type {DynamicAtmosphereLightingType}\n   */\n  atmosphereDynamicLighting: {\n    get: function () {\n      return this._atmosphereDynamicLighting;\n    },\n  },\n\n  /**\n   * A scalar that represents the geometric tolerance per meter\n   * @memberof UniformState.prototype\n   * @type {number}\n   */\n  geometricToleranceOverMeter: {\n    get: function () {\n      return this._geometricToleranceOverMeter;\n    },\n  },\n\n  /**\n   * @memberof UniformState.prototype\n   * @type {Pass}\n   */\n  pass: {\n    get: function () {\n      return this._pass;\n    },\n  },\n\n  /**\n   * The current background color\n   * @memberof UniformState.prototype\n   * @type {Color}\n   */\n  backgroundColor: {\n    get: function () {\n      return this._backgroundColor;\n    },\n  },\n\n  /**\n   * The look up texture used to find the BRDF for a material\n   * @memberof UniformState.prototype\n   * @type {Texture}\n   */\n  brdfLut: {\n    get: function () {\n      return this._brdfLut;\n    },\n  },\n\n  /**\n   * The environment map of the scene\n   * @memberof UniformState.prototype\n   * @type {CubeMap}\n   */\n  environmentMap: {\n    get: function () {\n      return this._environmentMap;\n    },\n  },\n\n  /**\n   * The spherical harmonic coefficients of the scene.\n   * @memberof UniformState.prototype\n   * @type {Cartesian3[]}\n   */\n  sphericalHarmonicCoefficients: {\n    get: function () {\n      return this._sphericalHarmonicCoefficients;\n    },\n  },\n\n  /**\n   * The specular environment cube map of the scene.\n   * @memberof UniformState.prototype\n   * @type {Texture}\n   */\n  specularEnvironmentMaps: {\n    get: function () {\n      return this._specularEnvironmentMaps;\n    },\n  },\n\n  /**\n   * The maximum level-of-detail of the specular environment cube map of the scene.\n   * @memberof UniformState.prototype\n   * @type {number}\n   */\n  specularEnvironmentMapsMaximumLOD: {\n    get: function () {\n      return this._specularEnvironmentMapsMaximumLOD;\n    },\n  },\n\n  /**\n   * The splitter position to use when rendering with a splitter. This will be in pixel coordinates relative to the canvas.\n   * @memberof UniformState.prototype\n   * @type {number}\n   */\n  splitPosition: {\n    get: function () {\n      return this._splitPosition;\n    },\n  },\n\n  /**\n   * The distance from the camera at which to disable the depth test of billboards, labels and points\n   * to, for example, prevent clipping against terrain. When set to zero, the depth test should always\n   * be applied. When less than zero, the depth test should never be applied.\n   *\n   * @memberof UniformState.prototype\n   * @type {number}\n   */\n  minimumDisableDepthTestDistance: {\n    get: function () {\n      return this._minimumDisableDepthTestDistance;\n    },\n  },\n\n  /**\n   * The highlight color of unclassified 3D Tiles.\n   *\n   * @memberof UniformState.prototype\n   * @type {Color}\n   */\n  invertClassificationColor: {\n    get: function () {\n      return this._invertClassificationColor;\n    },\n  },\n\n  /**\n   * Whether or not the current projection is orthographic in 3D.\n   *\n   * @memberOf UniformState.prototype\n   * @type {boolean}\n   */\n  orthographicIn3D: {\n    get: function () {\n      return this._orthographicIn3D;\n    },\n  },\n\n  /**\n   * The current ellipsoid.\n   *\n   * @memberOf UniformState.prototype\n   * @type {Ellipsoid}\n   */\n  ellipsoid: {\n    get: function () {\n      return this._ellipsoid ?? Ellipsoid.default;\n    },\n  },\n});\n\nfunction setView(uniformState, matrix) {\n  Matrix4.clone(matrix, uniformState._view);\n  Matrix4.getMatrix3(matrix, uniformState._viewRotation);\n\n  uniformState._view3DDirty = true;\n  uniformState._inverseView3DDirty = true;\n  uniformState._modelViewDirty = true;\n  uniformState._modelView3DDirty = true;\n  uniformState._modelViewRelativeToEyeDirty = true;\n  uniformState._inverseModelViewDirty = true;\n  uniformState._inverseModelView3DDirty = true;\n  uniformState._viewProjectionDirty = true;\n  uniformState._inverseViewProjectionDirty = true;\n  uniformState._modelViewProjectionDirty = true;\n  uniformState._modelViewProjectionRelativeToEyeDirty = true;\n  uniformState._modelViewInfiniteProjectionDirty = true;\n  uniformState._normalDirty = true;\n  uniformState._inverseNormalDirty = true;\n  uniformState._normal3DDirty = true;\n  uniformState._inverseNormal3DDirty = true;\n}\n\nfunction setInverseView(uniformState, matrix) {\n  Matrix4.clone(matrix, uniformState._inverseView);\n  Matrix4.getMatrix3(matrix, uniformState._inverseViewRotation);\n}\n\nfunction setProjection(uniformState, matrix) {\n  Matrix4.clone(matrix, uniformState._projection);\n\n  uniformState._inverseProjectionDirty = true;\n  uniformState._viewProjectionDirty = true;\n  uniformState._inverseViewProjectionDirty = true;\n  uniformState._modelViewProjectionDirty = true;\n  uniformState._modelViewProjectionRelativeToEyeDirty = true;\n}\n\nfunction setInfiniteProjection(uniformState, matrix) {\n  Matrix4.clone(matrix, uniformState._infiniteProjection);\n\n  uniformState._modelViewInfiniteProjectionDirty = true;\n}\n\nconst surfacePositionScratch = new Cartesian3();\nconst enuTransformScratch = new Matrix4();\n\nfunction setCamera(uniformState, camera) {\n  Cartesian3.clone(camera.positionWC, uniformState._cameraPosition);\n  Cartesian3.clone(camera.directionWC, uniformState._cameraDirection);\n  Cartesian3.clone(camera.rightWC, uniformState._cameraRight);\n  Cartesian3.clone(camera.upWC, uniformState._cameraUp);\n\n  const ellipsoid = uniformState._ellipsoid;\n  let surfacePosition;\n\n  const positionCartographic = camera.positionCartographic;\n  if (!defined(positionCartographic)) {\n    uniformState._eyeHeight = -ellipsoid.maximumRadius;\n    if (Cartesian3.magnitude(camera.positionWC) > 0.0) {\n      uniformState._eyeEllipsoidNormalEC = Cartesian3.normalize(\n        camera.positionWC,\n        uniformState._eyeEllipsoidNormalEC,\n      );\n    }\n    surfacePosition = ellipsoid.scaleToGeodeticSurface(\n      camera.positionWC,\n      surfacePositionScratch,\n    );\n  } else {\n    uniformState._eyeHeight = positionCartographic.height;\n    uniformState._eyeEllipsoidNormalEC =\n      ellipsoid.geodeticSurfaceNormalCartographic(\n        positionCartographic,\n        uniformState._eyeEllipsoidNormalEC,\n      );\n    surfacePosition = Cartesian3.fromRadians(\n      positionCartographic.longitude,\n      positionCartographic.latitude,\n      0.0,\n      ellipsoid,\n      surfacePositionScratch,\n    );\n  }\n\n  uniformState._encodedCameraPositionMCDirty = true;\n\n  if (!defined(surfacePosition)) {\n    return;\n  }\n\n  uniformState._eyeEllipsoidNormalEC = Matrix3.multiplyByVector(\n    uniformState._viewRotation,\n    uniformState._eyeEllipsoidNormalEC,\n    uniformState._eyeEllipsoidNormalEC,\n  );\n\n  const enuToWorld = Transforms.eastNorthUpToFixedFrame(\n    surfacePosition,\n    ellipsoid,\n    enuTransformScratch,\n  );\n  uniformState._enuToModel = Matrix4.multiplyTransformation(\n    uniformState.inverseModel,\n    enuToWorld,\n    uniformState._enuToModel,\n  );\n  uniformState._modelToEnu = Matrix4.inverseTransformation(\n    uniformState._enuToModel,\n    uniformState._modelToEnu,\n  );\n\n  if (\n    !CesiumMath.equalsEpsilon(\n      ellipsoid._radii.x,\n      ellipsoid._radii.y,\n      CesiumMath.EPSILON15,\n    )\n  ) {\n    // Ellipsoid curvature calculations assume radii.x === radii.y as is true for WGS84\n    return;\n  }\n\n  uniformState._eyeEllipsoidCurvature = ellipsoid.getLocalCurvature(\n    surfacePosition,\n    uniformState._eyeEllipsoidCurvature,\n  );\n}\n\nconst transformMatrix = new Matrix3();\nconst sunCartographicScratch = new Cartographic();\nfunction setSunAndMoonDirections(uniformState, frameState) {\n  Transforms.computeIcrfToCentralBodyFixedMatrix(\n    frameState.time,\n    transformMatrix,\n  );\n\n  let position =\n    Simon1994PlanetaryPositions.computeSunPositionInEarthInertialFrame(\n      frameState.time,\n      uniformState._sunPositionWC,\n    );\n  Matrix3.multiplyByVector(transformMatrix, position, position);\n\n  Cartesian3.normalize(position, uniformState._sunDirectionWC);\n\n  position = Matrix3.multiplyByVector(\n    uniformState.viewRotation3D,\n    position,\n    uniformState._sunDirectionEC,\n  );\n  Cartesian3.normalize(position, position);\n\n  position =\n    Simon1994PlanetaryPositions.computeMoonPositionInEarthInertialFrame(\n      frameState.time,\n      uniformState._moonDirectionEC,\n    );\n  Matrix3.multiplyByVector(transformMatrix, position, position);\n  Matrix3.multiplyByVector(uniformState.viewRotation3D, position, position);\n  Cartesian3.normalize(position, position);\n\n  const projection = frameState.mapProjection;\n  const ellipsoid = projection.ellipsoid;\n  const sunCartographic = ellipsoid.cartesianToCartographic(\n    uniformState._sunPositionWC,\n    sunCartographicScratch,\n  );\n  projection.project(sunCartographic, uniformState._sunPositionColumbusView);\n}\n\n/**\n * Synchronizes the frustum's state with the camera state.  This is called\n * by the {@link Scene} when rendering to ensure that automatic GLSL uniforms\n * are set to the right value.\n *\n * @param {object} camera The camera to synchronize with.\n */\nUniformState.prototype.updateCamera = function (camera) {\n  setView(this, camera.viewMatrix);\n  setInverseView(this, camera.inverseViewMatrix);\n  setCamera(this, camera);\n\n  this._entireFrustum.x = camera.frustum.near;\n  this._entireFrustum.y = camera.frustum.far;\n  this.updateFrustum(camera.frustum);\n\n  this._orthographicIn3D =\n    this._mode !== SceneMode.SCENE2D &&\n    camera.frustum instanceof OrthographicFrustum;\n};\n\n/**\n * Synchronizes the frustum's state with the uniform state.  This is called\n * by the {@link Scene} when rendering to ensure that automatic GLSL uniforms\n * are set to the right value.\n *\n * @param {object} frustum The frustum to synchronize with.\n */\nUniformState.prototype.updateFrustum = function (frustum) {\n  // If any frustum parameters have changed, calling the frustum.projectionMatrix\n  // getter will recompute the projection before it is copied.\n  setProjection(this, frustum.projectionMatrix);\n\n  if (defined(frustum.infiniteProjectionMatrix)) {\n    setInfiniteProjection(this, frustum.infiniteProjectionMatrix);\n  }\n  this._currentFrustum.x = frustum.near;\n  this._currentFrustum.y = frustum.far;\n\n  this._farDepthFromNearPlusOne = frustum.far - frustum.near + 1.0;\n  this._log2FarDepthFromNearPlusOne = CesiumMath.log2(\n    this._farDepthFromNearPlusOne,\n  );\n  this._oneOverLog2FarDepthFromNearPlusOne =\n    1.0 / this._log2FarDepthFromNearPlusOne;\n\n  const offCenterFrustum = frustum.offCenterFrustum;\n  if (defined(offCenterFrustum)) {\n    frustum = offCenterFrustum;\n  }\n\n  this._frustumPlanes.x = frustum.top;\n  this._frustumPlanes.y = frustum.bottom;\n  this._frustumPlanes.z = frustum.left;\n  this._frustumPlanes.w = frustum.right;\n};\n\nUniformState.prototype.updatePass = function (pass) {\n  this._pass = pass;\n};\n\nconst EMPTY_ARRAY = [];\nconst defaultLight = new SunLight();\n\n/**\n * Synchronizes frame state with the uniform state.  This is called\n * by the {@link Scene} when rendering to ensure that automatic GLSL uniforms\n * are set to the right value.\n *\n * @param {FrameState} frameState The frameState to synchronize with.\n */\nUniformState.prototype.update = function (frameState) {\n  this._mode = frameState.mode;\n  this._mapProjection = frameState.mapProjection;\n  this._ellipsoid = frameState.mapProjection.ellipsoid;\n  this._pixelRatio = frameState.pixelRatio;\n\n  const camera = frameState.camera;\n  this.updateCamera(camera);\n\n  if (frameState.mode === SceneMode.SCENE2D) {\n    this._frustum2DWidth = camera.frustum.right - camera.frustum.left;\n    this._eyeHeight2D.x = this._frustum2DWidth * 0.5;\n    this._eyeHeight2D.y = this._eyeHeight2D.x * this._eyeHeight2D.x;\n  } else {\n    this._frustum2DWidth = 0.0;\n    this._eyeHeight2D.x = 0.0;\n    this._eyeHeight2D.y = 0.0;\n  }\n\n  setSunAndMoonDirections(this, frameState);\n\n  const light = frameState.light ?? defaultLight;\n  if (light instanceof SunLight) {\n    this._lightDirectionWC = Cartesian3.clone(\n      this._sunDirectionWC,\n      this._lightDirectionWC,\n    );\n    this._lightDirectionEC = Cartesian3.clone(\n      this._sunDirectionEC,\n      this._lightDirectionEC,\n    );\n  } else {\n    this._lightDirectionWC = Cartesian3.normalize(\n      Cartesian3.negate(light.direction, this._lightDirectionWC),\n      this._lightDirectionWC,\n    );\n    this._lightDirectionEC = Matrix3.multiplyByVector(\n      this.viewRotation3D,\n      this._lightDirectionWC,\n      this._lightDirectionEC,\n    );\n  }\n\n  const lightColor = light.color;\n  let lightColorHdr = Cartesian3.fromElements(\n    lightColor.red,\n    lightColor.green,\n    lightColor.blue,\n    this._lightColorHdr,\n  );\n  lightColorHdr = Cartesian3.multiplyByScalar(\n    lightColorHdr,\n    light.intensity,\n    lightColorHdr,\n  );\n  const maximumComponent = Cartesian3.maximumComponent(lightColorHdr);\n  if (maximumComponent > 1.0) {\n    Cartesian3.divideByScalar(\n      lightColorHdr,\n      maximumComponent,\n      this._lightColor,\n    );\n  } else {\n    Cartesian3.clone(lightColorHdr, this._lightColor);\n  }\n\n  const brdfLutGenerator = frameState.brdfLutGenerator;\n  const brdfLut = defined(brdfLutGenerator)\n    ? brdfLutGenerator.colorTexture\n    : undefined;\n  this._brdfLut = brdfLut;\n\n  this._environmentMap =\n    frameState.environmentMap ?? frameState.context.defaultCubeMap;\n\n  // IE 11 doesn't optimize out uniforms that are #ifdef'd out. So undefined values for the spherical harmonic\n  // coefficients cause a crash.\n  this._sphericalHarmonicCoefficients =\n    frameState.sphericalHarmonicCoefficients ?? EMPTY_ARRAY;\n  this._specularEnvironmentMaps = frameState.specularEnvironmentMaps;\n  this._specularEnvironmentMapsMaximumLOD =\n    frameState.specularEnvironmentMapsMaximumLOD;\n\n  this._fogDensity = frameState.fog.density;\n  this._fogVisualDensityScalar = frameState.fog.visualDensityScalar;\n  this._fogMinimumBrightness = frameState.fog.minimumBrightness;\n\n  const atmosphere = frameState.atmosphere;\n  if (defined(atmosphere)) {\n    this._atmosphereHsbShift = Cartesian3.fromElements(\n      atmosphere.hueShift,\n      atmosphere.saturationShift,\n      atmosphere.brightnessShift,\n      this._atmosphereHsbShift,\n    );\n    this._atmosphereLightIntensity = atmosphere.lightIntensity;\n    this._atmosphereRayleighCoefficient = Cartesian3.clone(\n      atmosphere.rayleighCoefficient,\n      this._atmosphereRayleighCoefficient,\n    );\n    this._atmosphereRayleighScaleHeight = atmosphere.rayleighScaleHeight;\n    this._atmosphereMieCoefficient = Cartesian3.clone(\n      atmosphere.mieCoefficient,\n      this._atmosphereMieCoefficient,\n    );\n    this._atmosphereMieScaleHeight = atmosphere.mieScaleHeight;\n    this._atmosphereMieAnisotropy = atmosphere.mieAnisotropy;\n    this._atmosphereDynamicLighting = atmosphere.dynamicLighting;\n  }\n\n  this._invertClassificationColor = frameState.invertClassificationColor;\n\n  this._frameState = frameState;\n  this._temeToPseudoFixed = Transforms.computeTemeToPseudoFixedMatrix(\n    frameState.time,\n    this._temeToPseudoFixed,\n  );\n\n  // Convert the relative splitPosition to absolute pixel coordinates\n  this._splitPosition =\n    frameState.splitPosition * frameState.context.drawingBufferWidth;\n  const fov = camera.frustum.fov;\n  const viewport = this._viewport;\n  let pixelSizePerMeter;\n  if (defined(fov)) {\n    if (viewport.height > viewport.width) {\n      pixelSizePerMeter = (Math.tan(0.5 * fov) * 2.0) / viewport.height;\n    } else {\n      pixelSizePerMeter = (Math.tan(0.5 * fov) * 2.0) / viewport.width;\n    }\n  } else {\n    pixelSizePerMeter = 1.0 / Math.max(viewport.width, viewport.height);\n  }\n\n  this._geometricToleranceOverMeter =\n    pixelSizePerMeter * frameState.maximumScreenSpaceError;\n  Color.clone(frameState.backgroundColor, this._backgroundColor);\n\n  this._minimumDisableDepthTestDistance =\n    frameState.minimumDisableDepthTestDistance;\n  this._minimumDisableDepthTestDistance *=\n    this._minimumDisableDepthTestDistance;\n  if (this._minimumDisableDepthTestDistance === Number.POSITIVE_INFINITY) {\n    this._minimumDisableDepthTestDistance = -1.0;\n  }\n};\n\nfunction cleanViewport(uniformState) {\n  if (uniformState._viewportDirty) {\n    const v = uniformState._viewport;\n    Matrix4.computeOrthographicOffCenter(\n      v.x,\n      v.x + v.width,\n      v.y,\n      v.y + v.height,\n      0.0,\n      1.0,\n      uniformState._viewportOrthographicMatrix,\n    );\n    Matrix4.computeViewportTransformation(\n      v,\n      0.0,\n      1.0,\n      uniformState._viewportTransformation,\n    );\n    uniformState._viewportDirty = false;\n  }\n}\n\nfunction cleanInverseProjection(uniformState) {\n  if (uniformState._inverseProjectionDirty) {\n    uniformState._inverseProjectionDirty = false;\n\n    if (\n      uniformState._mode !== SceneMode.SCENE2D &&\n      uniformState._mode !== SceneMode.MORPHING &&\n      !uniformState._orthographicIn3D\n    ) {\n      Matrix4.inverse(\n        uniformState._projection,\n        uniformState._inverseProjection,\n      );\n    } else {\n      Matrix4.clone(Matrix4.ZERO, uniformState._inverseProjection);\n    }\n  }\n}\n\n// Derived\nfunction cleanModelView(uniformState) {\n  if (uniformState._modelViewDirty) {\n    uniformState._modelViewDirty = false;\n\n    Matrix4.multiplyTransformation(\n      uniformState._view,\n      uniformState._model,\n      uniformState._modelView,\n    );\n  }\n}\n\nfunction cleanModelView3D(uniformState) {\n  if (uniformState._modelView3DDirty) {\n    uniformState._modelView3DDirty = false;\n\n    Matrix4.multiplyTransformation(\n      uniformState.view3D,\n      uniformState._model,\n      uniformState._modelView3D,\n    );\n  }\n}\n\nfunction cleanInverseModelView(uniformState) {\n  if (uniformState._inverseModelViewDirty) {\n    uniformState._inverseModelViewDirty = false;\n\n    Matrix4.inverse(uniformState.modelView, uniformState._inverseModelView);\n  }\n}\n\nfunction cleanInverseModelView3D(uniformState) {\n  if (uniformState._inverseModelView3DDirty) {\n    uniformState._inverseModelView3DDirty = false;\n\n    Matrix4.inverse(uniformState.modelView3D, uniformState._inverseModelView3D);\n  }\n}\n\nfunction cleanViewProjection(uniformState) {\n  if (uniformState._viewProjectionDirty) {\n    uniformState._viewProjectionDirty = false;\n\n    Matrix4.multiply(\n      uniformState._projection,\n      uniformState._view,\n      uniformState._viewProjection,\n    );\n  }\n}\n\nfunction cleanInverseViewProjection(uniformState) {\n  if (uniformState._inverseViewProjectionDirty) {\n    uniformState._inverseViewProjectionDirty = false;\n\n    Matrix4.inverse(\n      uniformState.viewProjection,\n      uniformState._inverseViewProjection,\n    );\n  }\n}\n\nfunction cleanModelViewProjection(uniformState) {\n  if (uniformState._modelViewProjectionDirty) {\n    uniformState._modelViewProjectionDirty = false;\n\n    Matrix4.multiply(\n      uniformState._projection,\n      uniformState.modelView,\n      uniformState._modelViewProjection,\n    );\n  }\n}\n\nfunction cleanModelViewRelativeToEye(uniformState) {\n  if (uniformState._modelViewRelativeToEyeDirty) {\n    uniformState._modelViewRelativeToEyeDirty = false;\n\n    const mv = uniformState.modelView;\n    const mvRte = uniformState._modelViewRelativeToEye;\n    mvRte[0] = mv[0];\n    mvRte[1] = mv[1];\n    mvRte[2] = mv[2];\n    mvRte[3] = mv[3];\n    mvRte[4] = mv[4];\n    mvRte[5] = mv[5];\n    mvRte[6] = mv[6];\n    mvRte[7] = mv[7];\n    mvRte[8] = mv[8];\n    mvRte[9] = mv[9];\n    mvRte[10] = mv[10];\n    mvRte[11] = mv[11];\n    mvRte[12] = 0.0;\n    mvRte[13] = 0.0;\n    mvRte[14] = 0.0;\n    mvRte[15] = mv[15];\n  }\n}\n\nfunction cleanInverseModelViewProjection(uniformState) {\n  if (uniformState._inverseModelViewProjectionDirty) {\n    uniformState._inverseModelViewProjectionDirty = false;\n\n    Matrix4.inverse(\n      uniformState.modelViewProjection,\n      uniformState._inverseModelViewProjection,\n    );\n  }\n}\n\nfunction cleanModelViewProjectionRelativeToEye(uniformState) {\n  if (uniformState._modelViewProjectionRelativeToEyeDirty) {\n    uniformState._modelViewProjectionRelativeToEyeDirty = false;\n\n    Matrix4.multiply(\n      uniformState._projection,\n      uniformState.modelViewRelativeToEye,\n      uniformState._modelViewProjectionRelativeToEye,\n    );\n  }\n}\n\nfunction cleanModelViewInfiniteProjection(uniformState) {\n  if (uniformState._modelViewInfiniteProjectionDirty) {\n    uniformState._modelViewInfiniteProjectionDirty = false;\n\n    Matrix4.multiply(\n      uniformState._infiniteProjection,\n      uniformState.modelView,\n      uniformState._modelViewInfiniteProjection,\n    );\n  }\n}\n\nfunction cleanNormal(uniformState) {\n  if (uniformState._normalDirty) {\n    uniformState._normalDirty = false;\n\n    const m = uniformState._normal;\n    Matrix4.getMatrix3(uniformState.inverseModelView, m);\n    Matrix3.transpose(m, m);\n  }\n}\n\nfunction cleanNormal3D(uniformState) {\n  if (uniformState._normal3DDirty) {\n    uniformState._normal3DDirty = false;\n\n    const m = uniformState._normal3D;\n    Matrix4.getMatrix3(uniformState.inverseModelView3D, m);\n    Matrix3.transpose(m, m);\n  }\n}\n\nfunction cleanInverseNormal(uniformState) {\n  if (uniformState._inverseNormalDirty) {\n    uniformState._inverseNormalDirty = false;\n\n    const m = uniformState._inverseNormal;\n    Matrix4.getMatrix3(uniformState.modelView, m);\n    Matrix3.transpose(m, m);\n  }\n}\n\nfunction cleanInverseNormal3D(uniformState) {\n  if (uniformState._inverseNormal3DDirty) {\n    uniformState._inverseNormal3DDirty = false;\n\n    const m = uniformState._inverseNormal3D;\n    Matrix4.getMatrix3(uniformState.modelView3D, m);\n    Matrix3.transpose(m, m);\n  }\n}\n\nconst cameraPositionMC = new Cartesian3();\n\nfunction cleanEncodedCameraPositionMC(uniformState) {\n  if (uniformState._encodedCameraPositionMCDirty) {\n    uniformState._encodedCameraPositionMCDirty = false;\n\n    Matrix4.multiplyByPoint(\n      uniformState.inverseModel,\n      uniformState._cameraPosition,\n      cameraPositionMC,\n    );\n    EncodedCartesian3.fromCartesian(\n      cameraPositionMC,\n      uniformState._encodedCameraPositionMC,\n    );\n  }\n}\n\nconst view2Dto3DPScratch = new Cartesian3();\nconst view2Dto3DRScratch = new Cartesian3();\nconst view2Dto3DUScratch = new Cartesian3();\nconst view2Dto3DDScratch = new Cartesian3();\nconst view2Dto3DCartographicScratch = new Cartographic();\nconst view2Dto3DCartesian3Scratch = new Cartesian3();\nconst view2Dto3DMatrix4Scratch = new Matrix4();\n\nfunction view2Dto3D(\n  position2D,\n  direction2D,\n  right2D,\n  up2D,\n  frustum2DWidth,\n  mode,\n  projection,\n  result,\n) {\n  // The camera position and directions are expressed in the 2D coordinate system where the Y axis is to the East,\n  // the Z axis is to the North, and the X axis is out of the map.  Express them instead in the ENU axes where\n  // X is to the East, Y is to the North, and Z is out of the local horizontal plane.\n  const p = view2Dto3DPScratch;\n  p.x = position2D.y;\n  p.y = position2D.z;\n  p.z = position2D.x;\n\n  const r = view2Dto3DRScratch;\n  r.x = right2D.y;\n  r.y = right2D.z;\n  r.z = right2D.x;\n\n  const u = view2Dto3DUScratch;\n  u.x = up2D.y;\n  u.y = up2D.z;\n  u.z = up2D.x;\n\n  const d = view2Dto3DDScratch;\n  d.x = direction2D.y;\n  d.y = direction2D.z;\n  d.z = direction2D.x;\n\n  // In 2D, the camera height is always 12.7 million meters.\n  // The apparent height is equal to half the frustum width.\n  if (mode === SceneMode.SCENE2D) {\n    p.z = frustum2DWidth * 0.5;\n  }\n\n  // Compute the equivalent camera position in the real (3D) world.\n  // In 2D and Columbus View, the camera can travel outside the projection, and when it does so\n  // there's not really any corresponding location in the real world.  So clamp the unprojected\n  // longitude and latitude to their valid ranges.\n  const cartographic = projection.unproject(p, view2Dto3DCartographicScratch);\n  cartographic.longitude = CesiumMath.clamp(\n    cartographic.longitude,\n    -Math.PI,\n    Math.PI,\n  );\n  cartographic.latitude = CesiumMath.clamp(\n    cartographic.latitude,\n    -CesiumMath.PI_OVER_TWO,\n    CesiumMath.PI_OVER_TWO,\n  );\n  const ellipsoid = projection.ellipsoid;\n  const position3D = ellipsoid.cartographicToCartesian(\n    cartographic,\n    view2Dto3DCartesian3Scratch,\n  );\n\n  // Compute the rotation from the local ENU at the real world camera position to the fixed axes.\n  const enuToFixed = Transforms.eastNorthUpToFixedFrame(\n    position3D,\n    ellipsoid,\n    view2Dto3DMatrix4Scratch,\n  );\n\n  // Transform each camera direction to the fixed axes.\n  Matrix4.multiplyByPointAsVector(enuToFixed, r, r);\n  Matrix4.multiplyByPointAsVector(enuToFixed, u, u);\n  Matrix4.multiplyByPointAsVector(enuToFixed, d, d);\n\n  // Compute the view matrix based on the new fixed-frame camera position and directions.\n  if (!defined(result)) {\n    result = new Matrix4();\n  }\n\n  result[0] = r.x;\n  result[1] = u.x;\n  result[2] = -d.x;\n  result[3] = 0.0;\n  result[4] = r.y;\n  result[5] = u.y;\n  result[6] = -d.y;\n  result[7] = 0.0;\n  result[8] = r.z;\n  result[9] = u.z;\n  result[10] = -d.z;\n  result[11] = 0.0;\n  result[12] = -Cartesian3.dot(r, position3D);\n  result[13] = -Cartesian3.dot(u, position3D);\n  result[14] = Cartesian3.dot(d, position3D);\n  result[15] = 1.0;\n\n  return result;\n}\n\nfunction updateView3D(that) {\n  if (that._view3DDirty) {\n    if (that._mode === SceneMode.SCENE3D) {\n      Matrix4.clone(that._view, that._view3D);\n    } else {\n      view2Dto3D(\n        that._cameraPosition,\n        that._cameraDirection,\n        that._cameraRight,\n        that._cameraUp,\n        that._frustum2DWidth,\n        that._mode,\n        that._mapProjection,\n        that._view3D,\n      );\n    }\n    Matrix4.getMatrix3(that._view3D, that._viewRotation3D);\n    that._view3DDirty = false;\n  }\n}\n\nfunction updateInverseView3D(that) {\n  if (that._inverseView3DDirty) {\n    Matrix4.inverseTransformation(that.view3D, that._inverseView3D);\n    Matrix4.getMatrix3(that._inverseView3D, that._inverseViewRotation3D);\n    that._inverseView3DDirty = false;\n  }\n}\nexport default UniformState;\n"],"names":["UniformState","globeDepthTexture","undefined","edgeIdTexture","edgeColorTexture","edgeDepthTexture","gamma","_viewport","_viewportCartesian4","_viewportDirty","_viewportOrthographicMatrix","clone","IDENTITY","_viewportTransformation","_model","_view","_inverseView","_projection","_infiniteProjection","_entireFrustum","_currentFrustum","_frustumPlanes","_farDepthFromNearPlusOne","_log2FarDepthFromNearPlusOne","_oneOverLog2FarDepthFromNearPlusOne","_frameState","_temeToPseudoFixed","_view3DDirty","_view3D","_inverseView3DDirty","_inverseView3D","_inverseModelDirty","_inverseModel","_inverseTransposeModelDirty","_inverseTransposeModel","_viewRotation","_inverseViewRotation","_viewRotation3D","_inverseViewRotation3D","_inverseProjectionDirty","_inverseProjection","_modelViewDirty","_modelView","_modelView3DDirty","_modelView3D","_modelViewRelativeToEyeDirty","_modelViewRelativeToEye","_inverseModelViewDirty","_inverseModelView","_inverseModelView3DDirty","_inverseModelView3D","_viewProjectionDirty","_viewProjection","_inverseViewProjectionDirty","_inverseViewProjection","_modelViewProjectionDirty","_modelViewProjection","_inverseModelViewProjectionDirty","_inverseModelViewProjection","_modelViewProjectionRelativeToEyeDirty","_modelViewProjectionRelativeToEye","_modelViewInfiniteProjectionDirty","_modelViewInfiniteProjection","_normalDirty","_normal","_normal3DDirty","_normal3D","_inverseNormalDirty","_inverseNormal","_inverseNormal3DDirty","_inverseNormal3D","_encodedCameraPositionMCDirty","_encodedCameraPositionMC","_cameraPosition","_sunPositionWC","_sunPositionColumbusView","_sunDirectionWC","_sunDirectionEC","_moonDirectionEC","_lightDirectionWC","_lightDirectionEC","_lightColor","_lightColorHdr","_pass","_mode","_mapProjection","_ellipsoid","_cameraDirection","_cameraRight","_cameraUp","_frustum2DWidth","_eyeHeight","_eyeHeight2D","_eyeEllipsoidNormalEC","_eyeEllipsoidCurvature","_modelToEnu","_enuToModel","_pixelRatio","_orthographicIn3D","_backgroundColor","_brdfLut","_environmentMap","_sphericalHarmonicCoefficients","_specularEnvironmentMaps","_specularEnvironmentMapsMaximumLOD","_fogDensity","_fogVisualDensityScalar","_fogMinimumBrightness","_atmosphereHsbShift","_atmosphereLightIntensity","_atmosphereRayleighCoefficient","_atmosphereRayleighScaleHeight","_atmosphereMieCoefficient","_atmosphereMieScaleHeight","_atmosphereMieAnisotropy","_atmosphereDynamicLighting","_invertClassificationColor","_splitPosition","_pixelSizePerMeter","_geometricToleranceOverMeter","_minimumDisableDepthTestDistance","Object","defineProperties","prototype","frameState","get","viewport","set","equals","v","vc","x","y","z","width","w","height","viewportCartesian4","viewportOrthographic","cleanViewport","viewportTransformation","model","matrix","inverseModel","inverse","inverseTransposeModel","m","getMatrix3","transpose","view","view3D","updateView3D","viewRotation","viewRotation3D","inverseView","inverseView3D","updateInverseView3D","inverseViewRotation","inverseViewRotation3D","projection","inverseProjection","cleanInverseProjection","infiniteProjection","modelView","cleanModelView","modelView3D","cleanModelView3D","modelViewRelativeToEye","cleanModelViewRelativeToEye","inverseModelView","cleanInverseModelView","inverseModelView3D","cleanInverseModelView3D","viewProjection","cleanViewProjection","inverseViewProjection","cleanInverseViewProjection","modelViewProjection","cleanModelViewProjection","inverseModelViewProjection","cleanInverseModelViewProjection","modelViewProjectionRelativeToEye","cleanModelViewProjectionRelativeToEye","modelViewInfiniteProjection","cleanModelViewInfiniteProjection","normal","cleanNormal","normal3D","cleanNormal3D","inverseNormal","cleanInverseNormal","inverseNormal3D","cleanInverseNormal3D","entireFrustum","currentFrustum","frustumPlanes","farDepthFromNearPlusOne","log2FarDepthFromNearPlusOne","oneOverLog2FarDepthFromNearPlusOne","eyeHeight","eyeHeight2D","eyeEllipsoidNormalEC","eyeEllipsoidCurvature","modelToEnu","enuToModel","sunPositionWC","sunPositionColumbusView","sunDirectionWC","sunDirectionEC","moonDirectionEC","lightDirectionWC","lightDirectionEC","lightColor","lightColorHdr","encodedCameraPositionMCHigh","cleanEncodedCameraPositionMC","high","encodedCameraPositionMCLow","low","temeToPseudoFixedMatrix","pixelRatio","fogDensity","fogVisualDensityScalar","fogMinimumBrightness","atmosphereHsbShift","atmosphereLightIntensity","atmosphereRayleighCoefficient","atmosphereRayleighScaleHeight","atmosphereMieCoefficient","atmosphereMieScaleHeight","atmosphereMieAnisotropy","atmosphereDynamicLighting","geometricToleranceOverMeter","pass","backgroundColor","brdfLut","environmentMap","sphericalHarmonicCoefficients","specularEnvironmentMaps","specularEnvironmentMapsMaximumLOD","splitPosition","minimumDisableDepthTestDistance","invertClassificationColor","orthographicIn3D","ellipsoid","default","setView","uniformState","setInverseView","setProjection","setInfiniteProjection","surfacePositionScratch","enuTransformScratch","setCamera","camera","positionWC","directionWC","rightWC","upWC","surfacePosition","positionCartographic","maximumRadius","magnitude","normalize","scaleToGeodeticSurface","geodeticSurfaceNormalCartographic","fromRadians","longitude","latitude","multiplyByVector","enuToWorld","eastNorthUpToFixedFrame","multiplyTransformation","inverseTransformation","equalsEpsilon","_radii","EPSILON15","getLocalCurvature","transformMatrix","sunCartographicScratch","setSunAndMoonDirections","computeIcrfToCentralBodyFixedMatrix","time","position","computeSunPositionInEarthInertialFrame","computeMoonPositionInEarthInertialFrame","mapProjection","sunCartographic","cartesianToCartographic","project","updateCamera","viewMatrix","inverseViewMatrix","frustum","near","far","updateFrustum","SCENE2D","projectionMatrix","infiniteProjectionMatrix","log2","offCenterFrustum","top","bottom","left","right","updatePass","EMPTY_ARRAY","defaultLight","update","mode","light","negate","direction","color","fromElements","red","green","blue","multiplyByScalar","intensity","maximumComponent","divideByScalar","brdfLutGenerator","colorTexture","context","defaultCubeMap","fog","density","visualDensityScalar","minimumBrightness","atmosphere","hueShift","saturationShift","brightnessShift","lightIntensity","rayleighCoefficient","rayleighScaleHeight","mieCoefficient","mieScaleHeight","mieAnisotropy","dynamicLighting","computeTemeToPseudoFixedMatrix","drawingBufferWidth","fov","pixelSizePerMeter","Math","tan","max","maximumScreenSpaceError","Number","POSITIVE_INFINITY","computeOrthographicOffCenter","computeViewportTransformation","MORPHING","ZERO","multiply","mv","mvRte","cameraPositionMC","multiplyByPoint","fromCartesian","view2Dto3DPScratch","view2Dto3DRScratch","view2Dto3DUScratch","view2Dto3DDScratch","view2Dto3DCartographicScratch","view2Dto3DCartesian3Scratch","view2Dto3DMatrix4Scratch","view2Dto3D","position2D","direction2D","right2D","up2D","frustum2DWidth","result","p","r","u","d","cartographic","unproject","clamp","PI","PI_OVER_TWO","position3D","cartographicToCartesian","enuToFixed","multiplyByPointAsVector","dot","that","SCENE3D"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 12935, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/Context.js"],"sourcesContent":["import Buffer from \"./Buffer.js\";\nimport Check from \"../Core/Check.js\";\nimport Color from \"../Core/Color.js\";\nimport ComponentDatatype from \"../Core/ComponentDatatype.js\";\nimport createGuid from \"../Core/createGuid.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport Geometry from \"../Core/Geometry.js\";\nimport GeometryAttribute from \"../Core/GeometryAttribute.js\";\nimport loadKTX2 from \"../Core/loadKTX2.js\";\nimport Matrix4 from \"../Core/Matrix4.js\";\nimport PixelFormat from \"../Core/PixelFormat.js\";\nimport PrimitiveType from \"../Core/PrimitiveType.js\";\nimport RuntimeError from \"../Core/RuntimeError.js\";\nimport WebGLConstants from \"../Core/WebGLConstants.js\";\nimport ViewportQuadVS from \"../Shaders/ViewportQuadVS.js\";\nimport BufferUsage from \"./BufferUsage.js\";\nimport ClearCommand from \"./ClearCommand.js\";\nimport ContextLimits from \"./ContextLimits.js\";\nimport CubeMap from \"./CubeMap.js\";\nimport DrawCommand from \"./DrawCommand.js\";\nimport PassState from \"./PassState.js\";\nimport PixelDatatype from \"./PixelDatatype.js\";\nimport RenderState from \"./RenderState.js\";\nimport ShaderCache from \"./ShaderCache.js\";\nimport ShaderProgram from \"./ShaderProgram.js\";\nimport Texture from \"./Texture.js\";\nimport TextureCache from \"./TextureCache.js\";\nimport UniformState from \"./UniformState.js\";\nimport VertexArray from \"./VertexArray.js\";\n\n/**\n * @private\n * @constructor\n *\n * @param {HTMLCanvasElement} canvas The canvas element to which the context will be associated\n * @param {ContextOptions} [options] Options to control WebGL settings for the context\n */\nfunction Context(canvas, options) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"canvas\", canvas);\n  //>>includeEnd('debug');\n\n  const {\n    getWebGLStub,\n    requestWebgl1,\n    webgl: webglOptions = {},\n    allowTextureFilterAnisotropic = true,\n  } = options ?? {};\n\n  // Override select WebGL defaults\n  webglOptions.alpha = webglOptions.alpha ?? false; // WebGL default is true\n  webglOptions.stencil = webglOptions.stencil ?? true; // WebGL default is false\n  webglOptions.powerPreference =\n    webglOptions.powerPreference ?? \"high-performance\"; // WebGL default is \"default\"\n\n  const glContext = defined(getWebGLStub)\n    ? getWebGLStub(canvas, webglOptions)\n    : getWebGLContext(canvas, webglOptions, requestWebgl1);\n\n  // Get context type. instanceof will throw if WebGL2 is not supported\n  const webgl2Supported = typeof WebGL2RenderingContext !== \"undefined\";\n  const webgl2 = webgl2Supported && glContext instanceof WebGL2RenderingContext;\n\n  this._canvas = canvas;\n  this._originalGLContext = glContext;\n  this._gl = glContext;\n  this._webgl2 = webgl2;\n  this._id = createGuid();\n\n  // Validation and logging disabled by default for speed.\n  this.validateFramebuffer = false;\n  this.validateShaderProgram = false;\n  this.logShaderCompilation = false;\n\n  this._throwOnWebGLError = false;\n\n  this._shaderCache = new ShaderCache(this);\n  this._textureCache = new TextureCache();\n\n  const gl = glContext;\n\n  this._stencilBits = gl.getParameter(gl.STENCIL_BITS);\n\n  ContextLimits._maximumCombinedTextureImageUnits = gl.getParameter(\n    gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS,\n  ); // min: 8\n  ContextLimits._maximumCubeMapSize = gl.getParameter(\n    gl.MAX_CUBE_MAP_TEXTURE_SIZE,\n  ); // min: 16\n  ContextLimits._maximumFragmentUniformVectors = gl.getParameter(\n    gl.MAX_FRAGMENT_UNIFORM_VECTORS,\n  ); // min: 16\n  ContextLimits._maximumTextureImageUnits = gl.getParameter(\n    gl.MAX_TEXTURE_IMAGE_UNITS,\n  ); // min: 8\n  ContextLimits._maximumRenderbufferSize = gl.getParameter(\n    gl.MAX_RENDERBUFFER_SIZE,\n  ); // min: 1\n  ContextLimits._maximumTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE); // min: 64\n  ContextLimits._maximumVaryingVectors = gl.getParameter(\n    gl.MAX_VARYING_VECTORS,\n  ); // min: 8\n  ContextLimits._maximumVertexAttributes = gl.getParameter(\n    gl.MAX_VERTEX_ATTRIBS,\n  ); // min: 8\n  ContextLimits._maximumVertexTextureImageUnits = gl.getParameter(\n    gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS,\n  ); // min: 0\n  ContextLimits._maximumVertexUniformVectors = gl.getParameter(\n    gl.MAX_VERTEX_UNIFORM_VECTORS,\n  ); // min: 128\n\n  ContextLimits._maximumSamples = this._webgl2\n    ? gl.getParameter(gl.MAX_SAMPLES)\n    : 0;\n\n  const aliasedLineWidthRange = gl.getParameter(gl.ALIASED_LINE_WIDTH_RANGE); // must include 1\n  ContextLimits._minimumAliasedLineWidth = aliasedLineWidthRange[0];\n  ContextLimits._maximumAliasedLineWidth = aliasedLineWidthRange[1];\n\n  const aliasedPointSizeRange = gl.getParameter(gl.ALIASED_POINT_SIZE_RANGE); // must include 1\n  ContextLimits._minimumAliasedPointSize = aliasedPointSizeRange[0];\n  ContextLimits._maximumAliasedPointSize = aliasedPointSizeRange[1];\n\n  const maximumViewportDimensions = gl.getParameter(gl.MAX_VIEWPORT_DIMS);\n  ContextLimits._maximumViewportWidth = maximumViewportDimensions[0];\n  ContextLimits._maximumViewportHeight = maximumViewportDimensions[1];\n\n  const highpFloat = gl.getShaderPrecisionFormat(\n    gl.FRAGMENT_SHADER,\n    gl.HIGH_FLOAT,\n  );\n  ContextLimits._highpFloatSupported = highpFloat.precision !== 0;\n  const highpInt = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_INT);\n  ContextLimits._highpIntSupported = highpInt.rangeMax !== 0;\n\n  this._antialias = gl.getContextAttributes().antialias;\n\n  // Query and initialize extensions\n  this._standardDerivatives = !!getExtension(gl, [\"OES_standard_derivatives\"]);\n  this._blendMinmax = !!getExtension(gl, [\"EXT_blend_minmax\"]);\n  this._elementIndexUint = !!getExtension(gl, [\"OES_element_index_uint\"]);\n  this._depthTexture = !!getExtension(gl, [\n    \"WEBGL_depth_texture\",\n    \"WEBKIT_WEBGL_depth_texture\",\n  ]);\n  this._fragDepth = !!getExtension(gl, [\"EXT_frag_depth\"]);\n  this._debugShaders = getExtension(gl, [\"WEBGL_debug_shaders\"]);\n\n  this._textureFloat = !!getExtension(gl, [\"OES_texture_float\"]);\n  this._textureHalfFloat = !!getExtension(gl, [\"OES_texture_half_float\"]);\n\n  this._textureFloatLinear = !!getExtension(gl, [\"OES_texture_float_linear\"]);\n  this._textureHalfFloatLinear = !!getExtension(gl, [\n    \"OES_texture_half_float_linear\",\n  ]);\n\n  this._supportsTextureLod = !!getExtension(gl, [\"EXT_shader_texture_lod\"]);\n\n  this._colorBufferFloat = !!getExtension(gl, [\n    \"EXT_color_buffer_float\",\n    \"WEBGL_color_buffer_float\",\n  ]);\n  this._floatBlend = !!getExtension(gl, [\"EXT_float_blend\"]);\n  this._colorBufferHalfFloat = !!getExtension(gl, [\n    \"EXT_color_buffer_half_float\",\n  ]);\n\n  this._s3tc = !!getExtension(gl, [\n    \"WEBGL_compressed_texture_s3tc\",\n    \"MOZ_WEBGL_compressed_texture_s3tc\",\n    \"WEBKIT_WEBGL_compressed_texture_s3tc\",\n  ]);\n  this._pvrtc = !!getExtension(gl, [\n    \"WEBGL_compressed_texture_pvrtc\",\n    \"WEBKIT_WEBGL_compressed_texture_pvrtc\",\n  ]);\n  this._astc = !!getExtension(gl, [\"WEBGL_compressed_texture_astc\"]);\n  this._etc = !!getExtension(gl, [\"WEBG_compressed_texture_etc\"]);\n  this._etc1 = !!getExtension(gl, [\"WEBGL_compressed_texture_etc1\"]);\n  this._bc7 = !!getExtension(gl, [\"EXT_texture_compression_bptc\"]);\n\n  // It is necessary to pass supported formats to loadKTX2\n  // because imagery layers don't have access to the context.\n  loadKTX2.setKTX2SupportedFormats(\n    this._s3tc,\n    this._pvrtc,\n    this._astc,\n    this._etc,\n    this._etc1,\n    this._bc7,\n  );\n\n  const textureFilterAnisotropic = allowTextureFilterAnisotropic\n    ? getExtension(gl, [\n        \"EXT_texture_filter_anisotropic\",\n        \"WEBKIT_EXT_texture_filter_anisotropic\",\n      ])\n    : undefined;\n  this._textureFilterAnisotropic = textureFilterAnisotropic;\n  ContextLimits._maximumTextureFilterAnisotropy = defined(\n    textureFilterAnisotropic,\n  )\n    ? gl.getParameter(textureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)\n    : 1.0;\n\n  let glCreateVertexArray;\n  let glBindVertexArray;\n  let glDeleteVertexArray;\n\n  let glDrawElementsInstanced;\n  let glDrawArraysInstanced;\n  let glVertexAttribDivisor;\n\n  let glDrawBuffers;\n\n  let vertexArrayObject;\n  let instancedArrays;\n  let drawBuffers;\n\n  if (webgl2) {\n    const that = this;\n\n    glCreateVertexArray = function () {\n      return that._gl.createVertexArray();\n    };\n    glBindVertexArray = function (vao) {\n      that._gl.bindVertexArray(vao);\n    };\n    glDeleteVertexArray = function (vao) {\n      that._gl.deleteVertexArray(vao);\n    };\n\n    glDrawElementsInstanced = function (\n      mode,\n      count,\n      type,\n      offset,\n      instanceCount,\n    ) {\n      gl.drawElementsInstanced(mode, count, type, offset, instanceCount);\n    };\n    glDrawArraysInstanced = function (mode, first, count, instanceCount) {\n      gl.drawArraysInstanced(mode, first, count, instanceCount);\n    };\n    glVertexAttribDivisor = function (index, divisor) {\n      gl.vertexAttribDivisor(index, divisor);\n    };\n\n    glDrawBuffers = function (buffers) {\n      gl.drawBuffers(buffers);\n    };\n  } else {\n    vertexArrayObject = getExtension(gl, [\"OES_vertex_array_object\"]);\n    if (defined(vertexArrayObject)) {\n      glCreateVertexArray = function () {\n        return vertexArrayObject.createVertexArrayOES();\n      };\n      glBindVertexArray = function (vertexArray) {\n        vertexArrayObject.bindVertexArrayOES(vertexArray);\n      };\n      glDeleteVertexArray = function (vertexArray) {\n        vertexArrayObject.deleteVertexArrayOES(vertexArray);\n      };\n    }\n\n    instancedArrays = getExtension(gl, [\"ANGLE_instanced_arrays\"]);\n    if (defined(instancedArrays)) {\n      glDrawElementsInstanced = function (\n        mode,\n        count,\n        type,\n        offset,\n        instanceCount,\n      ) {\n        instancedArrays.drawElementsInstancedANGLE(\n          mode,\n          count,\n          type,\n          offset,\n          instanceCount,\n        );\n      };\n      glDrawArraysInstanced = function (mode, first, count, instanceCount) {\n        instancedArrays.drawArraysInstancedANGLE(\n          mode,\n          first,\n          count,\n          instanceCount,\n        );\n      };\n      glVertexAttribDivisor = function (index, divisor) {\n        instancedArrays.vertexAttribDivisorANGLE(index, divisor);\n      };\n    }\n\n    drawBuffers = getExtension(gl, [\"WEBGL_draw_buffers\"]);\n    if (defined(drawBuffers)) {\n      glDrawBuffers = function (buffers) {\n        drawBuffers.drawBuffersWEBGL(buffers);\n      };\n    }\n  }\n\n  this.glCreateVertexArray = glCreateVertexArray;\n  this.glBindVertexArray = glBindVertexArray;\n  this.glDeleteVertexArray = glDeleteVertexArray;\n\n  this.glDrawElementsInstanced = glDrawElementsInstanced;\n  this.glDrawArraysInstanced = glDrawArraysInstanced;\n  this.glVertexAttribDivisor = glVertexAttribDivisor;\n\n  this.glDrawBuffers = glDrawBuffers;\n\n  this._vertexArrayObject = !!vertexArrayObject;\n  this._instancedArrays = !!instancedArrays;\n  this._drawBuffers = !!drawBuffers;\n\n  ContextLimits._maximumDrawBuffers = this.drawBuffers\n    ? gl.getParameter(WebGLConstants.MAX_DRAW_BUFFERS)\n    : 1;\n  ContextLimits._maximumColorAttachments = this.drawBuffers\n    ? gl.getParameter(WebGLConstants.MAX_COLOR_ATTACHMENTS)\n    : 1;\n\n  this._clearColor = new Color(0.0, 0.0, 0.0, 0.0);\n  this._clearDepth = 1.0;\n  this._clearStencil = 0;\n\n  const us = new UniformState();\n  const ps = new PassState(this);\n  const rs = RenderState.fromCache();\n\n  this._defaultPassState = ps;\n  this._defaultRenderState = rs;\n  // default texture has a value of (1, 1, 1)\n  // default emissive texture has a value of (0, 0, 0)\n  // default normal texture is +z which is encoded as (0.5, 0.5, 1)\n  this._defaultTexture = undefined;\n  this._defaultEmissiveTexture = undefined;\n  this._defaultNormalTexture = undefined;\n  this._defaultCubeMap = undefined;\n\n  this._us = us;\n  this._currentRenderState = rs;\n  this._currentPassState = ps;\n  this._currentFramebuffer = undefined;\n  this._maxFrameTextureUnitIndex = 0;\n\n  // Vertex attribute divisor state cache. Workaround for ANGLE (also look at VertexArray.setVertexAttribDivisor)\n  this._vertexAttribDivisors = [];\n  this._previousDrawInstanced = false;\n  for (let i = 0; i < ContextLimits._maximumVertexAttributes; i++) {\n    this._vertexAttribDivisors.push(0);\n  }\n\n  this._pickObjects = new Map();\n  this._nextPickColor = new Uint32Array(1);\n\n  /**\n   * The options used to construct this context\n   *\n   * @type {ContextOptions}\n   */\n  this.options = {\n    getWebGLStub: getWebGLStub,\n    requestWebgl1: requestWebgl1,\n    webgl: webglOptions,\n    allowTextureFilterAnisotropic: allowTextureFilterAnisotropic,\n  };\n\n  /**\n   * A cache of objects tied to this context.  Just before the Context is destroyed,\n   * <code>destroy</code> will be invoked on each object in this object literal that has\n   * such a method.  This is useful for caching any objects that might otherwise\n   * be stored globally, except they're tied to a particular context, and to manage\n   * their lifetime.\n   *\n   * @type {object}\n   */\n  this.cache = {};\n\n  RenderState.apply(gl, rs, ps);\n}\n\n/**\n * @typedef {object} ContextOptions\n *\n * Options to control the setting up of a WebGL Context.\n * <p>\n * <code>allowTextureFilterAnisotropic</code> defaults to true, which enables\n * anisotropic texture filtering when the WebGL extension is supported.\n * Setting this to false will improve performance, but hurt visual quality,\n * especially for horizon views.\n * </p>\n *\n * @property {boolean} [requestWebgl1=false] If true and the browser supports it, use a WebGL 1 rendering context\n * @property {boolean} [allowTextureFilterAnisotropic=true] If true, use anisotropic filtering during texture sampling\n * @property {WebGLOptions} [webgl] WebGL options to be passed on to canvas.getContext\n * @property {Function} [getWebGLStub] A function to create a WebGL stub for testing\n */\n\n/**\n * @private\n * @param {HTMLCanvasElement} canvas The canvas element to which the context will be associated\n * @param {WebGLOptions} webglOptions WebGL options to be passed on to HTMLCanvasElement.getContext()\n * @param {boolean} requestWebgl1 Whether to request a WebGLRenderingContext or a WebGL2RenderingContext.\n * @returns {WebGLRenderingContext|WebGL2RenderingContext}\n */\nfunction getWebGLContext(canvas, webglOptions, requestWebgl1) {\n  if (typeof WebGLRenderingContext === \"undefined\") {\n    throw new RuntimeError(\n      \"The browser does not support WebGL.  Visit http://get.webgl.org.\",\n    );\n  }\n\n  // Ensure that WebGL 2 is supported when it is requested. Otherwise, fall back to WebGL 1.\n  const webgl2Supported = typeof WebGL2RenderingContext !== \"undefined\";\n  if (!requestWebgl1 && !webgl2Supported) {\n    requestWebgl1 = true;\n  }\n\n  const contextType = requestWebgl1 ? \"webgl\" : \"webgl2\";\n  const glContext = canvas.getContext(contextType, webglOptions);\n\n  if (!defined(glContext)) {\n    throw new RuntimeError(\n      \"The browser supports WebGL, but initialization failed.\",\n    );\n  }\n\n  return glContext;\n}\n\n/**\n * @typedef {object} WebGLOptions\n *\n * WebGL options to be passed on to HTMLCanvasElement.getContext().\n * See {@link https://registry.khronos.org/webgl/specs/latest/1.0/#5.2|WebGLContextAttributes}\n * but note the modified defaults for 'alpha', 'stencil', and 'powerPreference'\n *\n * <p>\n * <code>alpha</code> defaults to false, which can improve performance\n * compared to the standard WebGL default of true.  If an application needs\n * to composite Cesium above other HTML elements using alpha-blending, set\n * <code>alpha</code> to true.\n * </p>\n *\n * @property {boolean} [alpha=false]\n * @property {boolean} [depth=true]\n * @property {boolean} [stencil=false]\n * @property {boolean} [antialias=true]\n * @property {boolean} [premultipliedAlpha=true]\n * @property {boolean} [preserveDrawingBuffer=false]\n * @property {(\"default\"|\"low-power\"|\"high-performance\")} [powerPreference=\"high-performance\"]\n * @property {boolean} [failIfMajorPerformanceCaveat=false]\n */\n\nfunction errorToString(gl, error) {\n  let message = \"WebGL Error:  \";\n  switch (error) {\n    case gl.INVALID_ENUM:\n      message += \"INVALID_ENUM\";\n      break;\n    case gl.INVALID_VALUE:\n      message += \"INVALID_VALUE\";\n      break;\n    case gl.INVALID_OPERATION:\n      message += \"INVALID_OPERATION\";\n      break;\n    case gl.OUT_OF_MEMORY:\n      message += \"OUT_OF_MEMORY\";\n      break;\n    case gl.CONTEXT_LOST_WEBGL:\n      message += \"CONTEXT_LOST_WEBGL lost\";\n      break;\n    default:\n      message += `Unknown (${error})`;\n  }\n\n  return message;\n}\n\nfunction createErrorMessage(gl, glFunc, glFuncArguments, error) {\n  let message = `${errorToString(gl, error)}: ${glFunc.name}(`;\n\n  for (let i = 0; i < glFuncArguments.length; ++i) {\n    if (i !== 0) {\n      message += \", \";\n    }\n    message += glFuncArguments[i];\n  }\n  message += \");\";\n\n  return message;\n}\n\nfunction throwOnError(gl, glFunc, glFuncArguments) {\n  const error = gl.getError();\n  if (error !== gl.NO_ERROR) {\n    throw new RuntimeError(\n      createErrorMessage(gl, glFunc, glFuncArguments, error),\n    );\n  }\n}\n\nfunction makeGetterSetter(gl, propertyName, logFunction) {\n  return {\n    get: function () {\n      const value = gl[propertyName];\n      logFunction(gl, `get: ${propertyName}`, value);\n      return gl[propertyName];\n    },\n    set: function (value) {\n      gl[propertyName] = value;\n      logFunction(gl, `set: ${propertyName}`, value);\n    },\n  };\n}\n\nfunction wrapGL(gl, logFunction) {\n  if (!defined(logFunction)) {\n    return gl;\n  }\n\n  function wrapFunction(property) {\n    return function () {\n      const result = property.apply(gl, arguments);\n      logFunction(gl, property, arguments);\n      return result;\n    };\n  }\n\n  const glWrapper = {};\n\n  // JavaScript linters normally demand that a for..in loop must directly contain an if,\n  // but in our loop below, we actually intend to iterate all properties, including\n  // those in the prototype.\n  /*eslint-disable guard-for-in*/\n  for (const propertyName in gl) {\n    const property = gl[propertyName];\n\n    // wrap any functions we encounter, otherwise just copy the property to the wrapper.\n    if (property instanceof Function) {\n      glWrapper[propertyName] = wrapFunction(property);\n    } else {\n      Object.defineProperty(\n        glWrapper,\n        propertyName,\n        makeGetterSetter(gl, propertyName, logFunction),\n      );\n    }\n  }\n  /*eslint-enable guard-for-in*/\n\n  return glWrapper;\n}\n\nfunction getExtension(gl, names) {\n  const length = names.length;\n  for (let i = 0; i < length; ++i) {\n    const extension = gl.getExtension(names[i]);\n    if (extension) {\n      return extension;\n    }\n  }\n\n  return undefined;\n}\n\nconst defaultFramebufferMarker = {};\n\nObject.defineProperties(Context.prototype, {\n  id: {\n    get: function () {\n      return this._id;\n    },\n  },\n  webgl2: {\n    get: function () {\n      return this._webgl2;\n    },\n  },\n  canvas: {\n    get: function () {\n      return this._canvas;\n    },\n  },\n  shaderCache: {\n    get: function () {\n      return this._shaderCache;\n    },\n  },\n  textureCache: {\n    get: function () {\n      return this._textureCache;\n    },\n  },\n  uniformState: {\n    get: function () {\n      return this._us;\n    },\n  },\n\n  /**\n   * The number of stencil bits per pixel in the default bound framebuffer.  The minimum is eight bits.\n   * @memberof Context.prototype\n   * @type {number}\n   * @see {@link https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGet.xml|glGet} with <code>STENCIL_BITS</code>.\n   */\n  stencilBits: {\n    get: function () {\n      return this._stencilBits;\n    },\n  },\n\n  /**\n   * <code>true</code> if the WebGL context supports stencil buffers.\n   * Stencil buffers are not supported by all systems.\n   * @memberof Context.prototype\n   * @type {boolean}\n   */\n  stencilBuffer: {\n    get: function () {\n      return this._stencilBits >= 8;\n    },\n  },\n\n  /**\n   * <code>true</code> if the WebGL context supports antialiasing.  By default\n   * antialiasing is requested, but it is not supported by all systems.\n   * @memberof Context.prototype\n   * @type {boolean}\n   */\n  antialias: {\n    get: function () {\n      return this._antialias;\n    },\n  },\n\n  /**\n   * <code>true</code> if the WebGL context supports multisample antialiasing. Requires\n   * WebGL2.\n   * @memberof Context.prototype\n   * @type {boolean}\n   */\n  msaa: {\n    get: function () {\n      return this._webgl2;\n    },\n  },\n\n  /**\n   * <code>true</code> if the OES_standard_derivatives extension is supported.  This\n   * extension provides access to <code>dFdx</code>, <code>dFdy</code>, and <code>fwidth</code>\n   * functions from GLSL.  A shader using these functions still needs to explicitly enable the\n   * extension with <code>#extension GL_OES_standard_derivatives : enable</code>.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link http://www.khronos.org/registry/gles/extensions/OES/OES_standard_derivatives.txt|OES_standard_derivatives}\n   */\n  standardDerivatives: {\n    get: function () {\n      return this._standardDerivatives || this._webgl2;\n    },\n  },\n\n  /**\n   * <code>true</code> if the EXT_float_blend extension is supported. This\n   * extension enables blending with 32-bit float values.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/EXT_float_blend/}\n   */\n  floatBlend: {\n    get: function () {\n      return this._floatBlend;\n    },\n  },\n\n  /**\n   * <code>true</code> if the EXT_blend_minmax extension is supported.  This\n   * extension extends blending capabilities by adding two new blend equations:\n   * the minimum or maximum color components of the source and destination colors.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/EXT_blend_minmax/}\n   */\n  blendMinmax: {\n    get: function () {\n      return this._blendMinmax || this._webgl2;\n    },\n  },\n\n  /**\n   * <code>true</code> if the OES_element_index_uint extension is supported.  This\n   * extension allows the use of unsigned int indices, which can improve performance by\n   * eliminating batch breaking caused by unsigned short indices.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link http://www.khronos.org/registry/webgl/extensions/OES_element_index_uint/|OES_element_index_uint}\n   */\n  elementIndexUint: {\n    get: function () {\n      return this._elementIndexUint || this._webgl2;\n    },\n  },\n\n  /**\n   * <code>true</code> if WEBGL_depth_texture is supported.  This extension provides\n   * access to depth textures that, for example, can be attached to framebuffers for shadow mapping.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link http://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/|WEBGL_depth_texture}\n   */\n  depthTexture: {\n    get: function () {\n      return this._depthTexture || this._webgl2;\n    },\n  },\n\n  /**\n   * <code>true</code> if OES_texture_float is supported. This extension provides\n   * access to floating point textures that, for example, can be attached to framebuffers for high dynamic range.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/OES_texture_float/}\n   */\n  floatingPointTexture: {\n    get: function () {\n      return this._webgl2 || this._textureFloat;\n    },\n  },\n\n  /**\n   * <code>true</code> if OES_texture_half_float is supported. This extension provides\n   * access to floating point textures that, for example, can be attached to framebuffers for high dynamic range.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/OES_texture_half_float/}\n   */\n  halfFloatingPointTexture: {\n    get: function () {\n      return this._webgl2 || this._textureHalfFloat;\n    },\n  },\n\n  /**\n   * <code>true</code> if OES_texture_float_linear is supported. This extension provides\n   * access to linear sampling methods for minification and magnification filters of floating-point textures.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/OES_texture_float_linear/}\n   */\n  textureFloatLinear: {\n    get: function () {\n      return this._textureFloatLinear;\n    },\n  },\n\n  /**\n   * <code>true</code> if OES_texture_half_float_linear is supported. This extension provides\n   * access to linear sampling methods for minification and magnification filters of half floating-point textures.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/OES_texture_half_float_linear/}\n   */\n  textureHalfFloatLinear: {\n    get: function () {\n      return (\n        (this._webgl2 && this._textureFloatLinear) ||\n        (!this._webgl2 && this._textureHalfFloatLinear)\n      );\n    },\n  },\n\n  /**\n   * <code>true</code> if EXT_shader_texture_lod is supported. This extension provides\n   * access to explicit LOD selection in texture sampling functions.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link https://registry.khronos.org/webgl/extensions/EXT_shader_texture_lod/}\n   */\n  supportsTextureLod: {\n    get: function () {\n      return this._webgl2 || this._supportsTextureLod;\n    },\n  },\n\n  /**\n   * <code>true</code> if EXT_texture_filter_anisotropic is supported. This extension provides\n   * access to anisotropic filtering for textured surfaces at an oblique angle from the viewer.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/EXT_texture_filter_anisotropic/}\n   */\n  textureFilterAnisotropic: {\n    get: function () {\n      return !!this._textureFilterAnisotropic;\n    },\n  },\n\n  /**\n   * <code>true</code> if WEBGL_compressed_texture_s3tc is supported.  This extension provides\n   * access to DXT compressed textures.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/WEBGL_compressed_texture_s3tc/}\n   */\n  s3tc: {\n    get: function () {\n      return this._s3tc;\n    },\n  },\n\n  /**\n   * <code>true</code> if WEBGL_compressed_texture_pvrtc is supported.  This extension provides\n   * access to PVR compressed textures.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/WEBGL_compressed_texture_pvrtc/}\n   */\n  pvrtc: {\n    get: function () {\n      return this._pvrtc;\n    },\n  },\n\n  /**\n   * <code>true</code> if WEBGL_compressed_texture_astc is supported.  This extension provides\n   * access to ASTC compressed textures.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/WEBGL_compressed_texture_astc/}\n   */\n  astc: {\n    get: function () {\n      return this._astc;\n    },\n  },\n\n  /**\n   * <code>true</code> if WEBGL_compressed_texture_etc is supported.  This extension provides\n   * access to ETC compressed textures.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/WEBGL_compressed_texture_etc/}\n   */\n  etc: {\n    get: function () {\n      return this._etc;\n    },\n  },\n\n  /**\n   * <code>true</code> if WEBGL_compressed_texture_etc1 is supported.  This extension provides\n   * access to ETC1 compressed textures.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/WEBGL_compressed_texture_etc1/}\n   */\n  etc1: {\n    get: function () {\n      return this._etc1;\n    },\n  },\n\n  /**\n   * <code>true</code> if EXT_texture_compression_bptc is supported.  This extension provides\n   * access to BC7 compressed textures.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/EXT_texture_compression_bptc/}\n   */\n  bc7: {\n    get: function () {\n      return this._bc7;\n    },\n  },\n\n  /**\n   * <code>true</code> if S3TC, PVRTC, ASTC, ETC, ETC1, or BC7 compression is supported.\n   * @memberof Context.prototype\n   * @type {boolean}\n   */\n  supportsBasis: {\n    get: function () {\n      return (\n        this._s3tc ||\n        this._pvrtc ||\n        this._astc ||\n        this._etc ||\n        this._etc1 ||\n        this._bc7\n      );\n    },\n  },\n\n  /**\n   * <code>true</code> if the OES_vertex_array_object extension is supported.  This\n   * extension can improve performance by reducing the overhead of switching vertex arrays.\n   * When enabled, this extension is automatically used by {@link VertexArray}.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link http://www.khronos.org/registry/webgl/extensions/OES_vertex_array_object/|OES_vertex_array_object}\n   */\n  vertexArrayObject: {\n    get: function () {\n      return this._vertexArrayObject || this._webgl2;\n    },\n  },\n\n  /**\n   * <code>true</code> if the EXT_frag_depth extension is supported.  This\n   * extension provides access to the <code>gl_FragDepthEXT</code> built-in output variable\n   * from GLSL fragment shaders.  A shader using these functions still needs to explicitly enable the\n   * extension with <code>#extension GL_EXT_frag_depth : enable</code>.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link http://www.khronos.org/registry/webgl/extensions/EXT_frag_depth/|EXT_frag_depth}\n   */\n  fragmentDepth: {\n    get: function () {\n      return this._fragDepth || this._webgl2;\n    },\n  },\n\n  /**\n   * <code>true</code> if the ANGLE_instanced_arrays extension is supported.  This\n   * extension provides access to instanced rendering.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/ANGLE_instanced_arrays}\n   */\n  instancedArrays: {\n    get: function () {\n      return this._instancedArrays || this._webgl2;\n    },\n  },\n\n  /**\n   * <code>true</code> if the EXT_color_buffer_float extension is supported.  This\n   * extension makes the gl.RGBA32F format color renderable.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/WEBGL_color_buffer_float/}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/EXT_color_buffer_float/}\n   */\n  colorBufferFloat: {\n    get: function () {\n      return this._colorBufferFloat;\n    },\n  },\n\n  /**\n   * <code>true</code> if the EXT_color_buffer_half_float extension is supported.  This\n   * extension makes the format gl.RGBA16F format color renderable.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/EXT_color_buffer_half_float/}\n   * @see {@link https://www.khronos.org/registry/webgl/extensions/EXT_color_buffer_float/}\n   */\n  colorBufferHalfFloat: {\n    get: function () {\n      return (\n        (this._webgl2 && this._colorBufferFloat) ||\n        (!this._webgl2 && this._colorBufferHalfFloat)\n      );\n    },\n  },\n\n  /**\n   * <code>true</code> if the WEBGL_draw_buffers extension is supported. This\n   * extensions provides support for multiple render targets. The framebuffer object can have mutiple\n   * color attachments and the GLSL fragment shader can write to the built-in output array <code>gl_FragData</code>.\n   * A shader using this feature needs to explicitly enable the extension with\n   * <code>#extension GL_EXT_draw_buffers : enable</code>.\n   * @memberof Context.prototype\n   * @type {boolean}\n   * @see {@link http://www.khronos.org/registry/webgl/extensions/WEBGL_draw_buffers/|WEBGL_draw_buffers}\n   */\n  drawBuffers: {\n    get: function () {\n      return this._drawBuffers || this._webgl2;\n    },\n  },\n\n  debugShaders: {\n    get: function () {\n      return this._debugShaders;\n    },\n  },\n\n  throwOnWebGLError: {\n    get: function () {\n      return this._throwOnWebGLError;\n    },\n    set: function (value) {\n      this._throwOnWebGLError = value;\n      this._gl = wrapGL(\n        this._originalGLContext,\n        value ? throwOnError : undefined,\n      );\n    },\n  },\n\n  /**\n   * A 1x1 RGBA texture initialized to [255, 255, 255, 255].  This can\n   * be used as a placeholder texture while other textures are downloaded.\n   * @memberof Context.prototype\n   * @type {Texture}\n   */\n  defaultTexture: {\n    get: function () {\n      if (this._defaultTexture === undefined) {\n        this._defaultTexture = new Texture({\n          context: this,\n          source: {\n            width: 1,\n            height: 1,\n            arrayBufferView: new Uint8Array([255, 255, 255, 255]),\n          },\n          flipY: false,\n        });\n      }\n\n      return this._defaultTexture;\n    },\n  },\n  /**\n   * A 1x1 RGB texture initialized to [0, 0, 0] representing a material that is\n   * not emissive. This can be used as a placeholder texture for emissive\n   * textures while other textures are downloaded.\n   * @memberof Context.prototype\n   * @type {Texture}\n   */\n  defaultEmissiveTexture: {\n    get: function () {\n      if (this._defaultEmissiveTexture === undefined) {\n        this._defaultEmissiveTexture = new Texture({\n          context: this,\n          pixelFormat: PixelFormat.RGB,\n          source: {\n            width: 1,\n            height: 1,\n            arrayBufferView: new Uint8Array([0, 0, 0]),\n          },\n          flipY: false,\n        });\n      }\n\n      return this._defaultEmissiveTexture;\n    },\n  },\n  /**\n   * A 1x1 RGBA texture initialized to [128, 128, 255] to encode a tangent\n   * space normal pointing in the +z direction, i.e. (0, 0, 1). This can\n   * be used as a placeholder normal texture while other textures are\n   * downloaded.\n   * @memberof Context.prototype\n   * @type {Texture}\n   */\n  defaultNormalTexture: {\n    get: function () {\n      if (this._defaultNormalTexture === undefined) {\n        this._defaultNormalTexture = new Texture({\n          context: this,\n          pixelFormat: PixelFormat.RGB,\n          source: {\n            width: 1,\n            height: 1,\n            arrayBufferView: new Uint8Array([128, 128, 255]),\n          },\n          flipY: false,\n        });\n      }\n\n      return this._defaultNormalTexture;\n    },\n  },\n\n  /**\n   * A cube map, where each face is a 1x1 RGBA texture initialized to\n   * [255, 255, 255, 255].  This can be used as a placeholder cube map while\n   * other cube maps are downloaded.\n   * @memberof Context.prototype\n   * @type {CubeMap}\n   */\n  defaultCubeMap: {\n    get: function () {\n      if (this._defaultCubeMap === undefined) {\n        const face = {\n          width: 1,\n          height: 1,\n          arrayBufferView: new Uint8Array([255, 255, 255, 255]),\n        };\n\n        this._defaultCubeMap = new CubeMap({\n          context: this,\n          source: {\n            positiveX: face,\n            negativeX: face,\n            positiveY: face,\n            negativeY: face,\n            positiveZ: face,\n            negativeZ: face,\n          },\n          flipY: false,\n        });\n      }\n\n      return this._defaultCubeMap;\n    },\n  },\n\n  /**\n   * The drawingBufferHeight of the underlying GL context.\n   * @memberof Context.prototype\n   * @type {number}\n   * @see {@link https://www.khronos.org/registry/webgl/specs/1.0/#DOM-WebGLRenderingContext-drawingBufferHeight|drawingBufferHeight}\n   */\n  drawingBufferHeight: {\n    get: function () {\n      return this._gl.drawingBufferHeight;\n    },\n  },\n\n  /**\n   * The drawingBufferWidth of the underlying GL context.\n   * @memberof Context.prototype\n   * @type {number}\n   * @see {@link https://www.khronos.org/registry/webgl/specs/1.0/#DOM-WebGLRenderingContext-drawingBufferWidth|drawingBufferWidth}\n   */\n  drawingBufferWidth: {\n    get: function () {\n      return this._gl.drawingBufferWidth;\n    },\n  },\n\n  /**\n   * Gets an object representing the currently bound framebuffer.  While this instance is not an actual\n   * {@link Framebuffer}, it is used to represent the default framebuffer in calls to\n   * {@link Texture.fromFramebuffer}.\n   * @memberof Context.prototype\n   * @type {object}\n   */\n  defaultFramebuffer: {\n    get: function () {\n      return defaultFramebufferMarker;\n    },\n  },\n});\n\n/**\n * Validates a framebuffer.\n * Available in debug builds only.\n * @private\n */\nfunction validateFramebuffer(context) {\n  //>>includeStart('debug', pragmas.debug);\n  if (context.validateFramebuffer) {\n    const gl = context._gl;\n    const status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n\n    if (status !== gl.FRAMEBUFFER_COMPLETE) {\n      let message;\n\n      switch (status) {\n        case gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:\n          message =\n            \"Framebuffer is not complete.  Incomplete attachment: at least one attachment point with a renderbuffer or texture attached has its attached object no longer in existence or has an attached image with a width or height of zero, or the color attachment point has a non-color-renderable image attached, or the depth attachment point has a non-depth-renderable image attached, or the stencil attachment point has a non-stencil-renderable image attached.  Color-renderable formats include GL_RGBA4, GL_RGB5_A1, and GL_RGB565. GL_DEPTH_COMPONENT16 is the only depth-renderable format. GL_STENCIL_INDEX8 is the only stencil-renderable format.\";\n          break;\n        case gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:\n          message =\n            \"Framebuffer is not complete.  Incomplete dimensions: not all attached images have the same width and height.\";\n          break;\n        case gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:\n          message =\n            \"Framebuffer is not complete.  Missing attachment: no images are attached to the framebuffer.\";\n          break;\n        case gl.FRAMEBUFFER_UNSUPPORTED:\n          message =\n            \"Framebuffer is not complete.  Unsupported: the combination of internal formats of the attached images violates an implementation-dependent set of restrictions.\";\n          break;\n      }\n\n      throw new DeveloperError(message);\n    }\n  }\n  //>>includeEnd('debug');\n}\n\nfunction applyRenderState(context, renderState, passState, clear) {\n  const previousRenderState = context._currentRenderState;\n  const previousPassState = context._currentPassState;\n  context._currentRenderState = renderState;\n  context._currentPassState = passState;\n  RenderState.partialApply(\n    context._gl,\n    previousRenderState,\n    renderState,\n    previousPassState,\n    passState,\n    clear,\n  );\n}\n\nlet scratchBackBufferArray;\n// this check must use typeof, not defined, because defined doesn't work with undeclared variables.\nif (typeof WebGLRenderingContext !== \"undefined\") {\n  scratchBackBufferArray = [WebGLConstants.BACK];\n}\n\nfunction bindFramebuffer(context, framebuffer) {\n  if (framebuffer !== context._currentFramebuffer) {\n    context._currentFramebuffer = framebuffer;\n    let buffers = scratchBackBufferArray;\n\n    if (defined(framebuffer)) {\n      framebuffer._bind();\n      validateFramebuffer(context);\n\n      // TODO: Need a way for a command to give what draw buffers are active.\n      buffers = framebuffer._getActiveColorAttachments();\n    } else {\n      const gl = context._gl;\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    }\n\n    if (context.drawBuffers) {\n      context.glDrawBuffers(buffers);\n    }\n  }\n}\n\nconst defaultClearCommand = new ClearCommand();\n\nContext.prototype.clear = function (clearCommand, passState) {\n  clearCommand = clearCommand ?? defaultClearCommand;\n  passState = passState ?? this._defaultPassState;\n\n  const gl = this._gl;\n  let bitmask = 0;\n\n  const c = clearCommand.color;\n  const d = clearCommand.depth;\n  const s = clearCommand.stencil;\n\n  if (defined(c)) {\n    if (!Color.equals(this._clearColor, c)) {\n      Color.clone(c, this._clearColor);\n      gl.clearColor(c.red, c.green, c.blue, c.alpha);\n    }\n    bitmask |= gl.COLOR_BUFFER_BIT;\n  }\n\n  if (defined(d)) {\n    if (d !== this._clearDepth) {\n      this._clearDepth = d;\n      gl.clearDepth(d);\n    }\n    bitmask |= gl.DEPTH_BUFFER_BIT;\n  }\n\n  if (defined(s)) {\n    if (s !== this._clearStencil) {\n      this._clearStencil = s;\n      gl.clearStencil(s);\n    }\n    bitmask |= gl.STENCIL_BUFFER_BIT;\n  }\n\n  const rs = clearCommand.renderState ?? this._defaultRenderState;\n  applyRenderState(this, rs, passState, true);\n\n  // The command's framebuffer takes presidence over the pass' framebuffer, e.g., for off-screen rendering.\n  const framebuffer = clearCommand.framebuffer ?? passState.framebuffer;\n  bindFramebuffer(this, framebuffer);\n\n  gl.clear(bitmask);\n};\n\nfunction beginDraw(\n  context,\n  framebuffer,\n  passState,\n  shaderProgram,\n  renderState,\n) {\n  //>>includeStart('debug', pragmas.debug);\n  if (defined(framebuffer) && renderState.depthTest) {\n    if (renderState.depthTest.enabled && !framebuffer.hasDepthAttachment) {\n      throw new DeveloperError(\n        \"The depth test can not be enabled (drawCommand.renderState.depthTest.enabled) because the framebuffer (drawCommand.framebuffer) does not have a depth or depth-stencil renderbuffer.\",\n      );\n    }\n  }\n  //>>includeEnd('debug');\n\n  bindFramebuffer(context, framebuffer);\n  applyRenderState(context, renderState, passState, false);\n  shaderProgram._bind();\n\n  context._maxFrameTextureUnitIndex = Math.max(\n    context._maxFrameTextureUnitIndex,\n    shaderProgram.maximumTextureUnitIndex,\n  );\n}\n\nfunction continueDraw(context, drawCommand, shaderProgram, uniformMap) {\n  const primitiveType = drawCommand._primitiveType;\n  const va = drawCommand._vertexArray;\n  let offset = drawCommand._offset;\n  let count = drawCommand._count;\n  const instanceCount = drawCommand.instanceCount;\n\n  //>>includeStart('debug', pragmas.debug);\n  if (!PrimitiveType.validate(primitiveType)) {\n    throw new DeveloperError(\n      \"drawCommand.primitiveType is required and must be valid.\",\n    );\n  }\n\n  Check.defined(\"drawCommand.vertexArray\", va);\n  Check.typeOf.number.greaterThanOrEquals(\"drawCommand.offset\", offset, 0);\n  if (defined(count)) {\n    Check.typeOf.number.greaterThanOrEquals(\"drawCommand.count\", count, 0);\n  }\n  Check.typeOf.number.greaterThanOrEquals(\n    \"drawCommand.instanceCount\",\n    instanceCount,\n    0,\n  );\n  if (instanceCount > 0 && !context.instancedArrays) {\n    throw new DeveloperError(\"Instanced arrays extension is not supported\");\n  }\n  //>>includeEnd('debug');\n\n  context._us.model = drawCommand._modelMatrix ?? Matrix4.IDENTITY;\n  shaderProgram._setUniforms(\n    uniformMap,\n    context._us,\n    context.validateShaderProgram,\n  );\n\n  va._bind();\n  const indexBuffer = va.indexBuffer;\n\n  if (defined(indexBuffer)) {\n    offset = offset * indexBuffer.bytesPerIndex; // offset in vertices to offset in bytes\n    if (defined(count)) {\n      count = Math.min(count, indexBuffer.numberOfIndices);\n    } else {\n      count = indexBuffer.numberOfIndices;\n    }\n    if (instanceCount === 0) {\n      context._gl.drawElements(\n        primitiveType,\n        count,\n        indexBuffer.indexDatatype,\n        offset,\n      );\n    } else {\n      context.glDrawElementsInstanced(\n        primitiveType,\n        count,\n        indexBuffer.indexDatatype,\n        offset,\n        instanceCount,\n      );\n    }\n  } else {\n    if (defined(count)) {\n      count = Math.min(count, va.numberOfVertices);\n    } else {\n      count = va.numberOfVertices;\n    }\n\n    if (instanceCount === 0) {\n      context._gl.drawArrays(primitiveType, offset, count);\n    } else {\n      context.glDrawArraysInstanced(\n        primitiveType,\n        offset,\n        count,\n        instanceCount,\n      );\n    }\n  }\n\n  va._unBind();\n}\n\nContext.prototype.draw = function (\n  drawCommand,\n  passState,\n  shaderProgram,\n  uniformMap,\n) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"drawCommand\", drawCommand);\n  Check.defined(\"drawCommand.shaderProgram\", drawCommand._shaderProgram);\n  //>>includeEnd('debug');\n\n  passState = passState ?? this._defaultPassState;\n  // The command's framebuffer takes precedence over the pass' framebuffer, e.g., for off-screen rendering.\n  const framebuffer = drawCommand._framebuffer ?? passState.framebuffer;\n  const renderState = drawCommand._renderState ?? this._defaultRenderState;\n  shaderProgram = shaderProgram ?? drawCommand._shaderProgram;\n  uniformMap = uniformMap ?? drawCommand._uniformMap;\n\n  beginDraw(this, framebuffer, passState, shaderProgram, renderState);\n  continueDraw(this, drawCommand, shaderProgram, uniformMap);\n};\n\nContext.prototype.beginFrame = function () {\n  // A no-op. Overridden when drawing to a SharedContext.\n};\n\nContext.prototype.endFrame = function () {\n  const gl = this._gl;\n  gl.useProgram(null);\n\n  this._currentFramebuffer = undefined;\n  gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n  const buffers = scratchBackBufferArray;\n  if (this.drawBuffers) {\n    this.glDrawBuffers(buffers);\n  }\n\n  const length = this._maxFrameTextureUnitIndex;\n  this._maxFrameTextureUnitIndex = 0;\n\n  for (let i = 0; i < length; ++i) {\n    gl.activeTexture(gl.TEXTURE0 + i);\n    gl.bindTexture(gl.TEXTURE_2D, null);\n    gl.bindTexture(gl.TEXTURE_CUBE_MAP, null);\n  }\n};\n\n/**\n * @typedef {object} ReadState\n *\n * Options defining a rectangle to read pixels from.\n *\n * @private\n * @property {number} [x=0] The x offset of the rectangle to read from.\n * @property {number} [y=0] The y offset of the rectangle to read from.\n * @property {number} [width=this.drawingBufferWidth] The width of the rectangle to read from.\n * @property {number} [height=this.drawingBufferHeight] The height of the rectangle to read from.\n * @property {FrameBuffer|undefined} [framebuffer] The framebuffer to read from. If undefined, the read will be from the default framebuffer.\n */\n\n/**\n * Read pixels from a framebuffer into a Pixel Buffer Object (PBO).\n *\n * @private\n * @param {ReadState} readState Options defining a rectangle to read pixels from.\n * @returns {Buffer} A PixelBuffer containing the pixels read from the specified rectangle.\n *\n * @exception {DeveloperError} A WebGL 2 context is required to read pixels using a PBO.\n */\nContext.prototype.readPixelsToPBO = function (readState) {\n  const gl = this._gl;\n\n  readState = readState ?? Frozen.EMPTY_OBJECT;\n  const x = Math.max(readState.x ?? 0, 0);\n  const y = Math.max(readState.y ?? 0, 0);\n  const width = readState.width ?? this.drawingBufferWidth;\n  const height = readState.height ?? this.drawingBufferHeight;\n  const framebuffer = readState.framebuffer;\n\n  if (!this._webgl2) {\n    throw new DeveloperError(\n      \"A WebGL 2 context is required to read pixels using a PBO.\",\n    );\n  }\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.number.greaterThan(\"readState.width\", width, 0);\n  Check.typeOf.number.greaterThan(\"readState.height\", height, 0);\n  //>>includeEnd('debug');\n\n  let pixelDatatype = PixelDatatype.UNSIGNED_BYTE;\n  let pixelFormat = PixelFormat.RGBA;\n  if (defined(framebuffer) && framebuffer.numberOfColorAttachments > 0) {\n    pixelDatatype = framebuffer.getColorTexture(0).pixelDatatype;\n    pixelFormat = framebuffer.getColorTexture(0).pixelFormat;\n  }\n\n  const pixels = Buffer.createPixelBuffer({\n    context: this,\n    sizeInBytes: PixelFormat.textureSizeInBytes(\n      pixelFormat,\n      pixelDatatype,\n      width,\n      height,\n    ),\n    usage: BufferUsage.DYNAMIC_READ,\n  });\n\n  bindFramebuffer(this, framebuffer);\n\n  pixels._bind();\n  gl.readPixels(\n    x,\n    y,\n    width,\n    height,\n    pixelFormat,\n    PixelDatatype.toWebGLConstant(pixelDatatype, this),\n    0,\n  );\n  pixels._unBind();\n\n  return pixels;\n};\n\n/**\n * Read pixels from a framebuffer into a typed array.\n *\n * @private\n * @param {ReadState} readState Options defining a rectangle to read pixels from.\n * @returns {Uint8Array|Uint16Array|Float32Array|Uint32Array} The pixels in the specified rectangle.\n */\nContext.prototype.readPixels = function (readState) {\n  const gl = this._gl;\n\n  readState = readState ?? Frozen.EMPTY_OBJECT;\n  const x = Math.max(readState.x ?? 0, 0);\n  const y = Math.max(readState.y ?? 0, 0);\n  const width = readState.width ?? this.drawingBufferWidth;\n  const height = readState.height ?? this.drawingBufferHeight;\n  const framebuffer = readState.framebuffer;\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.number.greaterThan(\"readState.width\", width, 0);\n  Check.typeOf.number.greaterThan(\"readState.height\", height, 0);\n  //>>includeEnd('debug');\n\n  let pixelDatatype = PixelDatatype.UNSIGNED_BYTE;\n  let pixelFormat = PixelFormat.RGBA;\n  if (defined(framebuffer) && framebuffer.numberOfColorAttachments > 0) {\n    pixelDatatype = framebuffer.getColorTexture(0).pixelDatatype;\n    pixelFormat = framebuffer.getColorTexture(0).pixelFormat;\n  }\n\n  const pixels = PixelFormat.createTypedArray(\n    pixelFormat,\n    pixelDatatype,\n    width,\n    height,\n  );\n\n  bindFramebuffer(this, framebuffer);\n\n  gl.readPixels(\n    x,\n    y,\n    width,\n    height,\n    PixelFormat.RGBA,\n    PixelDatatype.toWebGLConstant(pixelDatatype, this),\n    pixels,\n  );\n\n  return pixels;\n};\n\nconst viewportQuadAttributeLocations = {\n  position: 0,\n  textureCoordinates: 1,\n};\n\nContext.prototype.getViewportQuadVertexArray = function () {\n  // Per-context cache for viewport quads\n  let vertexArray = this.cache.viewportQuad_vertexArray;\n\n  if (!defined(vertexArray)) {\n    const geometry = new Geometry({\n      attributes: {\n        position: new GeometryAttribute({\n          componentDatatype: ComponentDatatype.FLOAT,\n          componentsPerAttribute: 2,\n          values: [-1.0, -1.0, 1.0, -1.0, 1.0, 1.0, -1.0, 1.0],\n        }),\n\n        textureCoordinates: new GeometryAttribute({\n          componentDatatype: ComponentDatatype.FLOAT,\n          componentsPerAttribute: 2,\n          values: [0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0],\n        }),\n      },\n      // Workaround Internet Explorer 11.0.8 lack of TRIANGLE_FAN\n      indices: new Uint16Array([0, 1, 2, 0, 2, 3]),\n      primitiveType: PrimitiveType.TRIANGLES,\n    });\n\n    vertexArray = VertexArray.fromGeometry({\n      context: this,\n      geometry: geometry,\n      attributeLocations: viewportQuadAttributeLocations,\n      bufferUsage: BufferUsage.STATIC_DRAW,\n      interleave: true,\n    });\n\n    this.cache.viewportQuad_vertexArray = vertexArray;\n  }\n\n  return vertexArray;\n};\n\nContext.prototype.createViewportQuadCommand = function (\n  fragmentShaderSource,\n  overrides,\n) {\n  overrides = overrides ?? Frozen.EMPTY_OBJECT;\n\n  return new DrawCommand({\n    vertexArray: this.getViewportQuadVertexArray(),\n    primitiveType: PrimitiveType.TRIANGLES,\n    renderState: overrides.renderState,\n    shaderProgram: ShaderProgram.fromCache({\n      context: this,\n      vertexShaderSource: ViewportQuadVS,\n      fragmentShaderSource: fragmentShaderSource,\n      attributeLocations: viewportQuadAttributeLocations,\n    }),\n    uniformMap: overrides.uniformMap,\n    owner: overrides.owner,\n    framebuffer: overrides.framebuffer,\n    pass: overrides.pass,\n  });\n};\n\n/**\n * Gets the object associated with a pick color.\n *\n * @param {number} pickColor The unsigned 32-bit RGBA pick color\n * @returns {object} The object associated with the pick color, or undefined if no object is associated with that color.\n *\n * @example\n * const object = context.getObjectByPickColor(pickColor);\n *\n * @see Context#createPickId\n */\nContext.prototype.getObjectByPickColor = function (pickColor) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"pickColor\", pickColor);\n  //>>includeEnd('debug');\n\n  return this._pickObjects.get(pickColor);\n};\n\n/**\n *\n * @param {Map<number, object>} pickObjects\n * @param {number} key\n * @param {Color} color\n */\nfunction PickId(pickObjects, key, color) {\n  this._pickObjects = pickObjects;\n  this.key = key;\n  this.color = color;\n}\n\nObject.defineProperties(PickId.prototype, {\n  object: {\n    get: function () {\n      return this._pickObjects.get(this.key);\n    },\n    set: function (value) {\n      this._pickObjects.set(this.key, value);\n    },\n  },\n});\n\nPickId.prototype.destroy = function () {\n  this._pickObjects.delete(this.key);\n  return undefined;\n};\n\n/**\n * Creates a unique ID associated with the input object for use with color-buffer picking.\n * The ID has an RGBA color value unique to this context.  You must call destroy()\n * on the pick ID when destroying the input object.\n *\n * @param {object} object The object to associate with the pick ID.\n * @returns {object} A PickId object with a <code>color</code> property.\n *\n * @exception {RuntimeError} Out of unique Pick IDs.\n *\n *\n * @example\n * this._pickId = context.createPickId({\n *   primitive : this,\n *   id : this.id\n * });\n *\n * @see Context#getObjectByPickColor\n */\nContext.prototype.createPickId = function (object) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"object\", object);\n  //>>includeEnd('debug');\n\n  // the increment and assignment have to be separate statements to\n  // actually detect overflow in the Uint32 value\n  ++this._nextPickColor[0];\n  const key = this._nextPickColor[0];\n  if (key === 0) {\n    // In case of overflow\n    throw new RuntimeError(\"Out of unique Pick IDs.\");\n  }\n\n  this._pickObjects.set(key, object);\n  return new PickId(this._pickObjects, key, Color.fromRgba(key));\n};\n\nContext.prototype.isDestroyed = function () {\n  return false;\n};\n\nContext.prototype.destroy = function () {\n  // Destroy all objects in the cache that have a destroy method.\n  const cache = this.cache;\n  for (const property in cache) {\n    if (cache.hasOwnProperty(property)) {\n      const propertyValue = cache[property];\n      if (defined(propertyValue.destroy)) {\n        propertyValue.destroy();\n      }\n    }\n  }\n\n  this._shaderCache = this._shaderCache.destroy();\n  this._textureCache = this._textureCache.destroy();\n  this._defaultTexture = this._defaultTexture && this._defaultTexture.destroy();\n  this._defaultEmissiveTexture =\n    this._defaultEmissiveTexture && this._defaultEmissiveTexture.destroy();\n  this._defaultNormalTexture =\n    this._defaultNormalTexture && this._defaultNormalTexture.destroy();\n  this._defaultCubeMap = this._defaultCubeMap && this._defaultCubeMap.destroy();\n\n  return destroyObject(this);\n};\n\nexport default Context;\n"],"names":["Context","canvas","options","defined","getWebGLStub","requestWebgl1","webgl","webglOptions","allowTextureFilterAnisotropic","alpha","stencil","powerPreference","glContext","getWebGLContext","webgl2Supported","WebGL2RenderingContext","webgl2","_canvas","_originalGLContext","_gl","_webgl2","_id","validateFramebuffer","validateShaderProgram","logShaderCompilation","_throwOnWebGLError","_shaderCache","_textureCache","gl","_stencilBits","getParameter","STENCIL_BITS","_maximumCombinedTextureImageUnits","MAX_COMBINED_TEXTURE_IMAGE_UNITS","_maximumCubeMapSize","MAX_CUBE_MAP_TEXTURE_SIZE","_maximumFragmentUniformVectors","MAX_FRAGMENT_UNIFORM_VECTORS","_maximumTextureImageUnits","MAX_TEXTURE_IMAGE_UNITS","_maximumRenderbufferSize","MAX_RENDERBUFFER_SIZE","_maximumTextureSize","MAX_TEXTURE_SIZE","_maximumVaryingVectors","MAX_VARYING_VECTORS","_maximumVertexAttributes","MAX_VERTEX_ATTRIBS","_maximumVertexTextureImageUnits","MAX_VERTEX_TEXTURE_IMAGE_UNITS","_maximumVertexUniformVectors","MAX_VERTEX_UNIFORM_VECTORS","_maximumSamples","MAX_SAMPLES","aliasedLineWidthRange","ALIASED_LINE_WIDTH_RANGE","_minimumAliasedLineWidth","_maximumAliasedLineWidth","aliasedPointSizeRange","ALIASED_POINT_SIZE_RANGE","_minimumAliasedPointSize","_maximumAliasedPointSize","maximumViewportDimensions","MAX_VIEWPORT_DIMS","_maximumViewportWidth","_maximumViewportHeight","highpFloat","getShaderPrecisionFormat","FRAGMENT_SHADER","HIGH_FLOAT","_highpFloatSupported","precision","highpInt","HIGH_INT","_highpIntSupported","rangeMax","_antialias","getContextAttributes","antialias","_standardDerivatives","getExtension","_blendMinmax","_elementIndexUint","_depthTexture","_fragDepth","_debugShaders","_textureFloat","_textureHalfFloat","_textureFloatLinear","_textureHalfFloatLinear","_supportsTextureLod","_colorBufferFloat","_floatBlend","_colorBufferHalfFloat","_s3tc","_pvrtc","_astc","_etc","_etc1","_bc7","setKTX2SupportedFormats","textureFilterAnisotropic","undefined","_textureFilterAnisotropic","_maximumTextureFilterAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","glCreateVertexArray","glBindVertexArray","glDeleteVertexArray","glDrawElementsInstanced","glDrawArraysInstanced","glVertexAttribDivisor","glDrawBuffers","vertexArrayObject","instancedArrays","drawBuffers","that","createVertexArray","vao","bindVertexArray","deleteVertexArray","mode","count","type","offset","instanceCount","drawElementsInstanced","first","drawArraysInstanced","index","divisor","vertexAttribDivisor","buffers","createVertexArrayOES","vertexArray","bindVertexArrayOES","deleteVertexArrayOES","drawElementsInstancedANGLE","drawArraysInstancedANGLE","vertexAttribDivisorANGLE","drawBuffersWEBGL","_vertexArrayObject","_instancedArrays","_drawBuffers","_maximumDrawBuffers","MAX_DRAW_BUFFERS","_maximumColorAttachments","MAX_COLOR_ATTACHMENTS","_clearColor","_clearDepth","_clearStencil","us","ps","rs","fromCache","_defaultPassState","_defaultRenderState","_defaultTexture","_defaultEmissiveTexture","_defaultNormalTexture","_defaultCubeMap","_us","_currentRenderState","_currentPassState","_currentFramebuffer","_maxFrameTextureUnitIndex","_vertexAttribDivisors","_previousDrawInstanced","i","push","_pickObjects","Map","_nextPickColor","Uint32Array","cache","apply","WebGLRenderingContext","contextType","getContext","errorToString","error","message","INVALID_ENUM","INVALID_VALUE","INVALID_OPERATION","OUT_OF_MEMORY","CONTEXT_LOST_WEBGL","createErrorMessage","glFunc","glFuncArguments","name","length","throwOnError","getError","NO_ERROR","makeGetterSetter","propertyName","logFunction","get","value","set","wrapGL","wrapFunction","property","result","arguments","glWrapper","Function","Object","defineProperty","names","extension","defaultFramebufferMarker","defineProperties","prototype","id","shaderCache","textureCache","uniformState","stencilBits","stencilBuffer","msaa","standardDerivatives","floatBlend","blendMinmax","elementIndexUint","depthTexture","floatingPointTexture","halfFloatingPointTexture","textureFloatLinear","textureHalfFloatLinear","supportsTextureLod","s3tc","pvrtc","astc","etc","etc1","bc7","supportsBasis","fragmentDepth","colorBufferFloat","colorBufferHalfFloat","debugShaders","throwOnWebGLError","defaultTexture","context","source","width","height","arrayBufferView","Uint8Array","flipY","defaultEmissiveTexture","pixelFormat","RGB","defaultNormalTexture","defaultCubeMap","face","positiveX","negativeX","positiveY","negativeY","positiveZ","negativeZ","drawingBufferHeight","drawingBufferWidth","defaultFramebuffer","status","checkFramebufferStatus","FRAMEBUFFER","FRAMEBUFFER_COMPLETE","FRAMEBUFFER_INCOMPLETE_ATTACHMENT","FRAMEBUFFER_INCOMPLETE_DIMENSIONS","FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT","FRAMEBUFFER_UNSUPPORTED","applyRenderState","renderState","passState","clear","previousRenderState","previousPassState","partialApply","scratchBackBufferArray","BACK","bindFramebuffer","framebuffer","_bind","_getActiveColorAttachments","defaultClearCommand","clearCommand","bitmask","c","color","d","depth","s","equals","clone","clearColor","red","green","blue","COLOR_BUFFER_BIT","clearDepth","DEPTH_BUFFER_BIT","clearStencil","STENCIL_BUFFER_BIT","beginDraw","shaderProgram","depthTest","enabled","hasDepthAttachment","Math","max","maximumTextureUnitIndex","continueDraw","drawCommand","uniformMap","primitiveType","_primitiveType","va","_vertexArray","_offset","_count","validate","typeOf","number","greaterThanOrEquals","model","_modelMatrix","IDENTITY","_setUniforms","indexBuffer","bytesPerIndex","min","numberOfIndices","drawElements","indexDatatype","numberOfVertices","drawArrays","_unBind","draw","_shaderProgram","_framebuffer","_renderState","_uniformMap","beginFrame","endFrame","useProgram","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","TEXTURE_CUBE_MAP","readPixelsToPBO","readState","EMPTY_OBJECT","x","y","greaterThan","pixelDatatype","UNSIGNED_BYTE","RGBA","numberOfColorAttachments","getColorTexture","pixels","createPixelBuffer","sizeInBytes","textureSizeInBytes","usage","DYNAMIC_READ","readPixels","toWebGLConstant","createTypedArray","viewportQuadAttributeLocations","position","textureCoordinates","getViewportQuadVertexArray","viewportQuad_vertexArray","geometry","attributes","componentDatatype","FLOAT","componentsPerAttribute","values","indices","Uint16Array","TRIANGLES","fromGeometry","attributeLocations","bufferUsage","STATIC_DRAW","interleave","createViewportQuadCommand","fragmentShaderSource","overrides","vertexShaderSource","owner","pass","getObjectByPickColor","pickColor","PickId","pickObjects","key","object","destroy","delete","createPickId","fromRgba","isDestroyed","hasOwnProperty","propertyValue"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 14379, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/Sync.js"],"sourcesContent":["import Check from \"../Core/Check.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport RuntimeError from \"../Core/RuntimeError.js\";\nimport WebGLConstants from \"../Core/WebGLConstants.js\";\n\n/**\n * The WebGLSync interface is part of the WebGL 2 API and is used to synchronize activities between the GPU and the application.\n *\n * @param {object} options Object with the following properties:\n * @param {Context} context\n *\n * @exception {DeveloperError} A WebGL 2 context is required to use Sync operations.\n *\n * @private\n * @constructor\n */\nfunction Sync(options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n  const context = options.context;\n\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"options.context\", context);\n  //>>includeEnd('debug');\n\n  if (!context._webgl2) {\n    throw new DeveloperError(\n      \"A WebGL 2 context is required to use Sync operations.\",\n    );\n  }\n\n  const gl = context._gl;\n  const sync = gl.fenceSync(WebGLConstants.SYNC_GPU_COMMANDS_COMPLETE, 0);\n\n  this._gl = gl;\n  this._sync = sync;\n}\nSync.create = function (options) {\n  return new Sync(options);\n};\n/**\n * Query the sync status of this Sync object.\n *\n * @returns {number} Returns a WebGLConstants indicating the status of the sync object (WebGLConstants.SIGNALED or WebGLConstants.UNSIGNALED).\n *\n * @private\n */\nSync.prototype.getStatus = function () {\n  const status = this._gl.getSyncParameter(\n    this._sync,\n    WebGLConstants.SYNC_STATUS,\n  );\n  return status;\n};\nSync.prototype.isDestroyed = function () {\n  return false;\n};\nSync.prototype.destroy = function () {\n  this._gl.deleteSync(this._sync);\n  return destroyObject(this);\n};\n\n/**\n * Incremantally polls the status of the Sync object until signaled then resolves.\n * Usually polling should be done once per frame.\n *\n * @example\n * try {\n *  await sync.waitForSignal(function (next) {\n *    setTimeout(next, 100);\n *  });\n *} catch (e) {\n *  throw \"Signal timeout\";\n *} finally {\n *  sync.destroy();\n *}\n *\n * @param {function} scheduleFunction Function for scheduling the next poll. Receives a callback as its only parameter.\n * @param {number} [ttl=10] Max number of iterations to poll until timeout.\n *\n * @exception {RuntimeError} Wait for signal timeout.\n */\nSync.prototype.waitForSignal = async function (scheduleFunction, ttl) {\n  const self = this;\n  ttl = ttl ?? 10;\n  function waitForSignal0(resolve, reject, ttl) {\n    return () => {\n      const syncStatus = self.getStatus();\n      const signaled = syncStatus === WebGLConstants.SIGNALED;\n      if (signaled) {\n        resolve();\n      } else if (ttl <= 0) {\n        reject(new RuntimeError(\"Wait for signal timeout\"));\n      } else {\n        scheduleFunction(waitForSignal0(resolve, reject, ttl - 1));\n      }\n    };\n  }\n  return new Promise((resolve, reject) => {\n    scheduleFunction(waitForSignal0(resolve, reject, ttl));\n  });\n};\nexport default Sync;\n"],"names":["Sync","options","EMPTY_OBJECT","context","defined","_webgl2","gl","_gl","sync","fenceSync","SYNC_GPU_COMMANDS_COMPLETE","_sync","create","prototype","getStatus","status","getSyncParameter","SYNC_STATUS","isDestroyed","destroy","deleteSync","waitForSignal","scheduleFunction","ttl","self","waitForSignal0","resolve","reject","syncStatus","signaled","SIGNALED","Promise"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAEA;;;;;;;;;;CAUC,GACD,SAASA,KAAKC,OAAO;IACnBA,UAAUA,WAAW,4KAAM,CAACC,YAAY;IACxC,MAAMC,UAAUF,QAAQE,OAAO;IAE/B,yCAAyC;IACzC,2KAAK,CAACC,OAAO,CAAC,mBAAmBD;IACjC,wBAAwB;IAExB,IAAI,CAACA,QAAQE,OAAO,EAAE;QACpB,MAAM,IAAI,oLAAc,CACtB;IAEJ;IAEA,MAAMC,KAAKH,QAAQI,GAAG;IACtB,MAAMC,OAAOF,GAAGG,SAAS,CAAC,oLAAc,CAACC,0BAA0B,EAAE;IAErE,IAAI,CAACH,GAAG,GAAGD;IACX,IAAI,CAACK,KAAK,GAAGH;AACf;AACAR,KAAKY,MAAM,GAAG,SAAUX,OAAO;IAC7B,OAAO,IAAID,KAAKC;AAClB;AACA;;;;;;CAMC,GACDD,KAAKa,SAAS,CAACC,SAAS,GAAG;IACzB,MAAMC,SAAS,IAAI,CAACR,GAAG,CAACS,gBAAgB,CACtC,IAAI,CAACL,KAAK,EACV,oLAAc,CAACM,WAAW;IAE5B,OAAOF;AACT;AACAf,KAAKa,SAAS,CAACK,WAAW,GAAG;IAC3B,OAAO;AACT;AACAlB,KAAKa,SAAS,CAACM,OAAO,GAAG;IACvB,IAAI,CAACZ,GAAG,CAACa,UAAU,CAAC,IAAI,CAACT,KAAK;IAC9B,OAAO,IAAA,mLAAa,EAAC,IAAI;AAC3B;AAEA;;;;;;;;;;;;;;;;;;;CAmBC,GACDX,KAAKa,SAAS,CAACQ,aAAa,GAAG,eAAgBC,gBAAgB,EAAEC,GAAG;IAClE,MAAMC,OAAO,IAAI;IACjBD,MAAMA,OAAO;IACb,SAASE,eAAeC,OAAO,EAAEC,MAAM,EAAEJ,GAAG;QAC1C,OAAO;YACL,MAAMK,aAAaJ,KAAKV,SAAS;YACjC,MAAMe,WAAWD,eAAe,oLAAc,CAACE,QAAQ;YACvD,IAAID,UAAU;gBACZH;YACF,OAAO,IAAIH,OAAO,GAAG;gBACnBI,OAAO,IAAI,kLAAY,CAAC;YAC1B,OAAO;gBACLL,iBAAiBG,eAAeC,SAASC,QAAQJ,MAAM;YACzD;QACF;IACF;IACA,OAAO,IAAIQ,QAAQ,CAACL,SAASC;QAC3BL,iBAAiBG,eAAeC,SAASC,QAAQJ;IACnD;AACF;uCACevB","ignoreList":[0]}},
    {"offset": {"line": 14483, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/SharedContext.js"],"sourcesContent":["import clone from \"../Core/clone.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport Context from \"./Context.js\";\n\n/**\n * Enables a single WebGL context to be used by any number of {@link Scene}s.\n * You can pass a SharedContext in place of a {@link ContextOptions} to the constructors of {@link Scene}, {@link CesiumWidget}, and {@link Viewer}.\n * {@link Primitive}s associated with the shared WebGL context can be displayed in any Scene that uses the same context.\n * The context renders each Scene to an off-screen canvas, then blits the result to that Scene's on-screen canvas.\n *\n * @private\n * @alias SharedContext\n * @constructor\n *\n * @param {object} [options] Object with the following properties:\n * @param {ContextOptions} [options.contextOptions] Context and WebGL creation properties.\n * @param {boolean} [options.autoDestroy=true] Destroys this context and all of its WebGL resources after all Scenes using the context are destroyed.\n\n * @see {@link http://www.khronos.org/registry/webgl/specs/latest/#5.2|WebGLContextAttributes}\n *\n * @example\n * // Create two Scenes sharing a single WebGL context\n * const context = new Cesium.SharedContext();\n * const scene1 = new Cesium.Scene({\n *   canvas: canvas1,\n *   contextOptions: context,\n * });\n * const scene2 = new Cesium.Scene({\n *   canvas: canvas2,\n *   contextOptions: context,\n * });\n */\nfunction SharedContext(options) {\n  this._autoDestroy = options?.autoDestroy ?? true;\n  this._canvas = document.createElement(\"canvas\");\n  this._context = new Context(this._canvas, clone(options?.contextOptions));\n  this._canvases = [];\n}\n\n/**\n * Creates an instance of {@link Context} that manages the shared WebGL context for a specific canvas.\n * @param {HTMLCanvasElement} canvas The canvas element to which the context will be associated\n * @returns {Context} The created context instance\n * @private\n */\nSharedContext.prototype.createSceneContext = function (canvas) {\n  const context2d = canvas.getContext(\"2d\", { alpha: true });\n\n  //>>includeStart('debug', pragmas.debug);\n  if (!context2d) {\n    throw new DeveloperError(\n      \"canvas used with SharedContext must provide a 2d context\",\n    );\n  }\n\n  if (this._canvases.includes(canvas)) {\n    throw new DeveloperError(\"canvas is already associated with a scene\");\n  }\n  //>>includeEnd('debug');\n\n  const sharedContext = this;\n  sharedContext._canvases.push(canvas);\n\n  let isDestroyed = false;\n  const destroy = function () {\n    isDestroyed = true;\n    const index = sharedContext._canvases.indexOf(canvas);\n    if (-1 !== index) {\n      sharedContext._canvases.splice(index, 1);\n      if (sharedContext._autoDestroy && sharedContext._canvases.length === 0) {\n        sharedContext.destroy();\n      }\n    }\n  };\n\n  const beginFrame = function () {\n    // Ensure the off-screen canvas is at least as large as the on-screen canvas.\n    const sharedCanvas = sharedContext._context.canvas;\n\n    const width = this.drawingBufferWidth;\n    if (sharedCanvas.width < width) {\n      sharedCanvas.width = width;\n    }\n\n    const height = this.drawingBufferHeight;\n    if (sharedCanvas.height < height) {\n      sharedCanvas.height = height;\n    }\n  };\n\n  const endFrame = function () {\n    // Blit the image from the off-screen canvas to the on-screen canvas.\n    const w = this.drawingBufferWidth;\n    const h = this.drawingBufferHeight;\n    const yOffset = sharedContext._context.canvas.height - h; // drawImage has top as Y=0, GL has bottom as Y=0\n    context2d.drawImage(\n      sharedContext._context.canvas,\n      0,\n      yOffset,\n      w,\n      h,\n      0,\n      0,\n      w,\n      h,\n    );\n\n    // Do normal post-frame cleanup.\n    sharedContext._context.endFrame();\n  };\n\n  const proxy = new Proxy(this._context, {\n    get(target, prop, receiver) {\n      if (prop === \"isDestroyed\") {\n        return function () {\n          return isDestroyed;\n        };\n      } else if (isDestroyed) {\n        //>>includeStart('debug', pragmas.debug);\n        throw new DeveloperError(\n          \"This object was destroyed, i.e., destroy() was called.\",\n        );\n        //>>includeEnd('debug');\n      }\n\n      switch (prop) {\n        case \"_canvas\":\n          return canvas;\n        case \"destroy\":\n          return destroy;\n        case \"drawingBufferWidth\":\n          return canvas.width;\n        case \"drawingBufferHeight\":\n          return canvas.height;\n        case \"beginFrame\":\n          return beginFrame;\n        case \"endFrame\":\n          return endFrame;\n        default:\n          return Reflect.get(target, prop, receiver);\n      }\n    },\n  });\n\n  return proxy;\n};\n\n/**\n * Destroys the WebGL resources held by this object. Destroying an object allows for deterministic\n * release of WebGL resources, instead of relying on the garbage collector to destroy this object.\n * <br /><br />\n * Once an object is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception. Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n * <br /><br />\n * By default, a SharedContext is destroyed automatically once the last Scene using it is destroyed, in which case it\n * is not necessary to call this method directly.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @example\n * context = context && context.destroy();\n *\n * @see SharedContext#isDestroyed\n */\nSharedContext.prototype.destroy = function () {\n  this._context.destroy();\n  destroyObject(this);\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * <br /><br />\n * If this object was destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.\n *\n * @returns {boolean} <code>true</code> if this object was destroyed; otherwise, <code>false</code>.\n *\n * @see SharedContext#destroy\n */\nSharedContext.prototype.isDestroyed = function () {\n  return false;\n};\n\nexport default SharedContext;\n"],"names":["SharedContext","options","_autoDestroy","autoDestroy","_canvas","document","createElement","_context","contextOptions","_canvases","prototype","createSceneContext","canvas","context2d","getContext","alpha","includes","sharedContext","push","isDestroyed","destroy","index","indexOf","splice","length","beginFrame","sharedCanvas","width","drawingBufferWidth","height","drawingBufferHeight","endFrame","w","h","yOffset","drawImage","proxy","Proxy","get","target","prop","receiver","Reflect"],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;CA2BC,GACD,SAASA,cAAcC,OAAO;IAC5B,IAAI,CAACC,YAAY,GAAGD,SAASE,eAAe;IAC5C,IAAI,CAACC,OAAO,GAAGC,SAASC,aAAa,CAAC;IACtC,IAAI,CAACC,QAAQ,GAAG,IAAI,iLAAO,CAAC,IAAI,CAACH,OAAO,EAAE,IAAA,2KAAK,EAACH,SAASO;IACzD,IAAI,CAACC,SAAS,GAAG,EAAE;AACrB;AAEA;;;;;CAKC,GACDT,cAAcU,SAAS,CAACC,kBAAkB,GAAG,SAAUC,MAAM;IAC3D,MAAMC,YAAYD,OAAOE,UAAU,CAAC,MAAM;QAAEC,OAAO;IAAK;IAExD,yCAAyC;IACzC,IAAI,CAACF,WAAW;QACd,MAAM,IAAI,oLAAc,CACtB;IAEJ;IAEA,IAAI,IAAI,CAACJ,SAAS,CAACO,QAAQ,CAACJ,SAAS;QACnC,MAAM,IAAI,oLAAc,CAAC;IAC3B;IACA,wBAAwB;IAExB,MAAMK,gBAAgB,IAAI;IAC1BA,cAAcR,SAAS,CAACS,IAAI,CAACN;IAE7B,IAAIO,cAAc;IAClB,MAAMC,UAAU;QACdD,cAAc;QACd,MAAME,QAAQJ,cAAcR,SAAS,CAACa,OAAO,CAACV;QAC9C,IAAI,CAAC,MAAMS,OAAO;YAChBJ,cAAcR,SAAS,CAACc,MAAM,CAACF,OAAO;YACtC,IAAIJ,cAAcf,YAAY,IAAIe,cAAcR,SAAS,CAACe,MAAM,KAAK,GAAG;gBACtEP,cAAcG,OAAO;YACvB;QACF;IACF;IAEA,MAAMK,aAAa;QACjB,6EAA6E;QAC7E,MAAMC,eAAeT,cAAcV,QAAQ,CAACK,MAAM;QAElD,MAAMe,QAAQ,IAAI,CAACC,kBAAkB;QACrC,IAAIF,aAAaC,KAAK,GAAGA,OAAO;YAC9BD,aAAaC,KAAK,GAAGA;QACvB;QAEA,MAAME,SAAS,IAAI,CAACC,mBAAmB;QACvC,IAAIJ,aAAaG,MAAM,GAAGA,QAAQ;YAChCH,aAAaG,MAAM,GAAGA;QACxB;IACF;IAEA,MAAME,WAAW;QACf,qEAAqE;QACrE,MAAMC,IAAI,IAAI,CAACJ,kBAAkB;QACjC,MAAMK,IAAI,IAAI,CAACH,mBAAmB;QAClC,MAAMI,UAAUjB,cAAcV,QAAQ,CAACK,MAAM,CAACiB,MAAM,GAAGI,GAAG,iDAAiD;QAC3GpB,UAAUsB,SAAS,CACjBlB,cAAcV,QAAQ,CAACK,MAAM,EAC7B,GACAsB,SACAF,GACAC,GACA,GACA,GACAD,GACAC;QAGF,gCAAgC;QAChChB,cAAcV,QAAQ,CAACwB,QAAQ;IACjC;IAEA,MAAMK,QAAQ,IAAIC,MAAM,IAAI,CAAC9B,QAAQ,EAAE;QACrC+B,KAAIC,MAAM,EAAEC,IAAI,EAAEC,QAAQ;YACxB,IAAID,SAAS,eAAe;gBAC1B,OAAO;oBACL,OAAOrB;gBACT;YACF,OAAO,IAAIA,aAAa;gBACtB,yCAAyC;gBACzC,MAAM,IAAI,oLAAc,CACtB;YAEF,wBAAwB;YAC1B;YAEA,OAAQqB;gBACN,KAAK;oBACH,OAAO5B;gBACT,KAAK;oBACH,OAAOQ;gBACT,KAAK;oBACH,OAAOR,OAAOe,KAAK;gBACrB,KAAK;oBACH,OAAOf,OAAOiB,MAAM;gBACtB,KAAK;oBACH,OAAOJ;gBACT,KAAK;oBACH,OAAOM;gBACT;oBACE,OAAOW,QAAQJ,GAAG,CAACC,QAAQC,MAAMC;YACrC;QACF;IACF;IAEA,OAAOL;AACT;AAEA;;;;;;;;;;;;;;;;;CAiBC,GACDpC,cAAcU,SAAS,CAACU,OAAO,GAAG;IAChC,IAAI,CAACb,QAAQ,CAACa,OAAO;IACrB,IAAA,mLAAa,EAAC,IAAI;AACpB;AAEA;;;;;;;;;CASC,GACDpB,cAAcU,SAAS,CAACS,WAAW,GAAG;IACpC,OAAO;AACT;uCAEenB","ignoreList":[0]}},
    {"offset": {"line": 14648, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/node_modules/%40cesium/engine/Source/Renderer/loadCubeMap.js"],"sourcesContent":["import Check from \"../Core/Check.js\";\nimport defined from \"../Core/defined.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport Resource from \"../Core/Resource.js\";\nimport CubeMap from \"./CubeMap.js\";\n\n/**\n * Asynchronously loads six images and creates a cube map.  Returns a promise that\n * will resolve to a {@link CubeMap} once loaded, or reject if any image fails to load.\n *\n * @function loadCubeMap\n *\n * @param {Context} context The context to use to create the cube map.\n * @param {object} urls The source URL of each image.  See the example below.\n * @param {boolean} [skipColorSpaceConversion=false] If true, any custom gamma or color profiles in the images will be ignored.\n * @returns {Promise<CubeMap>} a promise that will resolve to the requested {@link CubeMap} when loaded.\n *\n * @exception {DeveloperError} context is required.\n * @exception {DeveloperError} urls is required and must have positiveX, negativeX, positiveY, negativeY, positiveZ, and negativeZ properties.\n *\n *\n * @example\n * Cesium.loadCubeMap(context, {\n *     positiveX : 'skybox_px.png',\n *     negativeX : 'skybox_nx.png',\n *     positiveY : 'skybox_py.png',\n *     negativeY : 'skybox_ny.png',\n *     positiveZ : 'skybox_pz.png',\n *     negativeZ : 'skybox_nz.png'\n * }).then(function(cubeMap) {\n *     // use the cubemap\n * }).catch(function(error) {\n *     // an error occurred\n * });\n *\n * @see {@link http://www.w3.org/TR/cors/|Cross-Origin Resource Sharing}\n * @see {@link http://wiki.commonjs.org/wiki/Promises/A|CommonJS Promises/A}\n *\n * @private\n */\nfunction loadCubeMap(context, urls, skipColorSpaceConversion) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"context\", context);\n  Check.defined(\"urls\", urls);\n  if (\n    Object.values(CubeMap.FaceName).some((faceName) => !defined(urls[faceName]))\n  ) {\n    throw new DeveloperError(\n      \"urls must have positiveX, negativeX, positiveY, negativeY, positiveZ, and negativeZ properties.\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  // PERFORMANCE_IDEA: Given the size of some cube maps, we should consider tiling them, which\n  // would prevent hiccups when uploading, for example, six 4096x4096 textures to the GPU.\n  //\n  // Also, it is perhaps acceptable to use the context here in the callbacks, but\n  // ideally, we would do it in the primitive's update function.\n  const flipOptions = {\n    flipY: true,\n    skipColorSpaceConversion: skipColorSpaceConversion,\n    preferImageBitmap: true,\n  };\n\n  const facePromises = [\n    Resource.createIfNeeded(urls.positiveX).fetchImage(flipOptions),\n    Resource.createIfNeeded(urls.negativeX).fetchImage(flipOptions),\n    Resource.createIfNeeded(urls.positiveY).fetchImage(flipOptions),\n    Resource.createIfNeeded(urls.negativeY).fetchImage(flipOptions),\n    Resource.createIfNeeded(urls.positiveZ).fetchImage(flipOptions),\n    Resource.createIfNeeded(urls.negativeZ).fetchImage(flipOptions),\n  ];\n\n  return Promise.all(facePromises).then(function (images) {\n    return new CubeMap({\n      context: context,\n      source: {\n        positiveX: images[0],\n        negativeX: images[1],\n        positiveY: images[2],\n        negativeY: images[3],\n        positiveZ: images[4],\n        negativeZ: images[5],\n      },\n    });\n  });\n}\nexport default loadCubeMap;\n"],"names":["loadCubeMap","context","urls","skipColorSpaceConversion","defined","Object","values","FaceName","some","faceName","flipOptions","flipY","preferImageBitmap","facePromises","createIfNeeded","positiveX","fetchImage","negativeX","positiveY","negativeY","positiveZ","negativeZ","Promise","all","then","images","source"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAiCC,GACD,SAASA,YAAYC,OAAO,EAAEC,IAAI,EAAEC,wBAAwB;IAC1D,yCAAyC;IACzC,2KAAK,CAACC,OAAO,CAAC,WAAWH;IACzB,2KAAK,CAACG,OAAO,CAAC,QAAQF;IACtB,IACEG,OAAOC,MAAM,CAAC,iLAAO,CAACC,QAAQ,EAAEC,IAAI,CAAC,CAACC,WAAa,CAAC,IAAA,6KAAO,EAACP,IAAI,CAACO,SAAS,IAC1E;QACA,MAAM,IAAI,oLAAc,CACtB;IAEJ;IACA,wBAAwB;IAExB,4FAA4F;IAC5F,wFAAwF;IACxF,EAAE;IACF,+EAA+E;IAC/E,8DAA8D;IAC9D,MAAMC,cAAc;QAClBC,OAAO;QACPR,0BAA0BA;QAC1BS,mBAAmB;IACrB;IAEA,MAAMC,eAAe;QACnB,8KAAQ,CAACC,cAAc,CAACZ,KAAKa,SAAS,EAAEC,UAAU,CAACN;QACnD,8KAAQ,CAACI,cAAc,CAACZ,KAAKe,SAAS,EAAED,UAAU,CAACN;QACnD,8KAAQ,CAACI,cAAc,CAACZ,KAAKgB,SAAS,EAAEF,UAAU,CAACN;QACnD,8KAAQ,CAACI,cAAc,CAACZ,KAAKiB,SAAS,EAAEH,UAAU,CAACN;QACnD,8KAAQ,CAACI,cAAc,CAACZ,KAAKkB,SAAS,EAAEJ,UAAU,CAACN;QACnD,8KAAQ,CAACI,cAAc,CAACZ,KAAKmB,SAAS,EAAEL,UAAU,CAACN;KACpD;IAED,OAAOY,QAAQC,GAAG,CAACV,cAAcW,IAAI,CAAC,SAAUC,MAAM;QACpD,OAAO,IAAI,iLAAO,CAAC;YACjBxB,SAASA;YACTyB,QAAQ;gBACNX,WAAWU,MAAM,CAAC,EAAE;gBACpBR,WAAWQ,MAAM,CAAC,EAAE;gBACpBP,WAAWO,MAAM,CAAC,EAAE;gBACpBN,WAAWM,MAAM,CAAC,EAAE;gBACpBL,WAAWK,MAAM,CAAC,EAAE;gBACpBJ,WAAWI,MAAM,CAAC,EAAE;YACtB;QACF;IACF;AACF;uCACezB","ignoreList":[0]}}]
}