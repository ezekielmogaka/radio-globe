{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/apps/web/src/components/CesiumGlobe.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useRef, useState } from 'react'\nimport dynamic from 'next/dynamic'\n\n// Dynamically import Cesium components to avoid SSR issues\nconst CesiumGlobeRenderer = dynamic(() => import('./CesiumGlobeRenderer'), {\n  ssr: false,\n  loading: () => (\n    <div className=\"flex items-center justify-center h-full bg-black\">\n      <div className=\"text-white\">Loading 3D Globe...</div>\n    </div>\n  )\n})\n\ninterface CesiumGlobeProps {\n  className?: string\n}\n\nexport function CesiumGlobe({ className = '' }: CesiumGlobeProps) {\n  const containerRef = useRef<HTMLDivElement>(null)\n  const [isClient, setIsClient] = useState(false)\n\n  useEffect(() => {\n    setIsClient(true)\n  }, [])\n\n  if (!isClient) {\n    return (\n      <div \n        ref={containerRef}\n        className={`w-full h-full bg-black flex items-center justify-center ${className}`}\n      >\n        <div className=\"text-white text-center\">\n          <div className=\"animate-spin w-8 h-8 border-2 border-white border-t-transparent rounded-full mx-auto mb-2\"></div>\n          <div>Initializing Globe...</div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div \n      ref={containerRef}\n      className={`w-full h-full ${className}`}\n      style={{ minHeight: '400px' }}\n    >\n      <div className=\"absolute inset-0 bg-black flex items-center justify-center z-10\" id=\"cesium-loading\">\n        <div className=\"text-white text-center\">\n          <div className=\"animate-spin w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-2\"></div>\n          <div>Loading 3D Globe...</div>\n        </div>\n      </div>\n      <CesiumGlobeRenderer containerRef={containerRef} />\n    </div>\n  )\n}"],"names":["CesiumGlobeRenderer","ssr","loading","className","CesiumGlobe","containerRef","isClient","setIsClient","ref","style","minHeight","id"],"mappings":";;;;;AAEA;AACA;;;;AAHA;;;AAKA,2DAA2D;AAC3D,MAAMA,sBAAsB,IAAA,4LAAO,EAAC;;;;;;IAClCC,KAAK;IACLC,SAAS,kBACP,4MAAC;YAAIC,WAAU;sBACb,cAAA,4MAAC;gBAAIA,WAAU;0BAAa;;;;;;;;;;;;KAJ5BH;AAaC,SAASI,YAAY,EAAED,YAAY,EAAE,EAAoB;;IAC9D,MAAME,eAAe,IAAA,sLAAM,EAAiB;IAC5C,MAAM,CAACC,UAAUC,YAAY,GAAG,IAAA,wLAAQ,EAAC;IAEzC,IAAA,yLAAS;iCAAC;YACRA,YAAY;QACd;gCAAG,EAAE;IAEL,IAAI,CAACD,UAAU;QACb,qBACE,4MAAC;YACCE,KAAKH;YACLF,WAAW,CAAC,wDAAwD,EAAEA,WAAW;sBAEjF,cAAA,4MAAC;gBAAIA,WAAU;;kCACb,4MAAC;wBAAIA,WAAU;;;;;;kCACf,4MAAC;kCAAI;;;;;;;;;;;;;;;;;IAIb;IAEA,qBACE,4MAAC;QACCK,KAAKH;QACLF,WAAW,CAAC,cAAc,EAAEA,WAAW;QACvCM,OAAO;YAAEC,WAAW;QAAQ;;0BAE5B,4MAAC;gBAAIP,WAAU;gBAAkEQ,IAAG;0BAClF,cAAA,4MAAC;oBAAIR,WAAU;;sCACb,4MAAC;4BAAIA,WAAU;;;;;;sCACf,4MAAC;sCAAI;;;;;;;;;;;;;;;;;0BAGT,4MAACH;gBAAoBK,cAAcA;;;;;;;;;;;;AAGzC;GArCgBD;MAAAA"}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/apps/web/src/utils/coordinates.ts"],"sourcesContent":["/**\n * Coordinate conversion utilities for geographic calculations\n * Compatible with both Cesium and general 3D applications\n */\n\n/**\n * Convert latitude/longitude to 3D Cartesian coordinates\n */\nexport function latLngToPosition(lat: number, lng: number, radius: number = 1): [number, number, number] {\n  const phi = (90 - lat) * (Math.PI / 180)\n  const theta = (lng + 180) * (Math.PI / 180)\n\n  const x = -(radius * Math.sin(phi) * Math.cos(theta))\n  const z = radius * Math.sin(phi) * Math.sin(theta)\n  const y = radius * Math.cos(phi)\n\n  return [x, y, z]\n}\n\n/**\n * Convert 3D Cartesian coordinates to latitude/longitude\n */\nexport function positionToLatLng(x: number, y: number, z: number): { lat: number, lng: number } {\n  const radius = Math.sqrt(x * x + y * y + z * z)\n  const lat = 90 - (Math.acos(y / radius) * 180) / Math.PI\n  const lng = (Math.atan2(z, -x) * 180) / Math.PI - 180\n\n  return { lat, lng }\n}\n\n/**\n * Calculate distance between two geographic points using Haversine formula\n */\nexport function calculateDistance(lat1: number, lon1: number, lat2: number, lon2: number): number {\n  const R = 6371 // Earth's radius in kilometers\n  const dLat = (lat2 - lat1) * Math.PI / 180\n  const dLon = (lon2 - lon1) * Math.PI / 180\n  const a = Math.sin(dLat/2) * Math.sin(dLat/2) +\n            Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\n            Math.sin(dLon/2) * Math.sin(dLon/2)\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a))\n  return R * c\n}\n\n/**\n * Normalize longitude to [-180, 180] range\n */\nexport function normalizeLongitude(lng: number): number {\n  while (lng > 180) lng -= 360\n  while (lng < -180) lng += 360\n  return lng\n}\n\n/**\n * Normalize latitude to [-90, 90] range\n */\nexport function normalizeLatitude(lat: number): number {\n  return Math.max(-90, Math.min(90, lat))\n}"],"names":["latLngToPosition","lat","lng","radius","phi","Math","PI","theta","x","sin","cos","z","y","positionToLatLng","sqrt","acos","atan2","calculateDistance","lat1","lon1","lat2","lon2","R","dLat","dLon","a","c","normalizeLongitude","normalizeLatitude","max","min"],"mappings":"AAAA;;;CAGC,GAED;;CAEC;;;;;;;;;;;;AACM,SAASA,iBAAiBC,GAAW,EAAEC,GAAW,EAAEC,SAAiB,CAAC;IAC3E,MAAMC,MAAM,CAAC,KAAKH,GAAG,IAAI,CAACI,KAAKC,EAAE,GAAG,GAAG;IACvC,MAAMC,QAAQ,CAACL,MAAM,GAAG,IAAI,CAACG,KAAKC,EAAE,GAAG,GAAG;IAE1C,MAAME,IAAI,CAAC,CAACL,SAASE,KAAKI,GAAG,CAACL,OAAOC,KAAKK,GAAG,CAACH,MAAM;IACpD,MAAMI,IAAIR,SAASE,KAAKI,GAAG,CAACL,OAAOC,KAAKI,GAAG,CAACF;IAC5C,MAAMK,IAAIT,SAASE,KAAKK,GAAG,CAACN;IAE5B,OAAO;QAACI;QAAGI;QAAGD;KAAE;AAClB;AAKO,SAASE,iBAAiBL,CAAS,EAAEI,CAAS,EAAED,CAAS;IAC9D,MAAMR,SAASE,KAAKS,IAAI,CAACN,IAAIA,IAAII,IAAIA,IAAID,IAAIA;IAC7C,MAAMV,MAAM,KAAK,AAACI,KAAKU,IAAI,CAACH,IAAIT,UAAU,MAAOE,KAAKC,EAAE;IACxD,MAAMJ,MAAM,AAACG,KAAKW,KAAK,CAACL,GAAG,CAACH,KAAK,MAAOH,KAAKC,EAAE,GAAG;IAElD,OAAO;QAAEL;QAAKC;IAAI;AACpB;AAKO,SAASe,kBAAkBC,IAAY,EAAEC,IAAY,EAAEC,IAAY,EAAEC,IAAY;IACtF,MAAMC,IAAI,KAAK,+BAA+B;;IAC9C,MAAMC,OAAO,CAACH,OAAOF,IAAI,IAAIb,KAAKC,EAAE,GAAG;IACvC,MAAMkB,OAAO,CAACH,OAAOF,IAAI,IAAId,KAAKC,EAAE,GAAG;IACvC,MAAMmB,IAAIpB,KAAKI,GAAG,CAACc,OAAK,KAAKlB,KAAKI,GAAG,CAACc,OAAK,KACjClB,KAAKK,GAAG,CAACQ,OAAOb,KAAKC,EAAE,GAAG,OAAOD,KAAKK,GAAG,CAACU,OAAOf,KAAKC,EAAE,GAAG,OAC3DD,KAAKI,GAAG,CAACe,OAAK,KAAKnB,KAAKI,GAAG,CAACe,OAAK;IAC3C,MAAME,IAAI,IAAIrB,KAAKW,KAAK,CAACX,KAAKS,IAAI,CAACW,IAAIpB,KAAKS,IAAI,CAAC,IAAEW;IACnD,OAAOH,IAAII;AACb;AAKO,SAASC,mBAAmBzB,GAAW;IAC5C,MAAOA,MAAM,IAAKA,OAAO;IACzB,MAAOA,MAAM,CAAC,IAAKA,OAAO;IAC1B,OAAOA;AACT;AAKO,SAAS0B,kBAAkB3B,GAAW;IAC3C,OAAOI,KAAKwB,GAAG,CAAC,CAAC,IAAIxB,KAAKyB,GAAG,CAAC,IAAI7B;AACpC"}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/apps/web/src/stores/globe-store.ts"],"sourcesContent":["import { create } from 'zustand'\nimport { subscribeWithSelector } from 'zustand/middleware'\nimport type { GlobeState, RadioStation, StationMarker } from '../types'\nimport { latLngToPosition } from '../utils/coordinates'\n\n// Cesium-compatible camera position type\nexport interface CesiumCameraPosition {\n  longitude: number\n  latitude: number\n  height: number\n  heading?: number\n  pitch?: number\n  roll?: number\n}\n\ninterface GlobeStore extends GlobeState {\n  // Cesium-specific state\n  cesiumCameraPosition?: CesiumCameraPosition\n  \n  // Actions\n  selectStation: (station: RadioStation | null) => void\n  hoverStation: (station: RadioStation | null) => void\n  setCameraPosition: (position: [number, number, number]) => void\n  setCesiumCameraPosition: (position: CesiumCameraPosition) => void\n  setAutoRotating: (isAutoRotating: boolean) => void\n  addMarker: (station: RadioStation) => void\n  removeMarker: (stationId: string) => void\n  updateMarkerVisibility: (stationId: string, isVisible: boolean) => void\n  getStationsByRegion: (region: string) => RadioStation[]\n  searchStations: (query: string) => RadioStation[]\n}\n\nexport const useGlobeStore = create<GlobeStore>()(\n  subscribeWithSelector((set, get) => ({\n    // Initial state\n    selectedStation: null,\n    hoveredStation: null,\n    cameraPosition: [0, 0, 2.5],\n    isAutoRotating: true,\n    markers: [],\n\n    // Actions\n    selectStation: (station) => {\n      set((state) => ({\n        selectedStation: station,\n        markers: state.markers.map(marker => ({\n          ...marker,\n          isSelected: marker.station.id === station?.id\n        }))\n      }))\n    },\n\n    hoverStation: (station) => {\n      set((state) => ({\n        hoveredStation: station,\n        markers: state.markers.map(marker => ({\n          ...marker,\n          isHovered: marker.station.id === station?.id\n        }))\n      }))\n    },\n\n    setCameraPosition: (position) => {\n      set({ cameraPosition: position })\n    },\n\n    setCesiumCameraPosition: (position) => {\n      set({ \n        cesiumCameraPosition: position,\n        // Also update legacy camera position for compatibility\n        cameraPosition: [position.longitude, position.latitude, position.height]\n      })\n    },\n\n    setAutoRotating: (isAutoRotating) => {\n      set({ isAutoRotating })\n    },\n\n    addMarker: (station) => {\n      const position = latLngToPosition(station.location.lat, station.location.lng)\n      const marker: StationMarker = {\n        station,\n        position,\n        isVisible: true,\n        isHovered: false,\n        isSelected: false\n      }\n\n      set((state) => ({\n        markers: [...state.markers.filter(m => m.station.id !== station.id), marker]\n      }))\n    },\n\n    removeMarker: (stationId) => {\n      set((state) => ({\n        markers: state.markers.filter(m => m.station.id !== stationId)\n      }))\n    },\n\n    updateMarkerVisibility: (stationId, isVisible) => {\n      set((state) => ({\n        markers: state.markers.map(marker => \n          marker.station.id === stationId \n            ? { ...marker, isVisible }\n            : marker\n        )\n      }))\n    },\n\n    getStationsByRegion: (region: string) => {\n      const { markers } = get()\n      return markers\n        .filter(marker => \n          marker.station.location.country.toLowerCase().includes(region.toLowerCase()) ||\n          marker.station.location.city.toLowerCase().includes(region.toLowerCase())\n        )\n        .map(marker => marker.station)\n    },\n\n    searchStations: (query: string) => {\n      const { markers } = get()\n      const searchTerm = query.toLowerCase()\n      return markers\n        .filter(marker => \n          marker.station.name.toLowerCase().includes(searchTerm) ||\n          marker.station.location.city.toLowerCase().includes(searchTerm) ||\n          marker.station.location.country.toLowerCase().includes(searchTerm) ||\n          marker.station.genre.toLowerCase().includes(searchTerm) ||\n          marker.station.language.toLowerCase().includes(searchTerm)\n        )\n        .map(marker => marker.station)\n    }\n  }))\n)\n\n// Subscribe to state changes for analytics or side effects\nuseGlobeStore.subscribe(\n  (state) => state.selectedStation,\n  (selectedStation) => {\n    if (selectedStation) {\n      console.log('Station selected:', selectedStation.name)\n      // Track analytics, update URL, etc.\n    }\n  }\n)"],"names":["useGlobeStore","set","get","selectedStation","hoveredStation","cameraPosition","isAutoRotating","markers","selectStation","station","state","map","marker","isSelected","id","hoverStation","isHovered","setCameraPosition","position","setCesiumCameraPosition","cesiumCameraPosition","longitude","latitude","height","setAutoRotating","addMarker","location","lat","lng","isVisible","filter","m","removeMarker","stationId","updateMarkerVisibility","getStationsByRegion","region","country","toLowerCase","includes","city","searchStations","query","searchTerm","name","genre","language","subscribe","console","log"],"mappings":"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"}},
    {"offset": {"line": 324, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/apps/web/src/services/audioService.ts"],"sourcesContent":["import { RadioStation } from '../types'\n\nexport type AudioState = 'idle' | 'loading' | 'playing' | 'paused' | 'error'\n\nexport interface AudioPlayerConfig {\n  volume: number\n  crossOrigin: 'anonymous' | 'use-credentials'\n  preload: 'none' | 'metadata' | 'auto'\n  retryAttempts: number\n  retryDelay: number\n}\n\nexport interface AudioPlayerEvents {\n  stateChange: (state: AudioState) => void\n  error: (error: string) => void\n  loadStart: () => void\n  canPlay: () => void\n  volumeChange: (volume: number) => void\n  timeUpdate: (currentTime: number) => void\n}\n\nexport class AudioService {\n  private audio: HTMLAudioElement | null = null\n  private state: AudioState = 'idle'\n  private config: AudioPlayerConfig\n  private listeners: Partial<AudioPlayerEvents> = {}\n  private retryCount = 0\n  private currentStation: RadioStation | null = null\n  private lastTimeUpdate = 0\n  private readonly TIME_UPDATE_THROTTLE = 100 // ms\n\n  constructor(config: Partial<AudioPlayerConfig> = {}) {\n    this.config = {\n      volume: 0.7,\n      crossOrigin: 'anonymous',\n      preload: 'none',\n      retryAttempts: 3,\n      retryDelay: 2000,\n      ...config\n    }\n\n    this.initializeAudio()\n  }\n\n  private initializeAudio() {\n    this.audio = new Audio()\n    this.audio.volume = this.config.volume\n    this.audio.crossOrigin = this.config.crossOrigin\n    this.audio.preload = this.config.preload\n\n    // Set up event listeners\n    this.audio.addEventListener('loadstart', this.handleLoadStart.bind(this))\n    this.audio.addEventListener('canplay', this.handleCanPlay.bind(this))\n    this.audio.addEventListener('play', this.handlePlay.bind(this))\n    this.audio.addEventListener('pause', this.handlePause.bind(this))\n    this.audio.addEventListener('error', this.handleError.bind(this))\n    this.audio.addEventListener('volumechange', this.handleVolumeChange.bind(this))\n    this.audio.addEventListener('timeupdate', this.handleTimeUpdate.bind(this))\n  }\n\n  private handleLoadStart() {\n    this.setState('loading')\n    this.listeners.loadStart?.()\n  }\n\n  private handleCanPlay() {\n    this.setState('paused')\n    this.listeners.canPlay?.()\n  }\n\n  private handlePlay() {\n    this.setState('playing')\n  }\n\n  private handlePause() {\n    this.setState('paused')\n  }\n\n  private handleError() {\n    this.setState('error')\n    const errorMessage = this.getErrorMessage()\n    this.listeners.error?.(errorMessage)\n    \n    // Attempt retry if configured\n    if (this.retryCount < this.config.retryAttempts) {\n      this.scheduleRetry()\n    }\n  }\n\n  private handleVolumeChange() {\n    if (this.audio) {\n      this.listeners.volumeChange?.(this.audio.volume)\n    }\n  }\n\n  private handleTimeUpdate() {\n    if (this.audio) {\n      const now = Date.now()\n      if (now - this.lastTimeUpdate >= this.TIME_UPDATE_THROTTLE) {\n        this.lastTimeUpdate = now\n        this.listeners.timeUpdate?.(this.audio.currentTime)\n      }\n    }\n  }\n\n  private getErrorMessage(): string {\n    if (!this.audio?.error) return 'Unknown audio error'\n    \n    switch (this.audio.error.code) {\n      case MediaError.MEDIA_ERR_ABORTED:\n        return 'Audio loading was aborted'\n      case MediaError.MEDIA_ERR_NETWORK:\n        return 'Network error occurred while loading audio'\n      case MediaError.MEDIA_ERR_DECODE:\n        return 'Audio format not supported'\n      case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:\n        return 'Audio source not supported'\n      default:\n        return 'Audio playback failed'\n    }\n  }\n\n  private scheduleRetry() {\n    setTimeout(() => {\n      if (this.audio && this.currentStation) {\n        this.retryCount++\n        console.log(`Retrying audio load (attempt ${this.retryCount}/${this.config.retryAttempts})`)\n        this.audio.load()\n      }\n    }, this.config.retryDelay)\n  }\n\n  private setState(state: AudioState) {\n    this.state = state\n    this.listeners.stateChange?.(state)\n  }\n\n  // Public API\n  public on<T extends keyof AudioPlayerEvents>(event: T, callback: AudioPlayerEvents[T]) {\n    this.listeners[event] = callback as any\n  }\n\n  public off<T extends keyof AudioPlayerEvents>(event: T) {\n    delete this.listeners[event]\n  }\n\n  public async loadStation(station: RadioStation, streamUrl?: string): Promise<void> {\n    if (!this.audio) return\n\n    this.currentStation = station\n    this.retryCount = 0\n    \n    const url = streamUrl || station.url\n    if (this.audio.src !== url) {\n      this.audio.src = url\n      this.audio.load()\n    }\n  }\n\n  public async play(): Promise<void> {\n    if (!this.audio) return\n\n    try {\n      await this.audio.play()\n    } catch (error) {\n      this.setState('error')\n      throw error\n    }\n  }\n\n  public pause(): void {\n    if (this.audio) {\n      this.audio.pause()\n    }\n  }\n\n  public setVolume(volume: number): void {\n    if (this.audio) {\n      this.audio.volume = Math.max(0, Math.min(1, volume))\n    }\n  }\n\n  public getVolume(): number {\n    return this.audio?.volume || 0\n  }\n\n  public mute(): void {\n    this.setVolume(0)\n  }\n\n  public unmute(): void {\n    this.setVolume(this.config.volume)\n  }\n\n  public getState(): AudioState {\n    return this.state\n  }\n\n  public getCurrentStation(): RadioStation | null {\n    return this.currentStation\n  }\n\n  public getAudioElement(): HTMLAudioElement | null {\n    return this.audio\n  }\n\n  public destroy(): void {\n    if (this.audio) {\n      this.audio.pause()\n      this.audio.removeAttribute('src')\n      this.audio.load()\n      this.audio = null\n    }\n    this.listeners = {}\n    this.currentStation = null\n  }\n}"],"names":["AudioService","audio","state","config","listeners","retryCount","currentStation","lastTimeUpdate","TIME_UPDATE_THROTTLE","volume","crossOrigin","preload","retryAttempts","retryDelay","initializeAudio","Audio","addEventListener","handleLoadStart","bind","handleCanPlay","handlePlay","handlePause","handleError","handleVolumeChange","handleTimeUpdate","setState","loadStart","canPlay","errorMessage","getErrorMessage","error","scheduleRetry","volumeChange","now","Date","timeUpdate","currentTime","code","MediaError","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","setTimeout","console","log","load","stateChange","on","event","callback","off","loadStation","station","streamUrl","url","src","play","pause","setVolume","Math","max","min","getVolume","mute","unmute","getState","getCurrentStation","getAudioElement","destroy","removeAttribute"],"mappings":"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"}},
    {"offset": {"line": 500, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/apps/web/src/services/radioDiscoveryService.ts"],"sourcesContent":["import { RadioStation } from '../types/index'\n\n/**\n * Enhanced Radio Discovery Service\n * Integrates with public APIs and maintains a curated list of global radio stations\n */\nexport class RadioDiscoveryService {\n  private baseUrl = 'https://de1.api.radio-browser.info/json'\n  private cache = new Map<string, any>()\n  private cacheExpiry = 5 * 60 * 1000 // 5 minutes\n\n  /**\n   * Search radio stations from Radio Browser API\n   */\n  async searchOnlineStations(query: string, limit: number = 50): Promise<RadioStation[]> {\n    const cacheKey = `search:${query}:${limit}`\n    const cached = this.getFromCache(cacheKey)\n    if (cached) return cached\n\n    try {\n      const response = await fetch(`${this.baseUrl}/stations/search`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'User-Agent': 'RadioGlobe/1.0.0'\n        },\n        body: JSON.stringify({\n          name: query,\n          limit,\n          hidebroken: true,\n          order: 'clickcount',\n          reverse: true\n        })\n      })\n\n      if (!response.ok) throw new Error('Failed to fetch stations')\n      \n      const data = await response.json()\n      const stations = this.mapRadioBrowserStations(data)\n      \n      this.setCache(cacheKey, stations)\n      return stations\n    } catch (error) {\n      console.warn('Failed to fetch online stations:', error)\n      return []\n    }\n  }\n\n  /**\n   * Get stations by country from Radio Browser API\n   */\n  async getStationsByCountry(countryCode: string, limit: number = 100): Promise<RadioStation[]> {\n    const cacheKey = `country:${countryCode}:${limit}`\n    const cached = this.getFromCache(cacheKey)\n    if (cached) return cached\n\n    try {\n      const response = await fetch(`${this.baseUrl}/stations/bycountrycodeexact/${countryCode}?limit=${limit}&hidebroken=true&order=clickcount&reverse=true`)\n      \n      if (!response.ok) throw new Error('Failed to fetch country stations')\n      \n      const data = await response.json()\n      const stations = this.mapRadioBrowserStations(data)\n      \n      this.setCache(cacheKey, stations)\n      return stations\n    } catch (error) {\n      console.warn('Failed to fetch country stations:', error)\n      return []\n    }\n  }\n\n  /**\n   * Get top stations globally\n   */\n  async getTopStations(limit: number = 100): Promise<RadioStation[]> {\n    const cacheKey = `top:${limit}`\n    const cached = this.getFromCache(cacheKey)\n    if (cached) return cached\n\n    try {\n      const response = await fetch(`${this.baseUrl}/stations/topvote/${limit}`)\n      \n      if (!response.ok) throw new Error('Failed to fetch top stations')\n      \n      const data = await response.json()\n      const stations = this.mapRadioBrowserStations(data)\n      \n      this.setCache(cacheKey, stations)\n      return stations\n    } catch (error) {\n      console.warn('Failed to fetch top stations:', error)\n      return []\n    }\n  }\n\n  /**\n   * Get stations by tag/genre\n   */\n  async getStationsByTag(tag: string, limit: number = 50): Promise<RadioStation[]> {\n    const cacheKey = `tag:${tag}:${limit}`\n    const cached = this.getFromCache(cacheKey)\n    if (cached) return cached\n\n    try {\n      const response = await fetch(`${this.baseUrl}/stations/bytag/${encodeURIComponent(tag)}?limit=${limit}&hidebroken=true&order=clickcount&reverse=true`)\n      \n      if (!response.ok) throw new Error('Failed to fetch stations by tag')\n      \n      const data = await response.json()\n      const stations = this.mapRadioBrowserStations(data)\n      \n      this.setCache(cacheKey, stations)\n      return stations\n    } catch (error) {\n      console.warn('Failed to fetch stations by tag:', error)\n      return []\n    }\n  }\n\n  /**\n   * Get stations by city from Radio Browser API\n   */\n  async getStationsByCity(city: string, limit: number = 50): Promise<RadioStation[]> {\n    const cacheKey = `city:${city}:${limit}`\n    const cached = this.getFromCache(cacheKey)\n    if (cached) return cached\n\n    try {\n      const response = await fetch(`${this.baseUrl}/stations/bycity/${encodeURIComponent(city)}?limit=${limit}&hidebroken=true&order=clickcount&reverse=true`)\n      \n      if (!response.ok) throw new Error('Failed to fetch city stations')\n      \n      const data = await response.json()\n      const stations = this.mapRadioBrowserStations(data)\n      \n      this.setCache(cacheKey, stations)\n      return stations\n    } catch (error) {\n      console.warn('Failed to fetch city stations:', error)\n      return []\n    }\n  }\n\n  /**\n   * Get available countries\n   */\n  async getCountries(): Promise<Array<{name: string, iso: string, stationcount: number}>> {\n    const cacheKey = 'countries'\n    const cached = this.getFromCache(cacheKey)\n    if (cached) return cached\n\n    try {\n      const response = await fetch(`${this.baseUrl}/countries?hidebroken=true`)\n      \n      if (!response.ok) throw new Error('Failed to fetch countries')\n      \n      const data = await response.json()\n      this.setCache(cacheKey, data, 60 * 60 * 1000) // Cache for 1 hour\n      return data\n    } catch (error) {\n      console.warn('Failed to fetch countries:', error)\n      return []\n    }\n  }\n\n  /**\n   * Get available tags/genres\n   */\n  async getTags(): Promise<Array<{name: string, stationcount: number}>> {\n    const cacheKey = 'tags'\n    const cached = this.getFromCache(cacheKey)\n    if (cached) return cached\n\n    try {\n      const response = await fetch(`${this.baseUrl}/tags?hidebroken=true&order=stationcount&reverse=true`)\n      \n      if (!response.ok) throw new Error('Failed to fetch tags')\n      \n      const data = await response.json()\n      this.setCache(cacheKey, data, 60 * 60 * 1000) // Cache for 1 hour\n      return data\n    } catch (error) {\n      console.warn('Failed to fetch tags:', error)\n      return []\n    }\n  }\n\n  /**\n   * Map Radio Browser API response to our RadioStation format\n   */\n  private mapRadioBrowserStations(data: any[]): RadioStation[] {\n    return data\n      .filter(station => station.url && station.name)\n      .map((station, index) => {\n        let lat = parseFloat(station.geo_lat) || 0\n        let lng = parseFloat(station.geo_long) || 0\n        \n        // If no coordinates, assign default location based on country\n        if (lat === 0 && lng === 0) {\n          const defaultCoords = this.getDefaultCountryCoordinates(station.country)\n          lat = defaultCoords.lat + (Math.random() - 0.5) * 2 // Add small random offset\n          lng = defaultCoords.lng + (Math.random() - 0.5) * 2\n        }\n        \n        return {\n          id: station.stationuuid || `station-${index}`,\n          name: station.name || 'Unknown Station',\n          url: station.url,\n          location: {\n            city: station.state || 'Unknown',\n            country: station.country || 'Unknown',\n            lat,\n            lng\n          },\n          genre: station.tags || station.genre || 'Various',\n          language: station.language || 'Unknown',\n          listeners: station.clickcount || 0,\n          bitrate: station.bitrate || 128,\n          description: station.homepage || '',\n          isPublic: true,\n          source: 'radio-browser' as const\n        }\n      })\n      .filter(station => station.location.lat !== 0 || station.location.lng !== 0) // Filter out stations without coordinates\n  }\n\n  /**\n   * Cache management\n   */\n  private getFromCache(key: string): any {\n    const cached = this.cache.get(key)\n    if (cached && Date.now() - cached.timestamp < this.cacheExpiry) {\n      return cached.data\n    }\n    return null\n  }\n\n  private setCache(key: string, data: any, customExpiry?: number): void {\n    this.cache.set(key, {\n      data,\n      timestamp: Date.now(),\n      expiry: customExpiry || this.cacheExpiry\n    })\n  }\n\n  /**\n   * Get default coordinates for a country\n   */\n  private getDefaultCountryCoordinates(country: string): {lat: number, lng: number} {\n    const countryDefaults: {[key: string]: {lat: number, lng: number}} = {\n      'Germany': {lat: 51.1657, lng: 10.4515},\n      'United States': {lat: 39.8283, lng: -98.5795},\n      'USA': {lat: 39.8283, lng: -98.5795},\n      'United Kingdom': {lat: 55.3781, lng: -3.4360},\n      'UK': {lat: 55.3781, lng: -3.4360},\n      'France': {lat: 46.2276, lng: 2.2137},\n      'Italy': {lat: 41.8719, lng: 12.5674},\n      'Spain': {lat: 40.4637, lng: -3.7492},\n      'Canada': {lat: 56.1304, lng: -106.3468},\n      'Australia': {lat: -25.2744, lng: 133.7751},\n      'Japan': {lat: 36.2048, lng: 138.2529},\n      'Brazil': {lat: -14.2350, lng: -51.9253},\n      'Netherlands': {lat: 52.1326, lng: 5.2913},\n      'Austria': {lat: 47.5162, lng: 14.5501},\n      'Switzerland': {lat: 46.8182, lng: 8.2275}\n    }\n    \n    return countryDefaults[country] || {lat: 0, lng: 0}\n  }\n\n  /**\n   * Calculate distance between two coordinates\n   */\n  private calculateDistance(lat1: number, lon1: number, lat2: number, lon2: number): number {\n    const R = 6371 // Earth's radius in kilometers\n    const dLat = (lat2 - lat1) * Math.PI / 180\n    const dLon = (lon2 - lon1) * Math.PI / 180\n    const a = Math.sin(dLat/2) * Math.sin(dLat/2) +\n              Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\n              Math.sin(dLon/2) * Math.sin(dLon/2)\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a))\n    return R * c\n  }\n}\n\n// Singleton instance\nexport const radioDiscoveryService = new RadioDiscoveryService()"],"names":["RadioDiscoveryService","baseUrl","cache","Map","cacheExpiry","searchOnlineStations","query","limit","cacheKey","cached","getFromCache","response","fetch","method","headers","body","JSON","stringify","name","hidebroken","order","reverse","ok","Error","data","json","stations","mapRadioBrowserStations","setCache","error","console","warn","getStationsByCountry","countryCode","getTopStations","getStationsByTag","tag","encodeURIComponent","getStationsByCity","city","getCountries","getTags","filter","station","url","map","index","lat","parseFloat","geo_lat","lng","geo_long","defaultCoords","getDefaultCountryCoordinates","country","Math","random","id","stationuuid","location","state","genre","tags","language","listeners","clickcount","bitrate","description","homepage","isPublic","source","key","get","Date","now","timestamp","customExpiry","set","expiry","countryDefaults","calculateDistance","lat1","lon1","lat2","lon2","R","dLat","PI","dLon","a","sin","cos","c","atan2","sqrt","radioDiscoveryService"],"mappings":"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"}},
    {"offset": {"line": 787, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/apps/web/src/services/radioStationService.ts"],"sourcesContent":["// import { globalRadioStations } from '../data/globalRadioStations'\nimport { RadioStation } from '../types/index'\nimport { radioDiscoveryService } from './radioDiscoveryService'\n\nexport class RadioStationService {\n  private stations: RadioStation[] = []\n  private proxyUrl = '/api/proxy/audio'\n  private discoveredStations: RadioStation[] = []\n  private isDiscoveryEnabled = true\n\n  /**\n   * Get all radio stations (curated + discovered)\n   */\n  getAllStations(): RadioStation[] {\n    return [...this.stations, ...this.discoveredStations]\n  }\n\n  /**\n   * Get curated stations only\n   */\n  getCuratedStations(): RadioStation[] {\n    return this.stations\n  }\n\n  /**\n   * Enhanced search that includes online discovery\n   */\n  async searchStations(query: string, includeOnline: boolean = true): Promise<RadioStation[]> {\n    // Search local curated stations\n    const localResults = this.searchLocalStations(query)\n    \n    if (!includeOnline || !this.isDiscoveryEnabled || !query.trim()) {\n      return localResults\n    }\n\n    try {\n      // Search online stations\n      const onlineResults = await radioDiscoveryService.searchOnlineStations(query, 30)\n      \n      // Merge and deduplicate results\n      const allResults = [...localResults]\n      const existingUrls = new Set(localResults.map(s => s.url))\n      \n      for (const station of onlineResults) {\n        if (!existingUrls.has(station.url)) {\n          allResults.push(station)\n          existingUrls.add(station.url)\n        }\n      }\n      \n      return allResults.slice(0, 100) // Limit total results\n    } catch (error) {\n      console.warn('Failed to search online stations:', error)\n      return localResults\n    }\n  }\n\n  /**\n   * Search only local curated stations\n   */\n  private searchLocalStations(query: string): RadioStation[] {\n    const searchTerm = query.toLowerCase()\n    \n    return this.stations.filter(station => \n      station.name.toLowerCase().includes(searchTerm) ||\n      station.location.city.toLowerCase().includes(searchTerm) ||\n      station.location.country.toLowerCase().includes(searchTerm) ||\n      station.genre.toLowerCase().includes(searchTerm) ||\n      station.language.toLowerCase().includes(searchTerm) ||\n      (station.description && station.description.toLowerCase().includes(searchTerm))\n    )\n  }\n\n  /**\n   * Discover stations by country with online integration\n   */\n  async getStationsByCountry(country: string, includeOnline: boolean = true): Promise<RadioStation[]> {\n    const localStations = this.stations.filter(\n      station => station.location.country.toLowerCase() === country.toLowerCase()\n    )\n\n    if (!includeOnline || !this.isDiscoveryEnabled) {\n      return localStations\n    }\n\n    try {\n      // Get country code for API call (simplified mapping)\n      const countryCode = this.getCountryCode(country)\n      if (countryCode) {\n        const onlineStations = await radioDiscoveryService.getStationsByCountry(countryCode, 50)\n        return this.mergeStationResults(localStations, onlineStations)\n      }\n    } catch (error) {\n      console.warn('Failed to fetch online stations for country:', error)\n    }\n\n    return localStations\n  }\n\n  /**\n   * Get popular/top stations with online integration\n   */\n  async getPopularStations(limit: number = 20, includeOnline: boolean = true): Promise<RadioStation[]> {\n    const localPopular = [...this.stations]\n      .sort((a, b) => b.listeners - a.listeners)\n      .slice(0, limit)\n\n    if (!includeOnline || !this.isDiscoveryEnabled) {\n      return localPopular\n    }\n\n    try {\n      const onlineTop = await radioDiscoveryService.getTopStations(limit)\n      return this.mergeStationResults(localPopular, onlineTop).slice(0, limit)\n    } catch (error) {\n      console.warn('Failed to fetch online top stations:', error)\n      return localPopular\n    }\n  }\n\n  /**\n   * Get stations by genre with online discovery\n   */\n  async getStationsByGenre(genre: string, includeOnline: boolean = true): Promise<RadioStation[]> {\n    const localStations = this.stations.filter(\n      station => station.genre.toLowerCase().includes(genre.toLowerCase())\n    )\n\n    if (!includeOnline || !this.isDiscoveryEnabled) {\n      return localStations\n    }\n\n    try {\n      const onlineStations = await radioDiscoveryService.getStationsByTag(genre, 30)\n      return this.mergeStationResults(localStations, onlineStations)\n    } catch (error) {\n      console.warn('Failed to fetch online stations by genre:', error)\n      return localStations\n    }\n  }\n\n  /**\n   * Get stations by city with online discovery\n   */\n  async getStationsByCity(city: string, includeOnline: boolean = true): Promise<RadioStation[]> {\n    const localStations = this.stations.filter(\n      station => station.location.city.toLowerCase().includes(city.toLowerCase())\n    )\n\n    if (!includeOnline || !this.isDiscoveryEnabled) {\n      return localStations\n    }\n\n    try {\n      const onlineStations = await radioDiscoveryService.getStationsByCity(city, 30)\n      return this.mergeStationResults(localStations, onlineStations)\n    } catch (error) {\n      console.warn('Failed to fetch online stations by city:', error)\n      return localStations\n    }\n  }\n\n  /**\n   * Get available countries from both sources\n   */\n  async getAvailableCountries(): Promise<Array<{name: string, code?: string, count: number}>> {\n    try {\n      const [localCountries, onlineCountries] = await Promise.all([\n        this.getLocalCountries(),\n        radioDiscoveryService.getCountries()\n      ])\n\n      // Merge country lists\n      const countryMap = new Map<string, {name: string, code?: string, count: number}>()\n      \n      localCountries.forEach(country => {\n        countryMap.set(country.name.toLowerCase(), country)\n      })\n\n      onlineCountries.forEach(country => {\n        const key = country.name.toLowerCase()\n        const existing = countryMap.get(key)\n        if (existing) {\n          existing.count += country.stationcount\n          existing.code = existing.code || country.iso\n        } else {\n          countryMap.set(key, {\n            name: country.name,\n            code: country.iso,\n            count: country.stationcount\n          })\n        }\n      })\n\n      return Array.from(countryMap.values()).sort((a, b) => b.count - a.count)\n    } catch (error) {\n      console.warn('Failed to get countries:', error)\n      return this.getLocalCountries()\n    }\n  }\n\n  /**\n   * Get available genres/tags\n   */\n  async getAvailableGenres(): Promise<Array<{name: string, count: number}>> {\n    try {\n      const [localGenres, onlineTags] = await Promise.all([\n        this.getLocalGenres(),\n        radioDiscoveryService.getTags()\n      ])\n\n      // Merge genre lists\n      const genreMap = new Map<string, number>()\n      \n      localGenres.forEach(genre => {\n        genreMap.set(genre.name.toLowerCase(), genre.count)\n      })\n\n      onlineTags.forEach(tag => {\n        const key = tag.name.toLowerCase()\n        const existing = genreMap.get(key) || 0\n        genreMap.set(key, existing + tag.stationcount)\n      })\n\n      return Array.from(genreMap.entries())\n        .map(([name, count]) => ({ \n          name: name.charAt(0).toUpperCase() + name.slice(1), \n          count \n        }))\n        .sort((a, b) => b.count - a.count)\n        .slice(0, 50) // Limit to top 50 genres\n    } catch (error) {\n      console.warn('Failed to get genres:', error)\n      return this.getLocalGenres()\n    }\n  }\n\n  /**\n   * Private helper methods\n   */\n  private mergeStationResults(local: RadioStation[], online: RadioStation[]): RadioStation[] {\n    const merged = [...local]\n    const existingUrls = new Set(local.map(s => s.url))\n\n    for (const station of online) {\n      if (!existingUrls.has(station.url)) {\n        merged.push(station)\n      }\n    }\n\n    return merged\n  }\n\n  private getLocalCountries(): Array<{name: string, count: number}> {\n    const countryCount = new Map<string, number>()\n    \n    this.stations.forEach(station => {\n      const country = station.location.country\n      countryCount.set(country, (countryCount.get(country) || 0) + 1)\n    })\n\n    return Array.from(countryCount.entries()).map(([name, count]) => ({ name, count }))\n  }\n\n  private getLocalGenres(): Array<{name: string, count: number}> {\n    const genreCount = new Map<string, number>()\n    \n    this.stations.forEach(station => {\n      const genre = station.genre\n      genreCount.set(genre, (genreCount.get(genre) || 0) + 1)\n    })\n\n    return Array.from(genreCount.entries()).map(([name, count]) => ({ name, count }))\n  }\n\n  private getCountryCode(countryName: string): string | null {\n    // Simplified country code mapping - in production, use a comprehensive library\n    const countryMap: Record<string, string> = {\n      'united states': 'US',\n      'usa': 'US',\n      'canada': 'CA',\n      'united kingdom': 'GB',\n      'uk': 'GB',\n      'germany': 'DE',\n      'france': 'FR',\n      'italy': 'IT',\n      'spain': 'ES',\n      'brazil': 'BR',\n      'japan': 'JP',\n      'australia': 'AU',\n      'netherlands': 'NL',\n      'sweden': 'SE',\n      'norway': 'NO',\n      'denmark': 'DK',\n      'finland': 'FI'\n    }\n\n    return countryMap[countryName.toLowerCase()] || null\n  }\n\n  /**\n   * Get stations by continent\n   */\n  getStationsByContinent(continent: string): RadioStation[] {\n    const continentCountries: Record<string, string[]> = {\n      'north-america': ['United States', 'Canada', 'Mexico'],\n      'south-america': ['Brazil', 'Argentina', 'Chile', 'Colombia', 'Peru'],\n      'europe': ['United Kingdom', 'France', 'Germany', 'Italy', 'Spain', 'Netherlands', 'Switzerland'],\n      'asia': ['Japan', 'South Korea', 'China', 'India', 'Singapore', 'Thailand'],\n      'africa': ['South Africa', 'Nigeria', 'Kenya', 'Egypt'],\n      'oceania': ['Australia', 'New Zealand']\n    }\n\n    const countries = continentCountries[continent.toLowerCase()] || []\n    return this.stations.filter(station => \n      countries.includes(station.location.country)\n    )\n  }\n\n  /**\n   * Get unique countries\n   */\n  getCountries(): string[] {\n    const countries = Array.from(new Set(this.stations.map(station => station.location.country)))\n    return countries.sort()\n  }\n\n  /**\n   * Get unique cities for a country\n   */\n  getCitiesInCountry(country: string): string[] {\n    const cities = this.stations\n      .filter(station => station.location.country === country)\n      .map(station => station.location.city)\n    \n    return Array.from(new Set(cities)).sort()\n  }\n\n  /**\n   * Get unique genres\n   */\n  getGenres(): string[] {\n    const genres = Array.from(new Set(this.stations.map(station => station.genre)))\n    return genres.sort()\n  }\n\n  /**\n   * Get unique languages\n   */\n  getLanguages(): string[] {\n    const languages = Array.from(new Set(this.stations.map(station => station.language)))\n    return languages.sort()\n  }\n\n  /**\n   * Get proxied stream URL to avoid CORS issues\n   */\n  getProxiedStreamUrl(station: RadioStation): string {\n    // For known CORS-free streams, return direct URL\n    const corsFreeHosts = [\n      'ice1.somafm.com',\n      'stream.srg-ssr.ch',\n      'streams.kqed.org'\n    ]\n    \n    try {\n      const url = new URL(station.url)\n      if (corsFreeHosts.some(host => url.hostname.includes(host))) {\n        return station.url\n      }\n    } catch {\n      // Invalid URL, use proxy\n    }\n    \n    // Use proxy for potentially CORS-blocked streams\n    return `${this.proxyUrl}?url=${encodeURIComponent(station.url)}`\n  }\n\n  /**\n   * Get station by ID\n   */\n  getStationById(id: string): RadioStation | undefined {\n    return this.stations.find(station => station.id === id)\n  }\n\n  /**\n   * Get random stations\n   */\n  getRandomStations(count: number = 5): RadioStation[] {\n    const shuffled = [...this.stations].sort(() => 0.5 - Math.random())\n    return shuffled.slice(0, count)\n  }\n\n  /**\n   * Calculate distance between two points (Haversine formula)\n   */\n  private calculateDistance(lat1: number, lng1: number, lat2: number, lng2: number): number {\n    const R = 6371 // Earth's radius in km\n    const dLat = this.toRad(lat2 - lat1)\n    const dLng = this.toRad(lng2 - lng1)\n    \n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n              Math.cos(this.toRad(lat1)) * Math.cos(this.toRad(lat2)) *\n              Math.sin(dLng / 2) * Math.sin(dLng / 2)\n    \n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))\n    return R * c\n  }\n\n  private toRad(degrees: number): number {\n    return degrees * (Math.PI / 180)\n  }\n}\n\n// Export singleton instance\nexport const radioStationService = new RadioStationService()"],"names":["RadioStationService","stations","proxyUrl","discoveredStations","isDiscoveryEnabled","getAllStations","getCuratedStations","searchStations","query","includeOnline","localResults","searchLocalStations","trim","onlineResults","searchOnlineStations","allResults","existingUrls","Set","map","s","url","station","has","push","add","slice","error","console","warn","searchTerm","toLowerCase","filter","name","includes","location","city","country","genre","language","description","getStationsByCountry","localStations","countryCode","getCountryCode","onlineStations","mergeStationResults","getPopularStations","limit","localPopular","sort","a","b","listeners","onlineTop","getTopStations","getStationsByGenre","getStationsByTag","getStationsByCity","getAvailableCountries","localCountries","onlineCountries","Promise","all","getLocalCountries","getCountries","countryMap","Map","forEach","set","key","existing","get","count","stationcount","code","iso","Array","from","values","getAvailableGenres","localGenres","onlineTags","getLocalGenres","getTags","genreMap","tag","entries","charAt","toUpperCase","local","online","merged","countryCount","genreCount","countryName","getStationsByContinent","continent","continentCountries","countries","getCitiesInCountry","cities","getGenres","genres","getLanguages","languages","getProxiedStreamUrl","corsFreeHosts","URL","some","host","hostname","encodeURIComponent","getStationById","id","find","getRandomStations","shuffled","Math","random","calculateDistance","lat1","lng1","lat2","lng2","R","dLat","toRad","dLng","sin","cos","c","atan2","sqrt","degrees","PI","radioStationService"],"mappings":"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"}},
    {"offset": {"line": 1162, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/apps/web/src/hooks/useModularAudio.ts"],"sourcesContent":["import { useState, useRef, useEffect, useCallback, useMemo } from 'react'\nimport { RadioStation } from '../types'\nimport { AudioService, AudioState } from '../services/audioService'\nimport { radioStationService } from '../services/radioStationService'\n\ninterface UseModularAudioOptions {\n  volume?: number\n  autoPlay?: boolean\n  retryAttempts?: number\n  retryDelay?: number\n}\n\ninterface ModularAudioState {\n  isPlaying: boolean\n  isLoading: boolean\n  error: string | null\n  volume: number\n  isMuted: boolean\n  currentTime: number\n  state: AudioState\n  currentStation: RadioStation | null\n}\n\ninterface ModularAudioActions {\n  play: () => Promise<void>\n  pause: () => void\n  setVolume: (volume: number) => void\n  toggleMute: () => void\n  loadStation: (station: RadioStation) => Promise<void>\n  clearError: () => void\n  getAudioElement: () => HTMLAudioElement | null\n}\n\nexport function useModularAudio(options: UseModularAudioOptions = {}): [ModularAudioState, ModularAudioActions] {\n  const audioServiceRef = useRef<AudioService | null>(null)\n  \n  // Memoize options to prevent infinite loops\n  const memoizedOptions = useMemo(() => ({\n    volume: options.volume || 0.7,\n    autoPlay: options.autoPlay || false,\n    retryAttempts: options.retryAttempts || 3,\n    retryDelay: options.retryDelay || 2000\n  }), [options.volume, options.autoPlay, options.retryAttempts, options.retryDelay])\n  \n  const [state, setState] = useState<ModularAudioState>(() => ({\n    isPlaying: false,\n    isLoading: false,\n    error: null,\n    volume: memoizedOptions.volume,\n    isMuted: false,\n    currentTime: 0,\n    state: 'idle',\n    currentStation: null\n  }))\n\n  // Initialize audio service\n  useEffect(() => {\n    audioServiceRef.current = new AudioService({\n      volume: memoizedOptions.volume,\n      retryAttempts: memoizedOptions.retryAttempts,\n      retryDelay: memoizedOptions.retryDelay\n    })\n\n    const service = audioServiceRef.current\n\n    // Set up event listeners\n    service.on('stateChange', (audioState) => {\n      setState(prev => ({\n        ...prev,\n        state: audioState,\n        isPlaying: audioState === 'playing',\n        isLoading: audioState === 'loading'\n      }))\n    })\n\n    service.on('error', (error) => {\n      setState(prev => ({\n        ...prev,\n        error,\n        isLoading: false,\n        isPlaying: false\n      }))\n    })\n\n    service.on('volumeChange', (volume) => {\n      setState(prev => ({\n        ...prev,\n        volume,\n        isMuted: volume === 0\n      }))\n    })\n\n    service.on('timeUpdate', (currentTime) => {\n      setState(prev => ({\n        ...prev,\n        currentTime\n      }))\n    })\n\n    return () => {\n      service.destroy()\n    }\n  }, [memoizedOptions.volume, memoizedOptions.retryAttempts, memoizedOptions.retryDelay])\n\n  const play = useCallback(async () => {\n    if (!audioServiceRef.current) return\n\n    try {\n      await audioServiceRef.current.play()\n      setState(prev => ({ ...prev, error: null }))\n    } catch (error) {\n      setState(prev => ({\n        ...prev,\n        error: 'Failed to play audio. Please try again.'\n      }))\n    }\n  }, [])\n\n  const pause = useCallback(() => {\n    if (!audioServiceRef.current) return\n    audioServiceRef.current.pause()\n  }, [])\n\n  const setVolume = useCallback((volume: number) => {\n    if (!audioServiceRef.current) return\n    audioServiceRef.current.setVolume(volume)\n  }, [])\n\n  const toggleMute = useCallback(() => {\n    if (!audioServiceRef.current) return\n    \n    if (state.isMuted) {\n      audioServiceRef.current.setVolume(state.volume > 0 ? state.volume : 0.7)\n    } else {\n      audioServiceRef.current.mute()\n    }\n  }, [state.isMuted, state.volume])\n\n  const loadStation = useCallback(async (station: RadioStation) => {\n    if (!audioServiceRef.current) return\n\n    try {\n      setState(prev => ({ \n        ...prev, \n        error: null,\n        currentStation: station\n      }))\n\n      // Get proxied URL to avoid CORS issues\n      const streamUrl = radioStationService.getProxiedStreamUrl(station)\n      \n      await audioServiceRef.current.loadStation(station, streamUrl)\n      \n      // Auto-play if enabled\n      if (memoizedOptions.autoPlay) {\n        await play()\n      }\n    } catch (error) {\n      setState(prev => ({\n        ...prev,\n        error: 'Failed to load radio station.'\n      }))\n    }\n  }, [memoizedOptions.autoPlay, play])\n\n  const clearError = useCallback(() => {\n    setState(prev => ({ ...prev, error: null }))\n  }, [])\n\n  const getAudioElement = useCallback((): HTMLAudioElement | null => {\n    return audioServiceRef.current?.getAudioElement() || null\n  }, [])\n\n  const playerState: ModularAudioState = useMemo(() => ({\n    ...state,\n    currentStation: audioServiceRef.current?.getCurrentStation() || state.currentStation\n  }), [state])\n\n  const actions: ModularAudioActions = useMemo(() => ({\n    play,\n    pause,\n    setVolume,\n    toggleMute,\n    loadStation,\n    clearError,\n    getAudioElement\n  }), [play, pause, setVolume, toggleMute, loadStation, clearError, getAudioElement])\n\n  return [playerState, actions]\n}"],"names":["useModularAudio","options","audioServiceRef","memoizedOptions","volume","autoPlay","retryAttempts","retryDelay","state","setState","isPlaying","isLoading","error","isMuted","currentTime","currentStation","current","service","on","audioState","prev","destroy","play","pause","setVolume","toggleMute","mute","loadStation","station","streamUrl","getProxiedStreamUrl","clearError","getAudioElement","playerState","getCurrentStation","actions"],"mappings":"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"}},
    {"offset": {"line": 1400, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/apps/web/src/services/audioVisualizationService.ts"],"sourcesContent":["export type VisualizationType = 'bars' | 'waveform' | 'circular' | 'particles'\n\nexport interface VisualizerConfig {\n  fftSize: number\n  smoothingTimeConstant: number\n  minDecibels: number\n  maxDecibels: number\n  backgroundColor: string\n  primaryColor: string\n  secondaryColor: string\n}\n\nexport interface VisualizerRenderer {\n  render(data: Uint8Array, canvas: HTMLCanvasElement, config: VisualizerConfig): void\n}\n\nexport class BarsRenderer implements VisualizerRenderer {\n  render(data: Uint8Array, canvas: HTMLCanvasElement, config: VisualizerConfig): void {\n    const ctx = canvas.getContext('2d')!\n    const width = canvas.width\n    const height = canvas.height\n    const barWidth = width / data.length * 2\n    \n    // Clear canvas with fade effect\n    ctx.fillStyle = config.backgroundColor\n    ctx.fillRect(0, 0, width, height)\n    \n    // Draw bars\n    for (let i = 0; i < data.length; i++) {\n      const barHeight = (data[i] / 255) * height * 0.8\n      const x = i * barWidth\n      const y = height - barHeight\n      \n      // Create gradient\n      const gradient = ctx.createLinearGradient(0, y, 0, height)\n      gradient.addColorStop(0, config.primaryColor)\n      gradient.addColorStop(0.5, config.secondaryColor)\n      gradient.addColorStop(1, config.primaryColor)\n      \n      ctx.fillStyle = gradient\n      ctx.fillRect(x, y, barWidth - 1, barHeight)\n    }\n  }\n}\n\nexport class WaveformRenderer implements VisualizerRenderer {\n  render(data: Uint8Array, canvas: HTMLCanvasElement, config: VisualizerConfig): void {\n    const ctx = canvas.getContext('2d')!\n    const width = canvas.width\n    const height = canvas.height\n    \n    // Clear canvas with fade effect\n    ctx.fillStyle = config.backgroundColor\n    ctx.fillRect(0, 0, width, height)\n    \n    // Draw waveform\n    ctx.lineWidth = 2\n    ctx.strokeStyle = config.primaryColor\n    ctx.beginPath()\n    \n    const sliceWidth = width / data.length\n    let x = 0\n    \n    for (let i = 0; i < data.length; i++) {\n      const v = data[i] / 128.0\n      const y = (v * height) / 2\n      \n      if (i === 0) {\n        ctx.moveTo(x, y)\n      } else {\n        ctx.lineTo(x, y)\n      }\n      \n      x += sliceWidth\n    }\n    \n    ctx.stroke()\n  }\n}\n\nexport class CircularRenderer implements VisualizerRenderer {\n  render(data: Uint8Array, canvas: HTMLCanvasElement, config: VisualizerConfig): void {\n    const ctx = canvas.getContext('2d')!\n    const width = canvas.width\n    const height = canvas.height\n    const centerX = width / 2\n    const centerY = height / 2\n    const radius = Math.min(width, height) * 0.3\n    \n    // Clear canvas with fade effect\n    ctx.fillStyle = config.backgroundColor\n    ctx.fillRect(0, 0, width, height)\n    \n    // Draw center circle\n    ctx.fillStyle = config.primaryColor + '40'\n    ctx.beginPath()\n    ctx.arc(centerX, centerY, radius * 0.8, 0, Math.PI * 2)\n    ctx.fill()\n    \n    // Draw circular visualization\n    const angleStep = (Math.PI * 2) / data.length\n    \n    for (let i = 0; i < data.length; i++) {\n      const amplitude = (data[i] / 255) * radius\n      const angle = i * angleStep\n      \n      const x1 = centerX + Math.cos(angle) * radius\n      const y1 = centerY + Math.sin(angle) * radius\n      const x2 = centerX + Math.cos(angle) * (radius + amplitude)\n      const y2 = centerY + Math.sin(angle) * (radius + amplitude)\n      \n      // Create gradient\n      const gradient = ctx.createLinearGradient(x1, y1, x2, y2)\n      gradient.addColorStop(0, config.primaryColor + 'CC')\n      gradient.addColorStop(1, config.secondaryColor + '66')\n      \n      ctx.strokeStyle = gradient\n      ctx.lineWidth = 2\n      ctx.beginPath()\n      ctx.moveTo(x1, y1)\n      ctx.lineTo(x2, y2)\n      ctx.stroke()\n    }\n  }\n}\n\nexport class ParticlesRenderer implements VisualizerRenderer {\n  private particles: Array<{x: number, y: number, vx: number, vy: number, life: number}> = []\n  \n  render(data: Uint8Array, canvas: HTMLCanvasElement, config: VisualizerConfig): void {\n    const ctx = canvas.getContext('2d')!\n    const width = canvas.width\n    const height = canvas.height\n    \n    // Clear canvas\n    ctx.fillStyle = config.backgroundColor\n    ctx.fillRect(0, 0, width, height)\n    \n    // Calculate average amplitude\n    const avgAmplitude = data.reduce((sum, val) => sum + val, 0) / data.length\n    \n    // Generate new particles based on audio intensity\n    if (avgAmplitude > 50) {\n      for (let i = 0; i < Math.floor(avgAmplitude / 20); i++) {\n        this.particles.push({\n          x: Math.random() * width,\n          y: height,\n          vx: (Math.random() - 0.5) * 4,\n          vy: -Math.random() * 5 - 2,\n          life: 1.0\n        })\n      }\n    }\n    \n    // Update and draw particles\n    this.particles = this.particles.filter(particle => {\n      particle.x += particle.vx\n      particle.y += particle.vy\n      particle.vy += 0.1 // gravity\n      particle.life -= 0.02\n      \n      if (particle.life > 0) {\n        ctx.fillStyle = config.primaryColor + Math.floor(particle.life * 255).toString(16).padStart(2, '0')\n        ctx.beginPath()\n        ctx.arc(particle.x, particle.y, 2, 0, Math.PI * 2)\n        ctx.fill()\n        return true\n      }\n      return false\n    })\n  }\n}\n\nexport class AudioVisualizationService {\n  private analyser: AnalyserNode | null = null\n  private dataArray: Uint8Array | null = null\n  private animationFrame: number | null = null\n  private renderers: Map<VisualizationType, VisualizerRenderer>\n  private currentRenderer: VisualizerRenderer | null = null\n  private config: VisualizerConfig\n\n  constructor(config: Partial<VisualizerConfig> = {}) {\n    this.config = {\n      fftSize: 256,\n      smoothingTimeConstant: 0.8,\n      minDecibels: -90,\n      maxDecibels: -10,\n      backgroundColor: 'rgba(0, 0, 0, 0.1)',\n      primaryColor: '#60a5fa',\n      secondaryColor: '#3b82f6',\n      ...config\n    }\n\n    this.renderers = new Map([\n      ['bars', new BarsRenderer()],\n      ['waveform', new WaveformRenderer()],\n      ['circular', new CircularRenderer()],\n      ['particles', new ParticlesRenderer()]\n    ])\n  }\n\n  public initialize(audioElement: HTMLAudioElement): boolean {\n    try {\n      const audioContext = new (window.AudioContext || (window as any).webkitAudioContext)()\n      const source = audioContext.createMediaElementSource(audioElement)\n      this.analyser = audioContext.createAnalyser()\n      \n      // Configure analyser\n      this.analyser.fftSize = this.config.fftSize\n      this.analyser.smoothingTimeConstant = this.config.smoothingTimeConstant\n      this.analyser.minDecibels = this.config.minDecibels\n      this.analyser.maxDecibels = this.config.maxDecibels\n      \n      // Connect audio graph\n      source.connect(this.analyser)\n      this.analyser.connect(audioContext.destination)\n      \n      this.dataArray = new Uint8Array(this.analyser.frequencyBinCount)\n\n      // Resume audio context if suspended\n      if (audioContext.state === 'suspended') {\n        audioContext.resume()\n      }\n\n      return true\n    } catch (error) {\n      console.warn('Audio visualization initialization failed:', error)\n      return false\n    }\n  }\n\n  public start(canvas: HTMLCanvasElement, type: VisualizationType = 'bars'): void {\n    this.currentRenderer = this.renderers.get(type) || null\n    \n    if (!this.analyser || !this.dataArray || !this.currentRenderer) {\n      return\n    }\n\n    const animate = () => {\n      if (!this.analyser || !this.dataArray || !this.currentRenderer) return\n      \n      if (this.dataArray) {\n        this.analyser.getByteFrequencyData(this.dataArray as any)\n      }\n      this.currentRenderer.render(this.dataArray, canvas, this.config)\n      \n      this.animationFrame = requestAnimationFrame(animate)\n    }\n\n    animate()\n  }\n\n  public stop(): void {\n    if (this.animationFrame) {\n      cancelAnimationFrame(this.animationFrame)\n      this.animationFrame = null\n    }\n  }\n\n  public changeType(type: VisualizationType): void {\n    this.currentRenderer = this.renderers.get(type) || null\n  }\n\n  public updateConfig(newConfig: Partial<VisualizerConfig>): void {\n    this.config = { ...this.config, ...newConfig }\n  }\n\n  public getAvailableTypes(): VisualizationType[] {\n    return Array.from(this.renderers.keys())\n  }\n\n  public destroy(): void {\n    this.stop()\n    this.analyser = null\n    this.dataArray = null\n    this.currentRenderer = null\n  }\n}"],"names":["BarsRenderer","render","data","canvas","config","ctx","getContext","width","height","barWidth","length","fillStyle","backgroundColor","fillRect","i","barHeight","x","y","gradient","createLinearGradient","addColorStop","primaryColor","secondaryColor","WaveformRenderer","lineWidth","strokeStyle","beginPath","sliceWidth","v","moveTo","lineTo","stroke","CircularRenderer","centerX","centerY","radius","Math","min","arc","PI","fill","angleStep","amplitude","angle","x1","cos","y1","sin","x2","y2","ParticlesRenderer","particles","avgAmplitude","reduce","sum","val","floor","push","random","vx","vy","life","filter","particle","toString","padStart","AudioVisualizationService","analyser","dataArray","animationFrame","renderers","currentRenderer","fftSize","smoothingTimeConstant","minDecibels","maxDecibels","Map","initialize","audioElement","audioContext","window","AudioContext","webkitAudioContext","source","createMediaElementSource","createAnalyser","connect","destination","Uint8Array","frequencyBinCount","state","resume","error","console","warn","start","type","get","animate","getByteFrequencyData","requestAnimationFrame","stop","cancelAnimationFrame","changeType","updateConfig","newConfig","getAvailableTypes","Array","from","keys","destroy"],"mappings":"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"}},
    {"offset": {"line": 1649, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/apps/web/src/components/ModularAudioVisualizer.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useRef, useState } from 'react'\nimport { motion } from 'framer-motion'\nimport { AudioVisualizationService, VisualizationType } from '../services/audioVisualizationService'\n\ninterface ModularAudioVisualizerProps {\n  audioElement?: HTMLAudioElement | null\n  isPlaying: boolean\n  className?: string\n  type?: VisualizationType\n  width?: number\n  height?: number\n  colors?: {\n    primary?: string\n    secondary?: string\n    background?: string\n  }\n}\n\nexport function ModularAudioVisualizer({ \n  audioElement, \n  isPlaying, \n  className = '',\n  type = 'bars',\n  width = 300,\n  height = 100,\n  colors = {}\n}: ModularAudioVisualizerProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n  const visualizationServiceRef = useRef<AudioVisualizationService | null>(null)\n  const [isSupported, setIsSupported] = useState(true)\n  const [currentType, setCurrentType] = useState<VisualizationType>(type)\n\n  // Initialize visualization service\n  useEffect(() => {\n    visualizationServiceRef.current = new AudioVisualizationService({\n      fftSize: type === 'waveform' ? 2048 : 256,\n      primaryColor: colors.primary || '#60a5fa',\n      secondaryColor: colors.secondary || '#3b82f6',\n      backgroundColor: colors.background || 'rgba(0, 0, 0, 0.1)'\n    })\n\n    return () => {\n      visualizationServiceRef.current?.destroy()\n    }\n  }, [type, colors.primary, colors.secondary, colors.background])\n\n  // Handle audio element changes\n  useEffect(() => {\n    if (!audioElement || !visualizationServiceRef.current) {\n      return\n    }\n\n    const success = visualizationServiceRef.current.initialize(audioElement)\n    if (!success) {\n      setIsSupported(false)\n    }\n  }, [audioElement])\n\n  // Handle playback state changes\n  useEffect(() => {\n    if (!visualizationServiceRef.current || !canvasRef.current) {\n      return\n    }\n\n    if (isPlaying && isSupported) {\n      visualizationServiceRef.current.start(canvasRef.current, currentType)\n    } else {\n      visualizationServiceRef.current.stop()\n    }\n\n    return () => {\n      visualizationServiceRef.current?.stop()\n    }\n  }, [isPlaying, isSupported, currentType])\n\n  // Handle type changes\n  useEffect(() => {\n    setCurrentType(type)\n    if (visualizationServiceRef.current) {\n      visualizationServiceRef.current.changeType(type)\n    }\n  }, [type])\n\n  if (!isSupported) {\n    return (\n      <div className={`flex items-center justify-center ${className}`}>\n        <div className=\"text-gray-500 text-sm\">\n          Audio visualization not supported\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <motion.div \n      className={`relative ${className}`}\n      initial={{ opacity: 0, scale: 0.8 }}\n      animate={{ \n        opacity: isPlaying ? 1 : 0.5, \n        scale: 1,\n        filter: isPlaying ? 'blur(0px)' : 'blur(1px)'\n      }}\n      transition={{ duration: 0.3 }}\n    >\n      <canvas\n        ref={canvasRef}\n        width={width}\n        height={height}\n        className=\"w-full h-full rounded-lg bg-black/20 backdrop-blur-sm border border-white/10\"\n        style={{\n          imageRendering: 'pixelated'\n        }}\n      />\n      \n      {/* Overlay effects */}\n      {isPlaying && (\n        <>\n          <div className=\"absolute inset-0 rounded-lg bg-gradient-to-t from-blue-500/10 to-transparent pointer-events-none\" />\n          <div className=\"absolute inset-0 rounded-lg shadow-inner pointer-events-none\" />\n        </>\n      )}\n\n      {/* Loading indicator when audio is initializing */}\n      {!isPlaying && (\n        <div className=\"absolute inset-0 flex items-center justify-center\">\n          <div className=\"flex items-center gap-2 text-gray-400 text-xs\">\n            <div className=\"w-3 h-3 border border-gray-400 border-t-transparent rounded-full animate-spin\" />\n            Ready\n          </div>\n        </div>\n      )}\n    </motion.div>\n  )\n}\n\n// Hook for easier visualization type cycling\nexport function useVisualizationType() {\n  const [type, setType] = useState<VisualizationType>('bars')\n  const types: VisualizationType[] = ['bars', 'waveform', 'circular', 'particles']\n  \n  const nextType = () => {\n    const currentIndex = types.indexOf(type)\n    const nextIndex = (currentIndex + 1) % types.length\n    setType(types[nextIndex])\n  }\n\n  const setVisualizationType = (newType: VisualizationType) => {\n    setType(newType)\n  }\n\n  return {\n    currentType: type,\n    availableTypes: types,\n    nextType,\n    setType: setVisualizationType\n  }\n}"],"names":["ModularAudioVisualizer","audioElement","isPlaying","className","type","width","height","colors","canvasRef","visualizationServiceRef","isSupported","setIsSupported","currentType","setCurrentType","current","fftSize","primaryColor","primary","secondaryColor","secondary","backgroundColor","background","destroy","success","initialize","start","stop","changeType","div","initial","opacity","scale","animate","filter","transition","duration","ref","style","imageRendering","useVisualizationType","setType","types","nextType","currentIndex","indexOf","nextIndex","length","setVisualizationType","newType","availableTypes"],"mappings":"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"}},
    {"offset": {"line": 1869, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/apps/web/src/components/ModularAudioPlayer.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { Play, Pause, Volume2, VolumeX, MoreVertical, SkipBack, SkipForward, Settings } from 'lucide-react'\nimport { useGlobeStore } from '../stores/globe-store'\nimport { useModularAudio } from '../hooks/useModularAudio'\nimport { ModularAudioVisualizer, useVisualizationType } from './ModularAudioVisualizer'\nimport { useState } from 'react'\n\ninterface ModularAudioPlayerProps {\n  className?: string\n  showVisualizer?: boolean\n  compactMode?: boolean\n  autoPlay?: boolean\n}\n\nexport function ModularAudioPlayer({ \n  className = '',\n  showVisualizer = true,\n  compactMode = false,\n  autoPlay = false\n}: ModularAudioPlayerProps) {\n  const selectedStation = useGlobeStore(state => state.selectedStation)\n  const [showSettings, setShowSettings] = useState(false)\n  const [audioState, audioActions] = useModularAudio({ autoPlay, volume: 0.7 })\n  const { currentType, availableTypes, nextType, setType } = useVisualizationType()\n\n  // Load station when selected\n  useEffect(() => {\n    if (selectedStation) {\n      audioActions.loadStation(selectedStation)\n    }\n  }, [selectedStation, audioActions.loadStation])\n\n  const formatTime = (time: number): string => {\n    const minutes = Math.floor(time / 60)\n    const seconds = Math.floor(time % 60)\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`\n  }\n\n  if (!selectedStation) {\n    return (\n      <motion.div\n        className={`glass rounded-xl p-6 text-center ${className}`}\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n      >\n        <div className=\"text-gray-400 mb-2\">\n          <Volume2 className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n        </div>\n        <p className=\"text-white text-sm mb-1\">Select a Radio Station</p>\n        <p className=\"text-gray-400 text-xs\">Click on any station marker on the globe</p>\n      </motion.div>\n    )\n  }\n\n  return (\n    <motion.div \n      className={`glass rounded-xl overflow-hidden ${compactMode ? 'p-3' : 'p-4'} ${className}`}\n      initial={{ y: 100, opacity: 0 }}\n      animate={{ y: 0, opacity: 1 }}\n      exit={{ y: 100, opacity: 0 }}\n      layout\n    >\n      {/* Station Info Header */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <div className=\"flex items-center space-x-3 flex-1 min-w-0\">\n          {!compactMode && (\n            <div className=\"flex-shrink-0\">\n              <div className=\"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\">\n                <span className=\"text-white font-bold text-sm\">\n                  {selectedStation.name.charAt(0)}\n                </span>\n              </div>\n            </div>\n          )}\n          \n          <div className=\"min-w-0 flex-1\">\n            <h3 className={`text-white font-semibold truncate ${compactMode ? 'text-sm' : ''}`}>\n              {selectedStation.name}\n            </h3>\n            <p className={`text-gray-400 truncate ${compactMode ? 'text-xs' : 'text-sm'}`}>\n              {selectedStation.location.city}, {selectedStation.location.country}  {selectedStation.genre}\n            </p>\n          </div>\n        </div>\n\n        {/* Settings Button */}\n        <motion.button\n          onClick={() => setShowSettings(!showSettings)}\n          className=\"text-white/60 hover:text-white transition-colors p-1 rounded\"\n          whileHover={{ scale: 1.1 }}\n          whileTap={{ scale: 0.9 }}\n        >\n          <Settings className=\"w-4 h-4\" />\n        </motion.button>\n      </div>\n\n      {/* Audio Visualizer */}\n      <AnimatePresence>\n        {showVisualizer && audioState.isPlaying && !compactMode && (\n          <motion.div\n            initial={{ height: 0, opacity: 0 }}\n            animate={{ height: 'auto', opacity: 1 }}\n            exit={{ height: 0, opacity: 0 }}\n            transition={{ duration: 0.3 }}\n            className=\"mb-4 overflow-hidden\"\n          >\n            <div className=\"flex items-center justify-between mb-2\">\n              <span className=\"text-white/60 text-xs\">Audio Visualization</span>\n              <div className=\"flex space-x-1\">\n                {availableTypes.map((type) => (\n                  <button\n                    key={type}\n                    onClick={() => setType(type)}\n                    className={`px-2 py-1 text-xs rounded transition-colors ${\n                      currentType === type \n                        ? 'bg-blue-500 text-white' \n                        : 'text-white/60 hover:text-white'\n                    }`}\n                  >\n                    {type}\n                  </button>\n                ))}\n              </div>\n            </div>\n            <ModularAudioVisualizer \n              audioElement={audioActions.getAudioElement()}\n              isPlaying={audioState.isPlaying}\n              type={currentType}\n              className=\"w-full\"\n              height={compactMode ? 40 : 80}\n            />\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Main Controls */}\n      <div className=\"flex items-center space-x-4\">\n        {/* Play/Pause Button */}\n        <motion.button\n          onClick={audioState.isPlaying ? audioActions.pause : audioActions.play}\n          disabled={audioState.isLoading}\n          className={`flex-shrink-0 ${compactMode ? 'w-10 h-10' : 'w-12 h-12'} bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 rounded-full flex items-center justify-center transition-all`}\n          whileHover={{ scale: 1.05 }}\n          whileTap={{ scale: 0.95 }}\n        >\n          {audioState.isLoading ? (\n            <div className={`${compactMode ? 'w-4 h-4' : 'w-5 h-5'} border-2 border-white border-t-transparent rounded-full animate-spin`} />\n          ) : audioState.isPlaying ? (\n            <Pause className={`${compactMode ? 'w-4 h-4' : 'w-5 h-5'} text-white`} />\n          ) : (\n            <Play className={`${compactMode ? 'w-4 h-4' : 'w-5 h-5'} text-white ml-0.5`} />\n          )}\n        </motion.button>\n\n        {/* Volume Control */}\n        <div className=\"flex items-center space-x-2 flex-1\">\n          <motion.button \n            onClick={audioActions.toggleMute}\n            className=\"text-white hover:text-blue-300 transition-colors\"\n            whileHover={{ scale: 1.1 }}\n          >\n            {audioState.isMuted ? (\n              <VolumeX className={compactMode ? 'w-4 h-4' : 'w-5 h-5'} />\n            ) : (\n              <Volume2 className={compactMode ? 'w-4 h-4' : 'w-5 h-5'} />\n            )}\n          </motion.button>\n          \n          <div className=\"flex-1 max-w-24\">\n            <input\n              type=\"range\"\n              min=\"0\"\n              max=\"100\"\n              value={audioState.isMuted ? 0 : audioState.volume * 100}\n              onChange={(e) => audioActions.setVolume(Number(e.target.value) / 100)}\n              className=\"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer\n                        [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 \n                        [&::-webkit-slider-thumb]:bg-blue-500 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:cursor-pointer\n                        [&::-moz-range-thumb]:w-3 [&::-moz-range-thumb]:h-3 [&::-moz-range-thumb]:bg-blue-500 [&::-moz-range-thumb]:rounded-full \n                        [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer\"\n            />\n          </div>\n          \n          <span className=\"text-white/60 text-xs min-w-8\">\n            {Math.round((audioState.isMuted ? 0 : audioState.volume) * 100)}%\n          </span>\n        </div>\n\n        {/* Now Playing Indicator */}\n        {audioState.isPlaying && !compactMode && (\n          <motion.div \n            className=\"flex items-center space-x-2\"\n            initial={{ opacity: 0, x: 20 }}\n            animate={{ opacity: 1, x: 0 }}\n          >\n            <div className=\"flex space-x-0.5\">\n              {[...Array(3)].map((_, i) => (\n                <motion.div\n                  key={i}\n                  className=\"w-1 bg-green-500 rounded-full\"\n                  animate={{\n                    height: [4, 16, 4],\n                  }}\n                  transition={{\n                    duration: 0.8,\n                    repeat: Infinity,\n                    delay: i * 0.1,\n                  }}\n                />\n              ))}\n            </div>\n            <span className=\"text-green-500 text-xs font-medium\">LIVE</span>\n          </motion.div>\n        )}\n      </div>\n\n      {/* Error Display */}\n      <AnimatePresence>\n        {audioState.error && (\n          <motion.div \n            className=\"mt-3 p-2 bg-red-500/20 border border-red-500/50 rounded text-red-300 text-sm flex items-center justify-between\"\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: 'auto' }}\n            exit={{ opacity: 0, height: 0 }}\n          >\n            <span className=\"flex-1\">{audioState.error}</span>\n            <button\n              onClick={audioActions.clearError}\n              className=\"text-red-300 hover:text-red-100 ml-2\"\n            >\n              \n            </button>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Settings Panel */}\n      <AnimatePresence>\n        {showSettings && (\n          <motion.div\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: 'auto' }}\n            exit={{ opacity: 0, height: 0 }}\n            className=\"mt-4 p-3 bg-white/5 rounded-lg border border-white/10\"\n          >\n            <div className=\"space-y-3\">\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-white text-sm\">Show Visualizer</span>\n                <button\n                  onClick={() => setShowSettings(false)}\n                  className={`w-8 h-4 rounded-full transition-colors ${\n                    showVisualizer ? 'bg-blue-500' : 'bg-gray-600'\n                  }`}\n                >\n                  <div className={`w-3 h-3 bg-white rounded-full transition-transform ${\n                    showVisualizer ? 'translate-x-4' : 'translate-x-0.5'\n                  }`} />\n                </button>\n              </div>\n              \n              <div className=\"text-xs text-gray-400\">\n                Station: {selectedStation.name}<br/>\n                Genre: {selectedStation.genre}<br/>\n                Location: {selectedStation.location.city}, {selectedStation.location.country}\n              </div>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </motion.div>\n  )\n}"],"names":["ModularAudioPlayer","className","showVisualizer","compactMode","autoPlay","selectedStation","state","showSettings","setShowSettings","audioState","audioActions","volume","currentType","availableTypes","nextType","setType","loadStation","formatTime","time","minutes","Math","floor","seconds","toString","padStart","div","initial","opacity","y","animate","exit","layout","name","charAt","location","city","country","genre","button","onClick","whileHover","scale","whileTap","isPlaying","height","transition","duration","map","type","audioElement","getAudioElement","pause","play","disabled","isLoading","toggleMute","isMuted","min","max","value","onChange","e","setVolume","Number","target","round","x","Array","_","i","repeat","Infinity","delay","error","clearError"],"mappings":"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"}},
    {"offset": {"line": 2473, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/apps/web/src/components/StationPanel.tsx"],"sourcesContent":["'use client'\n\nimport { motion } from 'framer-motion'\nimport { MapPin, Clock, Users, ExternalLink, Heart, Share2 } from 'lucide-react'\nimport { RadioStation } from '../types'\n\ninterface StationPanelProps {\n  station: RadioStation\n}\n\nexport function StationPanel({ station }: StationPanelProps) {\n  const currentTime = new Date().toLocaleTimeString('en-US', {\n    timeZone: station.location.timezone || 'UTC',\n    hour: '2-digit',\n    minute: '2-digit',\n  })\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.9 }}\n      animate={{ opacity: 1, scale: 1 }}\n      exit={{ opacity: 0, scale: 0.9 }}\n      className=\"glass rounded-xl p-6 w-80 max-w-sm\"\n    >\n      {/* Header */}\n      <div className=\"mb-4\">\n        <h3 className=\"font-bold text-xl text-white mb-2\">\n          {station.name}\n        </h3>\n        <div className=\"flex items-center gap-2 text-gray-300\">\n          <MapPin className=\"w-4 h-4\" />\n          <span>{station.location.city}, {station.location.country}</span>\n        </div>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-2 gap-4 mb-4\">\n        <div className=\"text-center p-3 bg-white/5 rounded-lg\">\n          <Users className=\"w-5 h-5 mx-auto mb-1 text-blue-400\" />\n          <div className=\"text-sm font-semibold text-white\">\n            {(station.listeners / 1000).toFixed(0)}k\n          </div>\n          <div className=\"text-xs text-gray-400\">Listeners</div>\n        </div>\n        <div className=\"text-center p-3 bg-white/5 rounded-lg\">\n          <Clock className=\"w-5 h-5 mx-auto mb-1 text-green-400\" />\n          <div className=\"text-sm font-semibold text-white\">\n            {currentTime}\n          </div>\n          <div className=\"text-xs text-gray-400\">Local Time</div>\n        </div>\n      </div>\n\n      {/* Details */}\n      <div className=\"space-y-3 mb-4\">\n        <div className=\"flex justify-between items-center\">\n          <span className=\"text-gray-400\">Genre</span>\n          <span className=\"text-white font-medium\">{station.genre}</span>\n        </div>\n        <div className=\"flex justify-between items-center\">\n          <span className=\"text-gray-400\">Language</span>\n          <span className=\"text-white font-medium\">{station.language}</span>\n        </div>\n        {station.bitrate && (\n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-gray-400\">Quality</span>\n            <span className=\"text-white font-medium\">{station.bitrate} kbps</span>\n          </div>\n        )}\n      </div>\n\n      {/* Actions */}\n      <div className=\"flex gap-2\">\n        <button className=\"flex-1 button-primary flex items-center justify-center gap-2\">\n          <Heart className=\"w-4 h-4\" />\n          Favorite\n        </button>\n        <button className=\"button-secondary flex items-center justify-center gap-2\">\n          <Share2 className=\"w-4 h-4\" />\n          Share\n        </button>\n        {station.website && (\n          <a\n            href={station.website}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"button-secondary flex items-center justify-center\"\n          >\n            <ExternalLink className=\"w-4 h-4\" />\n          </a>\n        )}\n      </div>\n    </motion.div>\n  )\n}"],"names":["StationPanel","station","currentTime","Date","toLocaleTimeString","timeZone","location","timezone","hour","minute","div","initial","opacity","scale","animate","exit","className","name","city","country","listeners","toFixed","genre","language","bitrate","website","href","target","rel"],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;;;;AAUO,SAASA,aAAa,EAAEC,OAAO,EAAqB;IACzD,MAAMC,cAAc,IAAIC,OAAOC,kBAAkB,CAAC,SAAS;QACzDC,UAAUJ,QAAQK,QAAQ,CAACC,QAAQ,IAAI;QACvCC,MAAM;QACNC,QAAQ;IACV;IAEA,qBACE,4MAAC,uLAAM,CAACC,GAAG;QACTC,SAAS;YAAEC,SAAS;YAAGC,OAAO;QAAI;QAClCC,SAAS;YAAEF,SAAS;YAAGC,OAAO;QAAE;QAChCE,MAAM;YAAEH,SAAS;YAAGC,OAAO;QAAI;QAC/BG,WAAU;;0BAGV,4MAAC;gBAAIA,WAAU;;kCACb,4MAAC;wBAAGA,WAAU;kCACXf,QAAQgB,IAAI;;;;;;kCAEf,4MAAC;wBAAID,WAAU;;0CACb,4MAAC,uNAAM;gCAACA,WAAU;;;;;;0CAClB,4MAAC;;oCAAMf,QAAQK,QAAQ,CAACY,IAAI;oCAAC;oCAAGjB,QAAQK,QAAQ,CAACa,OAAO;;;;;;;;;;;;;;;;;;;0BAK5D,4MAAC;gBAAIH,WAAU;;kCACb,4MAAC;wBAAIA,WAAU;;0CACb,4MAAC,gNAAK;gCAACA,WAAU;;;;;;0CACjB,4MAAC;gCAAIA,WAAU;;oCACZ,CAACf,QAAQmB,SAAS,GAAG,IAAI,EAAEC,OAAO,CAAC;oCAAG;;;;;;;0CAEzC,4MAAC;gCAAIL,WAAU;0CAAwB;;;;;;;;;;;;kCAEzC,4MAAC;wBAAIA,WAAU;;0CACb,4MAAC,gNAAK;gCAACA,WAAU;;;;;;0CACjB,4MAAC;gCAAIA,WAAU;0CACZd;;;;;;0CAEH,4MAAC;gCAAIc,WAAU;0CAAwB;;;;;;;;;;;;;;;;;;0BAK3C,4MAAC;gBAAIA,WAAU;;kCACb,4MAAC;wBAAIA,WAAU;;0CACb,4MAAC;gCAAKA,WAAU;0CAAgB;;;;;;0CAChC,4MAAC;gCAAKA,WAAU;0CAA0Bf,QAAQqB,KAAK;;;;;;;;;;;;kCAEzD,4MAAC;wBAAIN,WAAU;;0CACb,4MAAC;gCAAKA,WAAU;0CAAgB;;;;;;0CAChC,4MAAC;gCAAKA,WAAU;0CAA0Bf,QAAQsB,QAAQ;;;;;;;;;;;;oBAE3DtB,QAAQuB,OAAO,kBACd,4MAAC;wBAAIR,WAAU;;0CACb,4MAAC;gCAAKA,WAAU;0CAAgB;;;;;;0CAChC,4MAAC;gCAAKA,WAAU;;oCAA0Bf,QAAQuB,OAAO;oCAAC;;;;;;;;;;;;;;;;;;;0BAMhE,4MAAC;gBAAIR,WAAU;;kCACb,4MAAC;wBAAOA,WAAU;;0CAChB,4MAAC,gNAAK;gCAACA,WAAU;;;;;;4BAAY;;;;;;;kCAG/B,4MAAC;wBAAOA,WAAU;;0CAChB,4MAAC,uNAAM;gCAACA,WAAU;;;;;;4BAAY;;;;;;;oBAG/Bf,QAAQwB,OAAO,kBACd,4MAAC;wBACCC,MAAMzB,QAAQwB,OAAO;wBACrBE,QAAO;wBACPC,KAAI;wBACJZ,WAAU;kCAEV,cAAA,4MAAC,yOAAY;4BAACA,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAMpC;KApFgBhB"}},
    {"offset": {"line": 2794, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/apps/web/src/components/SearchPanel.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { Search, MapPin, Volume2, Heart, Share, Globe, Music, Radio } from 'lucide-react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { RadioStation } from '../types'\nimport { useGlobeStore } from '../stores/globe-store'\nimport { radioStationService } from '../services/radioStationService'\n\ninterface SearchPanelProps {\n  className?: string\n}\n\nexport function SearchPanel({ className = '' }: SearchPanelProps) {\n  const [isOpen, setIsOpen] = useState(false)\n  const [searchTerm, setSearchTerm] = useState('')\n  const [searchResults, setSearchResults] = useState<RadioStation[]>([])\n  const [popularStations, setPopularStations] = useState<RadioStation[]>([])\n  const [isLoading, setIsLoading] = useState(false)\n  const [searchFilter, setSearchFilter] = useState<'all' | 'genre' | 'country' | 'city'>('all')\n  const { selectStation } = useGlobeStore()\n\n  // Load popular stations once\n  useEffect(() => {\n    const fetchPopular = async () => {\n      try {\n        const stations = await radioStationService.getPopularStations(8)\n        setPopularStations(stations)\n      } catch (error) {\n        console.error('Failed to load popular stations:', error)\n      }\n    }\n    fetchPopular()\n  }, [])\n\n  // Enhanced search with filters\n  useEffect(() => {\n    let timer: NodeJS.Timeout\n\n    if (searchTerm.length > 2) {\n      setIsLoading(true)\n      \n      timer = setTimeout(async () => {\n        let results: RadioStation[] = []\n        \n        try {\n          switch (searchFilter) {\n            case 'genre':\n              results = await radioStationService.getStationsByGenre(searchTerm)\n              break\n            case 'country':\n              results = await radioStationService.getStationsByCountry(searchTerm)\n              break\n            case 'city':\n              results = await radioStationService.getStationsByCity(searchTerm)\n              break\n            default:\n              results = await radioStationService.searchStations(searchTerm)\n          }\n          \n          setSearchResults(results.slice(0, 10)) // Limit results\n        } catch (error) {\n          console.error('Search error:', error)\n          setSearchResults([])\n        } finally {\n          setIsLoading(false)\n        }\n      }, 300)\n    } else {\n      setSearchResults([])\n      setIsLoading(false)\n    }\n\n    return () => {\n      if (timer) clearTimeout(timer)\n    }\n  }, [searchTerm, searchFilter])\n\n  const handleStationSelect = (station: RadioStation) => {\n    selectStation(station)\n    setIsOpen(false)\n    setSearchTerm('')\n    setSearchResults([])\n  }\n\n  return (\n    <div className={`relative ${className}`}>\n      {/* Search Input */}\n      <motion.div \n        className=\"flex items-center\"\n        whileHover={{ scale: 1.02 }}\n      >\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-3 w-4 h-4 text-gray-400\" />\n          <input\n            type=\"text\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            onFocus={() => setIsOpen(true)}\n            placeholder=\"Search radio stations...\"\n            className=\"glass pl-10 pr-4 py-2 w-64 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n          {isLoading && (\n            <div className=\"absolute right-3 top-3\">\n              <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n            </div>\n          )}\n        </div>\n      </motion.div>\n\n      {/* Search Results Dropdown */}\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -10 }}\n            className=\"absolute top-full left-0 mt-2 w-80 glass rounded-xl overflow-hidden z-50 max-h-96 overflow-y-auto\"\n          >\n            {/* Search Filters */}\n            <div className=\"p-3 border-b border-white/10\">\n              <div className=\"flex gap-2\">\n                {['all', 'genre', 'country', 'city'].map((filter) => (\n                  <button\n                    key={filter}\n                    onClick={() => setSearchFilter(filter as any)}\n                    className={`px-3 py-1 text-xs rounded-full transition-colors ${\n                      searchFilter === filter \n                        ? 'bg-blue-500 text-white' \n                        : 'bg-white/10 text-gray-300 hover:bg-white/20'\n                    }`}\n                  >\n                    {filter.charAt(0).toUpperCase() + filter.slice(1)}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Search Results */}\n            {searchResults.length > 0 && (\n              <div className=\"p-2\">\n                <div className=\"text-xs text-gray-400 px-2 py-1\">\n                  {searchResults.length} stations found\n                </div>\n                {searchResults.map((station) => (\n                  <motion.button\n                    key={station.id}\n                    onClick={() => handleStationSelect(station)}\n                    className=\"w-full p-3 text-left hover:bg-white/10 rounded-lg transition-colors\"\n                    whileHover={{ scale: 1.02 }}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center flex-shrink-0\">\n                        <Radio className=\"w-5 h-5 text-white\" />\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"font-medium text-white text-sm truncate\">\n                          {station.name}\n                        </div>\n                        <div className=\"text-xs text-gray-400 flex items-center gap-2\">\n                          <MapPin className=\"w-3 h-3\" />\n                          {station.location.city}, {station.location.country}\n                          <span className=\"bg-blue-500/20 text-blue-300 px-1.5 py-0.5 rounded text-xs\">\n                            {station.genre}\n                          </span>\n                        </div>\n                      </div>\n                      <div className=\"text-xs text-gray-500\">\n                        {(station.listeners / 1000).toFixed(0)}k\n                      </div>\n                    </div>\n                  </motion.button>\n                ))}\n              </div>\n            )}\n\n            {/* Popular Stations (when no search) */}\n            {searchTerm.length === 0 && popularStations.length > 0 && (\n              <div className=\"p-2\">\n                <div className=\"text-xs text-gray-400 px-2 py-2 flex items-center gap-2\">\n                  <Music className=\"w-3 h-3\" />\n                  Popular Stations\n                </div>\n                {popularStations.map((station) => (\n                  <motion.button\n                    key={station.id}\n                    onClick={() => handleStationSelect(station)}\n                    className=\"w-full p-3 text-left hover:bg-white/10 rounded-lg transition-colors\"\n                    whileHover={{ scale: 1.02 }}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0\">\n                        <span className=\"text-white text-xs font-bold\">\n                          {station.name.charAt(0)}\n                        </span>\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"font-medium text-white text-sm truncate\">\n                          {station.name}\n                        </div>\n                        <div className=\"text-xs text-gray-400\">\n                          {station.location.city}, {station.location.country}\n                        </div>\n                      </div>\n                      <div className=\"text-xs text-green-400\">\n                        {(station.listeners / 1000).toFixed(0)}k\n                      </div>\n                    </div>\n                  </motion.button>\n                ))}\n              </div>\n            )}\n\n            {/* No Results */}\n            {searchTerm.length > 2 && searchResults.length === 0 && !isLoading && (\n              <div className=\"p-6 text-center text-gray-400\">\n                <Globe className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n                <div className=\"text-sm\">No stations found</div>\n                <div className=\"text-xs\">Try searching by genre or country</div>\n              </div>\n            )}\n\n            {/* Close Button */}\n            <div className=\"p-2 border-t border-white/10\">\n              <button\n                onClick={() => {\n                  setIsOpen(false)\n                  setSearchTerm('')\n                }}\n                className=\"w-full py-2 text-xs text-gray-400 hover:text-white transition-colors\"\n              >\n                Close\n              </button>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Click outside to close */}\n      {isOpen && (\n        <div \n          className=\"fixed inset-0 z-40\" \n          onClick={() => {\n            setIsOpen(false)\n            setSearchTerm('')\n          }}\n        />\n      )}\n    </div>\n  )\n}"],"names":["SearchPanel","className","isOpen","setIsOpen","searchTerm","setSearchTerm","searchResults","setSearchResults","popularStations","setPopularStations","isLoading","setIsLoading","searchFilter","setSearchFilter","selectStation","fetchPopular","stations","getPopularStations","error","console","timer","length","setTimeout","results","getStationsByGenre","getStationsByCountry","getStationsByCity","searchStations","slice","clearTimeout","handleStationSelect","station","div","whileHover","scale","type","value","onChange","e","target","onFocus","placeholder","initial","opacity","y","animate","exit","map","filter","onClick","charAt","toUpperCase","button","name","location","city","country","genre","listeners","toFixed","id"],"mappings":"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"}},
    {"offset": {"line": 3298, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/apps/web/src/components/StationDirectory.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useMemo } from 'react'\nimport { motion } from 'framer-motion'\nimport { Globe, Radio, MapPin, Play, Pause, Volume2, Clock } from 'lucide-react'\nimport { RadioStation } from '../types'\nimport { useGlobeStore } from '../stores/globe-store'\nimport { radioStationService } from '../services/radioStationService'\n\ninterface StationDirectoryProps {\n  className?: string\n}\n\nexport function StationDirectory({ className = '' }: StationDirectoryProps) {\n  const [selectedRegion, setSelectedRegion] = useState<string>('all')\n  const [sortBy, setSortBy] = useState<'name' | 'listeners' | 'genre'>('listeners')\n  const { selectedStation, selectStation, markers } = useGlobeStore()\n\n  // Organize stations by continent/region\n  const stationsByRegion = useMemo(() => {\n    const allStations = markers.map(marker => marker.station)\n    \n    const regionMap: Record<string, RadioStation[]> = {\n      'North America': allStations.filter(s => \n        ['United States', 'Canada', 'Mexico'].includes(s.location.country)\n      ),\n      'Europe': allStations.filter(s => \n        ['United Kingdom', 'France', 'Germany', 'Netherlands', 'Switzerland', 'Spain', 'Italy'].includes(s.location.country)\n      ),\n      'Asia': allStations.filter(s => \n        ['Japan', 'South Korea', 'Singapore', 'China', 'India'].includes(s.location.country)\n      ),\n      'Oceania': allStations.filter(s => \n        ['Australia', 'New Zealand'].includes(s.location.country)\n      ),\n      'South America': allStations.filter(s => \n        ['Brazil', 'Argentina', 'Chile', 'Colombia'].includes(s.location.country)\n      ),\n      'Africa': allStations.filter(s => \n        ['South Africa', 'Nigeria', 'Egypt', 'Kenya'].includes(s.location.country)\n      )\n    }\n\n    // Sort stations within each region\n    Object.keys(regionMap).forEach(region => {\n      regionMap[region].sort((a, b) => {\n        switch (sortBy) {\n          case 'name':\n            return a.name.localeCompare(b.name)\n          case 'listeners':\n            return b.listeners - a.listeners\n          case 'genre':\n            return a.genre.localeCompare(b.genre)\n          default:\n            return 0\n        }\n      })\n    })\n\n    return regionMap\n  }, [sortBy])\n\n  const displayStations = selectedRegion === 'all' \n    ? Object.values(stationsByRegion).flat()\n    : stationsByRegion[selectedRegion] || []\n\n  const regions = Object.keys(stationsByRegion)\n\n  return (\n    <motion.div \n      className={`glass rounded-xl overflow-hidden ${className}`}\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n    >\n      {/* Header */}\n      <div className=\"p-4 border-b border-white/10\">\n        <div className=\"flex items-center gap-3 mb-4\">\n          <Globe className=\"w-6 h-6 text-blue-400\" />\n          <h2 className=\"text-xl font-bold text-white\">Radio Stations Directory</h2>\n        </div>\n        \n        {/* Filters */}\n        <div className=\"flex flex-wrap gap-3\">\n          {/* Region Filter */}\n          <div className=\"flex gap-1\">\n            <button\n              onClick={() => setSelectedRegion('all')}\n              className={`px-3 py-1 text-xs rounded-full transition-colors ${\n                selectedRegion === 'all' \n                  ? 'bg-blue-500 text-white' \n                  : 'bg-white/10 text-gray-300 hover:bg-white/20'\n              }`}\n            >\n              All Regions\n            </button>\n            {regions.map((region) => (\n              <button\n                key={region}\n                onClick={() => setSelectedRegion(region)}\n                className={`px-3 py-1 text-xs rounded-full transition-colors ${\n                  selectedRegion === region \n                    ? 'bg-blue-500 text-white' \n                    : 'bg-white/10 text-gray-300 hover:bg-white/20'\n                }`}\n              >\n                {region}\n              </button>\n            ))}\n          </div>\n          \n          {/* Sort Filter */}\n          <div className=\"flex gap-1 ml-auto\">\n            {(['listeners', 'name', 'genre'] as const).map((sort) => (\n              <button\n                key={sort}\n                onClick={() => setSortBy(sort)}\n                className={`px-3 py-1 text-xs rounded-full transition-colors ${\n                  sortBy === sort \n                    ? 'bg-green-500 text-white' \n                    : 'bg-white/10 text-gray-300 hover:bg-white/20'\n                }`}\n              >\n                {sort.charAt(0).toUpperCase() + sort.slice(1)}\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Station List */}\n      <div className=\"max-h-96 overflow-y-auto\">\n        {selectedRegion === 'all' ? (\n          // Show by regions when \"all\" is selected\n          regions.map((region) => (\n            stationsByRegion[region].length > 0 && (\n              <div key={region} className=\"border-b border-white/5 last:border-b-0\">\n                <div className=\"p-3 bg-white/5\">\n                  <h3 className=\"text-sm font-medium text-white flex items-center gap-2\">\n                    <MapPin className=\"w-4 h-4 text-blue-400\" />\n                    {region}\n                    <span className=\"text-xs text-gray-400\">({stationsByRegion[region].length} stations)</span>\n                  </h3>\n                </div>\n                {stationsByRegion[region].slice(0, 5).map((station) => (\n                  <StationListItem\n                    key={station.id}\n                    station={station}\n                    isSelected={selectedStation?.id === station.id}\n                    onSelect={() => selectStation(station)}\n                  />\n                ))}\n              </div>\n            )\n          ))\n        ) : (\n          // Show all stations in selected region\n          displayStations.map((station) => (\n            <StationListItem\n              key={station.id}\n              station={station}\n              isSelected={selectedStation?.id === station.id}\n              onSelect={() => selectStation(station)}\n            />\n          ))\n        )}\n\n        {displayStations.length === 0 && (\n          <div className=\"p-8 text-center text-gray-400\">\n            <Radio className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n            <div className=\"text-sm\">No stations found</div>\n            <div className=\"text-xs\">Try selecting a different region</div>\n          </div>\n        )}\n      </div>\n\n      {/* Footer Stats */}\n      <div className=\"p-3 border-t border-white/10 bg-white/5\">\n        <div className=\"flex justify-between text-xs text-gray-400\">\n          <span>\n            Showing {displayStations.length} stations\n          </span>\n          <span>\n            Total: {Object.values(stationsByRegion).flat().length} worldwide\n          </span>\n        </div>\n      </div>\n    </motion.div>\n  )\n}\n\ninterface StationListItemProps {\n  station: RadioStation\n  isSelected: boolean\n  onSelect: () => void\n}\n\nfunction StationListItem({ station, isSelected, onSelect }: StationListItemProps) {\n  return (\n    <motion.div\n      className={`p-3 border-b border-white/5 last:border-b-0 cursor-pointer transition-colors ${\n        isSelected ? 'bg-blue-500/20 border-blue-500/30' : 'hover:bg-white/10'\n      }`}\n      onClick={onSelect}\n      whileHover={{ scale: 1.01 }}\n      whileTap={{ scale: 0.99 }}\n    >\n      <div className=\"flex items-center gap-3\">\n        {/* Station Icon */}\n        <div className={`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${\n          isSelected \n            ? 'bg-blue-500 text-white' \n            : 'bg-gradient-to-r from-purple-500 to-blue-600 text-white'\n        }`}>\n          {isSelected ? (\n            <Play className=\"w-5 h-5\" />\n          ) : (\n            <Radio className=\"w-5 h-5\" />\n          )}\n        </div>\n\n        {/* Station Info */}\n        <div className=\"flex-1 min-w-0\">\n{/* Remove isLive check since property doesn't exist */}\n            <div className=\"flex items-center gap-2\">\n              <h3 className={`font-medium text-sm truncate ${\n                isSelected ? 'text-blue-300' : 'text-white'\n              }`}>\n                {station.name}\n              </h3>\n          </div>\n          \n          <div className=\"flex items-center gap-2 text-xs text-gray-400\">\n            <MapPin className=\"w-3 h-3\" />\n            <span>{station.location.city}, {station.location.country}</span>\n            <span className=\"w-1 h-1 bg-gray-400 rounded-full\"></span>\n            <span className=\"bg-gray-600/50 text-gray-300 px-1.5 py-0.5 rounded\">\n              {station.genre}\n            </span>\n          </div>\n        </div>\n\n        {/* Stats */}\n        <div className=\"flex items-center gap-3 text-xs text-gray-400\">\n          <div className=\"flex items-center gap-1\">\n            <Volume2 className=\"w-3 h-3\" />\n            <span>{(station.listeners / 1000).toFixed(0)}k</span>\n          </div>\n        </div>\n      </div>\n    </motion.div>\n  )\n}"],"names":["StationDirectory","className","selectedRegion","setSelectedRegion","sortBy","setSortBy","selectedStation","selectStation","markers","stationsByRegion","allStations","map","marker","station","regionMap","filter","s","includes","location","country","Object","keys","forEach","region","sort","a","b","name","localeCompare","listeners","genre","displayStations","values","flat","regions","div","initial","opacity","y","animate","onClick","charAt","toUpperCase","slice","length","StationListItem","isSelected","id","onSelect","whileHover","scale","whileTap","city","toFixed"],"mappings":"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"}},
    {"offset": {"line": 3817, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/apps/web/src/components/UserPanel.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { User, Settings, LogOut, Heart, History, Globe } from 'lucide-react'\nimport { motion, AnimatePresence } from 'framer-motion'\n\nexport function UserPanel() {\n  const [isOpen, setIsOpen] = useState(false)\n  const [isLoggedIn, setIsLoggedIn] = useState(false) // Mock auth state\n\n  if (!isLoggedIn) {\n    return (\n      <div className=\"flex gap-2\">\n        <button className=\"button-secondary text-sm\">\n          Sign In\n        </button>\n        <button className=\"button-primary text-sm\">\n          Sign Up\n        </button>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"relative\">\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"flex items-center gap-3 p-3 glass rounded-lg hover:bg-white/20 transition-colors\"\n      >\n        <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\n          <User className=\"w-4 h-4 text-white\" />\n        </div>\n        <div className=\"text-left\">\n          <div className=\"text-sm font-medium text-white\">John Doe</div>\n          <div className=\"text-xs text-gray-400\">Premium</div>\n        </div>\n      </button>\n\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            initial={{ opacity: 0, scale: 0.95, y: -10 }}\n            animate={{ opacity: 1, scale: 1, y: 0 }}\n            exit={{ opacity: 0, scale: 0.95, y: -10 }}\n            className=\"absolute right-0 top-full mt-2 w-64 glass rounded-xl overflow-hidden z-50\"\n          >\n            <div className=\"p-4 border-b border-white/10\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\n                  <User className=\"w-6 h-6 text-white\" />\n                </div>\n                <div>\n                  <div className=\"font-medium text-white\">John Doe</div>\n                  <div className=\"text-sm text-gray-400\">john@example.com</div>\n                  <div className=\"text-xs text-blue-400\">Premium Member</div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"p-2\">\n              <button className=\"w-full flex items-center gap-3 p-3 hover:bg-white/10 rounded-lg transition-colors\">\n                <Heart className=\"w-4 h-4 text-gray-400\" />\n                <span className=\"text-white\">Favorites</span>\n                <span className=\"ml-auto text-xs text-gray-400\">24</span>\n              </button>\n              \n              <button className=\"w-full flex items-center gap-3 p-3 hover:bg-white/10 rounded-lg transition-colors\">\n                <History className=\"w-4 h-4 text-gray-400\" />\n                <span className=\"text-white\">Listening History</span>\n              </button>\n              \n              <button className=\"w-full flex items-center gap-3 p-3 hover:bg-white/10 rounded-lg transition-colors\">\n                <Globe className=\"w-4 h-4 text-gray-400\" />\n                <span className=\"text-white\">Discover</span>\n              </button>\n              \n              <div className=\"border-t border-white/10 my-2\"></div>\n              \n              <button className=\"w-full flex items-center gap-3 p-3 hover:bg-white/10 rounded-lg transition-colors\">\n                <Settings className=\"w-4 h-4 text-gray-400\" />\n                <span className=\"text-white\">Settings</span>\n              </button>\n              \n              <button className=\"w-full flex items-center gap-3 p-3 hover:bg-white/10 rounded-lg transition-colors text-red-400\">\n                <LogOut className=\"w-4 h-4\" />\n                <span>Sign Out</span>\n              </button>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Click outside to close */}\n      {isOpen && (\n        <div\n          className=\"fixed inset-0 z-40\"\n          onClick={() => setIsOpen(false)}\n        />\n      )}\n    </div>\n  )\n}"],"names":["UserPanel","isOpen","setIsOpen","isLoggedIn","setIsLoggedIn","className","onClick","div","initial","opacity","scale","y","animate","exit"],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;;;AAJA;;;;AAMO,SAASA;;IACd,MAAM,CAACC,QAAQC,UAAU,GAAG,IAAA,wLAAQ,EAAC;IACrC,MAAM,CAACC,YAAYC,cAAc,GAAG,IAAA,wLAAQ,EAAC,OAAO,kBAAkB;;IAEtE,IAAI,CAACD,YAAY;QACf,qBACE,4MAAC;YAAIE,WAAU;;8BACb,4MAAC;oBAAOA,WAAU;8BAA2B;;;;;;8BAG7C,4MAAC;oBAAOA,WAAU;8BAAyB;;;;;;;;;;;;IAKjD;IAEA,qBACE,4MAAC;QAAIA,WAAU;;0BACb,4MAAC;gBACCC,SAAS,IAAMJ,UAAU,CAACD;gBAC1BI,WAAU;;kCAEV,4MAAC;wBAAIA,WAAU;kCACb,cAAA,4MAAC,6MAAI;4BAACA,WAAU;;;;;;;;;;;kCAElB,4MAAC;wBAAIA,WAAU;;0CACb,4MAAC;gCAAIA,WAAU;0CAAiC;;;;;;0CAChD,4MAAC;gCAAIA,WAAU;0CAAwB;;;;;;;;;;;;;;;;;;0BAI3C,4MAAC,+MAAe;0BACbJ,wBACC,4MAAC,uLAAM,CAACM,GAAG;oBACTC,SAAS;wBAAEC,SAAS;wBAAGC,OAAO;wBAAMC,GAAG,CAAC;oBAAG;oBAC3CC,SAAS;wBAAEH,SAAS;wBAAGC,OAAO;wBAAGC,GAAG;oBAAE;oBACtCE,MAAM;wBAAEJ,SAAS;wBAAGC,OAAO;wBAAMC,GAAG,CAAC;oBAAG;oBACxCN,WAAU;;sCAEV,4MAAC;4BAAIA,WAAU;sCACb,cAAA,4MAAC;gCAAIA,WAAU;;kDACb,4MAAC;wCAAIA,WAAU;kDACb,cAAA,4MAAC,6MAAI;4CAACA,WAAU;;;;;;;;;;;kDAElB,4MAAC;;0DACC,4MAAC;gDAAIA,WAAU;0DAAyB;;;;;;0DACxC,4MAAC;gDAAIA,WAAU;0DAAwB;;;;;;0DACvC,4MAAC;gDAAIA,WAAU;0DAAwB;;;;;;;;;;;;;;;;;;;;;;;sCAK7C,4MAAC;4BAAIA,WAAU;;8CACb,4MAAC;oCAAOA,WAAU;;sDAChB,4MAAC,gNAAK;4CAACA,WAAU;;;;;;sDACjB,4MAAC;4CAAKA,WAAU;sDAAa;;;;;;sDAC7B,4MAAC;4CAAKA,WAAU;sDAAgC;;;;;;;;;;;;8CAGlD,4MAAC;oCAAOA,WAAU;;sDAChB,4MAAC,sNAAO;4CAACA,WAAU;;;;;;sDACnB,4MAAC;4CAAKA,WAAU;sDAAa;;;;;;;;;;;;8CAG/B,4MAAC;oCAAOA,WAAU;;sDAChB,4MAAC,gNAAK;4CAACA,WAAU;;;;;;sDACjB,4MAAC;4CAAKA,WAAU;sDAAa;;;;;;;;;;;;8CAG/B,4MAAC;oCAAIA,WAAU;;;;;;8CAEf,4MAAC;oCAAOA,WAAU;;sDAChB,4MAAC,yNAAQ;4CAACA,WAAU;;;;;;sDACpB,4MAAC;4CAAKA,WAAU;sDAAa;;;;;;;;;;;;8CAG/B,4MAAC;oCAAOA,WAAU;;sDAChB,4MAAC,uNAAM;4CAACA,WAAU;;;;;;sDAClB,4MAAC;sDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAQfJ,wBACC,4MAAC;gBACCI,WAAU;gBACVC,SAAS,IAAMJ,UAAU;;;;;;;;;;;;AAKnC;GA/FgBF;KAAAA"}},
    {"offset": {"line": 4182, "column": 0}, "map": {"version":3,"sources":["file:///Users/ezekiel.mogaka/Desktop/Code/radio-globe-next/apps/web/src/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { CesiumGlobe } from '../components/CesiumGlobe'\nimport { ModularAudioPlayer } from '../components/ModularAudioPlayer'\nimport { StationPanel } from '../components/StationPanel'\nimport { SearchPanel } from '../components/SearchPanel'\nimport { StationDirectory } from '../components/StationDirectory'\nimport { UserPanel } from '../components/UserPanel'\nimport { useGlobeStore } from '../stores/globe-store'\n// import { globalRadioStations } from '../data/globalRadioStations'\nimport { radioDiscoveryService } from '../services/radioDiscoveryService'\nimport { motion } from 'framer-motion'\nimport { Radio, Menu, X, List } from 'lucide-react'\n\nexport default function Home() {\n  const { selectedStation, addMarker, markers } = useGlobeStore()\n  const [isMobile, setIsMobile] = useState(false)\n  const [showDirectory, setShowDirectory] = useState(false)\n  const [showMobileMenu, setShowMobileMenu] = useState(false)\n\n  // Detect mobile device and screen size\n  useEffect(() => {\n    const checkIfMobile = () => {\n      setIsMobile(window.innerWidth < 768 || 'ontouchstart' in window)\n    }\n    \n    checkIfMobile()\n    window.addEventListener('resize', checkIfMobile)\n    return () => window.removeEventListener('resize', checkIfMobile)\n  }, [])\n\n  return (\n    <main className=\"relative h-screen w-screen overflow-hidden bg-black\">\n      {/* 3D Globe with Cesium */}\n      <div className=\"absolute inset-0\">\n        <CesiumGlobe />\n      </div>\n\n      {/* Top Bar */}\n      <motion.div \n        className=\"absolute top-0 left-0 right-0 z-40 p-4\"\n        initial={{ y: -100 }}\n        animate={{ y: 0 }}\n        transition={{ delay: 0.5 }}\n      >\n        <div className=\"flex items-center justify-between\">\n          {/* Logo */}\n          <motion.div \n            className=\"flex items-center gap-3\"\n            whileHover={{ scale: 1.05 }}\n          >\n            <div className=\"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center\">\n              <Radio className=\"w-6 h-6 text-white\" />\n            </div>\n            <div className=\"hidden md:block\">\n              <h1 className=\"text-2xl font-bold text-white\">Radio Globe</h1>\n              <p className=\"text-sm text-gray-400\">Discover global radio stations</p>\n            </div>\n          </motion.div>\n\n          {/* Desktop Navigation */}\n          {!isMobile && (\n            <div className=\"flex items-center gap-4\">\n              <SearchPanel />\n              <motion.button\n                onClick={() => setShowDirectory(!showDirectory)}\n                className={`glass px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ${\n                  showDirectory ? 'bg-blue-500/20 text-blue-300' : 'text-white hover:bg-white/10'\n                }`}\n                whileHover={{ scale: 1.05 }}\n              >\n                <List className=\"w-4 h-4\" />\n                <span className=\"text-sm\">Directory</span>\n              </motion.button>\n            </div>\n          )}\n\n          {/* Mobile Menu Button */}\n          {isMobile && (\n            <motion.button\n              onClick={() => setShowMobileMenu(!showMobileMenu)}\n              className=\"glass p-3 rounded-lg text-white\"\n              whileHover={{ scale: 1.05 }}\n            >\n              {showMobileMenu ? <X className=\"w-5 h-5\" /> : <Menu className=\"w-5 h-5\" />}\n            </motion.button>\n          )}\n        </div>\n      </motion.div>\n\n      {/* Station Directory Panel */}\n      {showDirectory && !isMobile && (\n        <motion.div\n          className=\"absolute top-20 left-4 z-50 w-96\"\n          initial={{ x: -400, opacity: 0 }}\n          animate={{ x: 0, opacity: 1 }}\n          exit={{ x: -400, opacity: 0 }}\n        >\n          <StationDirectory />\n        </motion.div>\n      )}\n\n      {/* Station Info Panel */}\n      {selectedStation && (\n        <motion.div\n          className={`absolute ${isMobile ? 'bottom-20 left-3 right-3' : 'top-20 left-4'} z-50`}\n          initial={{ x: isMobile ? 0 : -400, y: isMobile ? 100 : 0, opacity: 0 }}\n          animate={{ x: 0, y: 0, opacity: 1 }}\n          exit={{ x: isMobile ? 0 : -400, y: isMobile ? 100 : 0, opacity: 0 }}\n        >\n          <StationPanel station={selectedStation} />\n        </motion.div>\n      )}\n\n      {/* Bottom Controls */}\n      <motion.div \n        className=\"absolute bottom-0 left-0 right-0 z-40\"\n        initial={{ y: 100 }}\n        animate={{ y: 0 }}\n        transition={{ delay: 0.7 }}\n      >\n        <div className=\"p-4\">\n          <div className=\"flex items-center justify-between\">\n            {/* User Panel - Desktop */}\n            {!isMobile && <UserPanel />}\n\n            {/* Audio Player */}\n            <div className=\"flex-1 max-w-2xl mx-4\">\n              <ModularAudioPlayer \n                showVisualizer={!isMobile} \n                compactMode={isMobile}\n                autoPlay={false}\n              />\n            </div>\n\n            {/* Mobile Controls */}\n            {isMobile && (\n              <div className=\"flex items-center gap-2\">\n                <motion.button\n                  onClick={() => setShowDirectory(!showDirectory)}\n                  className={`glass p-3 rounded-lg transition-colors ${\n                    showDirectory ? 'bg-blue-500/20 text-blue-300' : 'text-white'\n                  }`}\n                  whileHover={{ scale: 1.05 }}\n                >\n                  <List className=\"w-5 h-5\" />\n                </motion.button>\n              </div>\n            )}\n\n            {/* Desktop Stats */}\n            {!isMobile && (\n              <div className=\"glass px-4 py-2 rounded-lg flex-shrink-0\">\n                <div className=\"text-xs text-gray-400\">\n                  Global Stations\n                </div>\n                <div className=\"text-lg font-bold text-white\">\n                  {markers.length}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </motion.div>\n\n      {/* Mobile Menu Overlay */}\n      {showMobileMenu && isMobile && (\n        <motion.div\n          className=\"absolute inset-0 z-50\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n        >\n          <div className=\"absolute inset-0 bg-black/80\" onClick={() => setShowMobileMenu(false)} />\n          <motion.div\n            className=\"absolute top-0 right-0 h-full w-80 glass p-6\"\n            initial={{ x: 320 }}\n            animate={{ x: 0 }}\n            exit={{ x: 320 }}\n          >\n            <div className=\"space-y-6\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-xl font-bold text-white\">Menu</h2>\n                <button\n                  onClick={() => setShowMobileMenu(false)}\n                  className=\"p-2 hover:bg-white/10 rounded-lg transition-colors\"\n                >\n                  <X className=\"w-5 h-5 text-white\" />\n                </button>\n              </div>\n              \n              <div className=\"space-y-4\">\n                <SearchPanel />\n                \n                <motion.button\n                  onClick={() => {\n                    setShowDirectory(!showDirectory)\n                    setShowMobileMenu(false)\n                  }}\n                  className=\"w-full glass p-4 rounded-lg flex items-center gap-3 text-left\"\n                  whileHover={{ scale: 1.02 }}\n                >\n                  <List className=\"w-5 h-5 text-blue-400\" />\n                  <div>\n                    <div className=\"font-medium text-white\">Station Directory</div>\n                    <div className=\"text-xs text-gray-400\">Browse all stations</div>\n                  </div>\n                </motion.button>\n\n                <UserPanel />\n              </div>\n            </div>\n          </motion.div>\n        </motion.div>\n      )}\n\n      {/* Mobile Directory Overlay */}\n      {showDirectory && isMobile && (\n        <motion.div\n          className=\"absolute inset-0 z-50\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n        >\n          <div className=\"absolute inset-0 bg-black/80\" onClick={() => setShowDirectory(false)} />\n          <motion.div\n            className=\"absolute top-20 bottom-20 left-4 right-4 rounded-xl overflow-hidden\"\n            initial={{ scale: 0.8, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            exit={{ scale: 0.8, opacity: 0 }}\n          >\n            <StationDirectory />\n          </motion.div>\n        </motion.div>\n      )}\n\n      {/* Loading Screen */}\n      <motion.div \n        className=\"absolute inset-0 z-50 bg-black flex items-center justify-center\"\n        initial={{ opacity: 1 }}\n        animate={{ opacity: 0 }}\n        transition={{ delay: 1, duration: 0.5 }}\n        style={{ pointerEvents: 'none' }}\n      >\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-white text-lg\">Loading Radio Globe...</p>\n          <p className=\"text-gray-400 text-sm\">Connecting to global stations...</p>\n        </div>\n      </motion.div>\n    </main>\n  )\n}"],"names":["Home","selectedStation","addMarker","markers","isMobile","setIsMobile","showDirectory","setShowDirectory","showMobileMenu","setShowMobileMenu","checkIfMobile","window","innerWidth","addEventListener","removeEventListener","className","div","initial","y","animate","transition","delay","whileHover","scale","button","onClick","x","opacity","exit","station","showVisualizer","compactMode","autoPlay","length","duration","style","pointerEvents"],"mappings":"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"}}]
}